"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[3148],{83148:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var r=n(29439),s=n(72791),a=n(87781),c=n(93433),o=n(95273),i=n(92546),l=(0,o.oM)({name:"providerList/state",initialState:{selectedRows:[],selectedRow:[],deleteMode:""},reducers:{setSelectedRows:function(e,t){e.selectedRows=t.payload},setSelectedRow:function(e,t){e.selectedRow=t.payload},addRowItem:function(e,t){var n=t.payload,r=(0,i.Vk)(e);if(!r.selectedRows.includes(n))return{selectedRows:[].concat((0,c.Z)(r.selectedRows),(0,c.Z)(n))}},removeRowItem:function(e,t){var n=t.payload,r=(0,i.Vk)(e);if(r.selectedRows.includes(n))return{selectedRows:r.selectedRows.filter((function(e){return e!==n}))}},setDeleteMode:function(e,t){e.deleteMode=t.payload}}}),d=l.actions,u=d.setSelectedRows,f=d.setSelectedRow,m=d.addRowItem,x=d.removeRowItem,v=(d.toggleDeleteConfirmation,d.setDeleteMode),p=l.reducer,h=n(18187),b=(0,a.UY)({state:p,data:h.ZP}),C=n(69564),g=n(7869),j=n(4942),w=n(74165),y=n(15861),A=n(50662),k=n(58617),I=(n(30948),n(16030)),_=n(23532),N=n(57689),E=n(58121),S=n.n(E),R=(n(97892),n(16856)),D=n(78820),T=n(17425),Z=n(39126),z=n(45709),V=n(54110),P=n(80184),L={ACTIVE:{label:"Active",dotClass:"bg-black-400",textClass:"text-black-400",backgroundColor:"bg-[#F5F5F5]"},SUBMITTED:{label:"Submitted",dotClass:"bg-blue-400",textClass:"text-black-400",backgroundColor:"bg-[#F0F7FF]"},IN_ACTIVE:{label:"Inactive",dotClass:"bg-blue-400",textClass:"text-black-400",backgroundColor:"bg-[#F5F5F5]"}},F=function(e){var t=e.actionPermissions,n=(0,s.useState)(!1),a=(0,r.Z)(n,2),c=a[0],o=a[1],i=(0,s.useState)(""),l=(0,r.Z)(i,2),d=l[0],f=l[1],v=(0,s.useRef)(null),p=(0,I.I0)(),b=function(){var e=(0,y.Z)((0,w.Z)().mark((function e(){var t;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="ACTIVE"===d.acc_status?"IN_ACTIVE":"ACTIVE",e.next=3,(0,z.Qc)(d.id,t);case 3:e.sent.data.success&&("ACTIVE"===t?(o(!1),(0,V.By)("success","Activated successfully")):(o(!1),(0,V.By)("success","Deactivated successfully")));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){var n=e.row,r=((0,I.I0)(),(0,_.Z)().textTheme),a=(0,N.s0)(),c=(0,s.useCallback)((function(){a("/app/sales/order-details/".concat(n.id))}),[a,n]),i="ACTIVE"!=n.acc_status?"green":"rose",l="ACTIVE"!=n.acc_status?T.vUq:T.qGf,d={color:"grey",pointerEvents:"none"},u=(t.canAdd,t.canEdit),m=t.canView,x=t.canActivate,v=t.canClone;t.canApprove;return(0,P.jsxs)("div",{className:"flex justify-start text-lg",children:[(0,P.jsx)(A.u,{title:"Edit",children:(0,P.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(r),onClick:function(){a("/account-new-providers/edit",{state:{data:n,mode:"EDIT"}})},style:u?null:d,children:(0,P.jsx)(R.U$P,{})})}),(0,P.jsx)(A.u,{title:"Clone",children:(0,P.jsx)("span",{className:"cursor-pointer p-1  hover:".concat(r),onClick:function(){a("/account-new-providers/edit",{state:{data:n,mode:"ADD"}})},style:v?null:d,children:(0,P.jsx)(D.$OG,{})})}),(0,P.jsx)(A.u,{title:"View",children:(0,P.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(r),onClick:c,style:m?null:d,children:(0,P.jsx)(k.Vvo,{})})}),(0,P.jsx)(A.u,{title:"".concat("ACTIVE"!=n.acc_status?"Activate":"Deactivate"),children:(0,P.jsx)("span",{className:"cursor-pointer p-1 text-".concat(i,"-800 hover:text-").concat(i,"-800"),onClick:function(){o(!0),f(n)},style:x?null:d,children:(0,P.jsx)(l,{})})})]})},E=(0,I.v9)((function(e){return e.providerList.data.tableData})),F=E.pageIndex,O=E.pageSize,q=E.sort,M=E.query,U=(E.total,E.sort_field),B=E.order,K=(0,I.v9)((function(e){return e.providerList.data.loading})),G=(0,I.v9)((function(e){var t;return null===(t=e.providerList.data.orderList)||void 0===t?void 0:t.res})),H=(0,I.v9)((function(e){var t;return null===(t=e.providerList.data.orderList)||void 0===t?void 0:t.total})),Q=(0,I.v9)((function(e){return e.auth.user})),Y=Q.enterAccount,$=(Q.password,Q.rememberMe,Q.usernameOrEmail,(0,I.v9)((function(e){var t,n;return null===(t=e.providerList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.parentAccountList})));(0,s.useEffect)((function(){var e=function(){var e=(0,y.Z)((0,w.Z)().mark((function e(){return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p((0,h.AU)({page_no:F-1,page_size:O,sort_field:U||"id",unq_id:Y,order:B}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),p((0,h.Nq)({enterAccount:Y}))}),[p,F,O,q,c,M,Y,U,B]),(0,s.useEffect)((function(){var e;v&&(null===(e=v.current)||void 0===e||e.resetSelected())}),[G]),(0,s.useEffect)((function(){p((0,h.hy)(Y))}),[]);var J=(0,s.useMemo)((function(){return{pageIndex:F,pageSize:O,sort:q,query:M,total:H}}),[F,O,q,M,H]),W=(0,s.useMemo)((function(){return[{header:"Actions",flex:1,id:"action",cell:function(e){return(0,P.jsx)(C,{row:e.row.original})}},{header:"Provider ID",accessorKey:"acc_unq_id"},{header:"Provider Title",accessorKey:"acc_name"},{header:"Operator ",accessorKey:"acc_parent",cell:function(e){var t=e.row.original.acc_parent;return(0,P.jsx)("span",{children:(0,V.ZP)(t,$)})}},{header:" Email ID ",accessorKey:"acc_email_id"},{header:"Address",accessorKey:"acc_add_l1"},{header:"Status",accessorKey:"acc_status",flex:1,cell:function(e){var t,n,r=e.row.original.acc_status;return(0,P.jsx)("div",{className:"flex items-center",children:(0,P.jsxs)("span",{className:"flex ml-2 rtl:mr-2 capitalize font-semibold rounded-full border ".concat(null===(t=L[r])||void 0===t?void 0:t.backgroundColor," mt-4 px-2 py-1 text-").concat(null===(n=L[r])||void 0===n?void 0:n.dotClass),children:["ACTIVE"===r&&(0,P.jsx)(T.vUq,{className:"mt-1 mr-2 text-[#3B8C59]"}),"IN_ACTIVE"===r&&(0,P.jsx)(T.qGf,{className:"mt-1 mr-2 text-[#FF0000]"}),"SUBMITTED"===r&&(0,P.jsx)(Z.LHN,{className:"mt-1 mr-2 text-blue-500"}),L[r].label]})})}}]}),[$]),X=(0,s.useCallback)((function(e,t){if(e){var n=t.map((function(e){return e.original})),r=[];n.forEach((function(e){r.push(e.id)})),p(u(r))}else p(u([]))}),[p]);return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(g.wQ,{ref:v,columns:W,data:G,loading:K,pagingData:J,onPaginationChange:function(e){var t=S()(J);t.pageIndex=e,p((0,h.N3)(t))},onSelectChange:function(e){var t=S()(J);t.pageSize=Number(e),t.pageIndex=1,p((0,h.N3)(t))},onSort:function(e){var t=S()(J),n=(0,V.TD)(e.key);t.sort_field=n,t.order=e.order,p((0,h.N3)(t))},onCheckBoxChange:function(e,t){p(e?m([t.id]):x(t.id))},onIndeterminateCheckBoxChange:X,selectable:!0}),(0,P.jsxs)(A.Vq,{isOpen:c,onClose:function(){return o(!1)},children:[(0,P.jsx)("h6",{style:(0,j.Z)({fontStyle:"normal",fontSize:700},"fontSize","18px"),children:"ACTIVE"!=d.acc_status?"Activate":"Deactivate"}),(0,P.jsx)("hr",{className:"text-gary-500 mt-4 mb-4"}),(0,P.jsx)("p",{children:"ACTIVE"!=d.acc_status?"Are you sure you want to activate this provider ?":"Are you sure you want to deactivate this provider ?"}),(0,P.jsxs)("div",{className:"mt-6 text-end",children:[(0,P.jsx)(A.zx,{style:{backgroundColor:"#4D4D4D",color:"white"},className:"mr-3",onClick:function(){return o(!1)},children:"No"}),(0,P.jsx)(A.zx,{variant:"solid",onClick:function(){return b()},children:"Yes"})]})]})]})},O=n(48573),q=n.n(O),M=function(){var e=(0,I.I0)(),t=(0,I.v9)((function(e){return e.auth.user})),n=t.enterAccount,r=(t.password,t.rememberMe,t.usernameOrEmail,(0,s.useRef)()),a=(0,I.v9)((function(e){return e.providerList.data.tableData})),c=q()((function(e){var t=S()(a);t.page_no=a.pageIndex-1,t.page_size=a.pageSize,t.unq_id=n,t.sort_field=a.sort_field,"string"===typeof e&&e.length>1&&o(t);"string"===typeof e&&0===e.length&&o(t)}),500);var o=function(t){e((0,h.N3)(t)),e((0,h.AU)(t))};return(0,P.jsx)(A.II,{ref:r,className:"lg:w-52",size:"sm",placeholder:"Search",prefix:(0,P.jsx)(k.O6C,{className:"text-lg"}),onChange:function(e){c(e.target.value)}})},U=n(11087),B=function(){return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(A.zx,{size:"sm",className:"block md:inline-block ltr:md:ml-2 rtl:md:mr-2 md:mb-0 mb-4",icon:(0,P.jsx)(k.Yv7,{}),onClick:function(){},children:"Filter"})})},K=function(e){var t=e.actionPermissions.canAdd;return(0,P.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center",children:[(0,P.jsx)(M,{}),(0,P.jsx)(B,{}),(0,P.jsx)(U.rU,{className:"block lg:inline-block md:mx-2 md:mb-0 mb-4",target:"_blank",download:!0,children:(0,P.jsx)(A.zx,{block:!0,size:"sm",icon:(0,P.jsx)(k.H_7,{}),children:"Export"})}),(0,P.jsx)(U.rU,{className:"block lg:inline-block md:mx-2 md:mb-0 mb-4",target:"_blank",download:!0,children:(0,P.jsx)(A.zx,{block:!0,size:"sm",icon:(0,P.jsx)(R.cgG,{}),children:"Columns"})}),(0,P.jsx)(U.rU,{className:"block lg:inline-block md:mb-0 mb-4",to:"/account-new-providers",children:(0,P.jsx)(A.zx,{block:!0,variant:"solid",style:(0,j.Z)({fontStyle:"normal",fontSize:500},"fontSize","18px"),size:"sm",icon:(0,P.jsx)(k.yEd,{}),disabled:!t,children:"Create"})})]})},G=function(){var e=(0,I.I0)(),t=(0,I.v9)((function(e){return e.providerList.state.selectedRows})),n=(0,I.v9)((function(e){return e.providerList.state.selectedRow})),r=(0,I.v9)((function(e){return e.providerList.state.deleteMode})),s=(0,I.v9)((function(e){return e.providerList.data.tableData})),a=function(){e(v("")),"single"===r&&e(f([]))},c=function(){var s=(0,y.Z)((0,w.Z)().mark((function s(){var a,c;return(0,w.Z)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(e(v("")),"single"!==r){s.next=7;break}return s.next=4,(0,h.RT)({id:n});case 4:a=s.sent,o(a),e(f([]));case 7:if("batch"!==r){s.next=13;break}return s.next=10,(0,h.RT)({id:t});case 10:c=s.sent,o(c,t.length),e(u([]));case 13:case"end":return s.stop()}}),s)})));return function(){return s.apply(this,arguments)}}(),o=function(t,n){t&&(e((0,h.AU)(s)),A.Am.push((0,P.jsxs)(A.P_,{title:"Successfuly Deleted",type:"success",duration:2500,children:["single"===r&&"Order ","batch"===r&&"".concat(n," orders "),"successfuly deleted"]}),{placement:"top-center"}))};return(0,P.jsx)(g.QH,{isOpen:"single"===r||"batch"===r,onClose:a,onRequestClose:a,type:"danger",title:"Delete product",onCancel:a,onConfirm:c,confirmButtonColor:"red-600",children:(0,P.jsx)("p",{children:"Are you sure you want to delete this order? All record related to this order will be deleted as well. This action cannot be undone."})})};(0,C.fn)("providerList",b);var H=function(){var e=(0,I.v9)((function(e){return e.auth.user})).permissionsList,t=(0,s.useState)(e.includes("ACCPROADD")),n=(0,r.Z)(t,2),a=n[0],c=(n[1],(0,s.useState)(e.includes("ACCPROEDI"))),o=(0,r.Z)(c,2),i=o[0],l=(o[1],(0,s.useState)(e.includes("ACCPROVIE"))),d=(0,r.Z)(l,2),u=d[0],f=(d[1],(0,s.useState)(e.includes("ACCPRODEA"))),m=(0,r.Z)(f,2),x=m[0],v=(m[1],(0,s.useState)(e.includes("ACCPROCLO"))),p=(0,r.Z)(v,2),h=p[0],b=(p[1],(0,s.useState)(e.includes("ACCPROAPP"))),C=(0,r.Z)(b,2),j=C[0],w=(C[1],{canAdd:a,canEdit:i,canClone:h,canView:u,canActivate:x,canApprove:j});return(0,P.jsxs)(g.lG,{className:"h-full",bodyClass:"h-full",children:[(0,P.jsxs)("div",{className:"lg:flex items-center justify-between mb-4",children:[(0,P.jsx)("h3",{className:"mb-4 lg:mb-0",children:"Providers"}),(0,P.jsx)(K,{actionPermissions:w})]}),(0,P.jsx)(F,{actionPermissions:w}),(0,P.jsx)(G,{})]})}}}]);
//# sourceMappingURL=3148.d6bd04d6.chunk.js.map