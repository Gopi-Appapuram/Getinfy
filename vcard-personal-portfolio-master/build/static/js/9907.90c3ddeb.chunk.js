(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[9907],{79907:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return U}});var r=n(29439),a=n(72791),o=n(87781),s=n(93433),i=n(95273),c=n(92546),l=(0,i.oM)({name:"doctypeList/state",initialState:{selectedRows:[],selectedRow:[],deleteMode:""},reducers:{setSelectedRows:function(e,t){e.selectedRows=t.payload},setSelectedRow:function(e,t){e.selectedRow=t.payload},addRowItem:function(e,t){var n=t.payload,r=(0,c.Vk)(e);if(!r.selectedRows.includes(n))return{selectedRows:[].concat((0,s.Z)(r.selectedRows),(0,s.Z)(n))}},removeRowItem:function(e,t){var n=t.payload,r=(0,c.Vk)(e);if(r.selectedRows.includes(n))return{selectedRows:r.selectedRows.filter((function(e){return e!==n}))}},setDeleteMode:function(e,t){e.deleteMode=t.payload}}}),u=l.actions,d=u.setSelectedRows,f=(u.setSelectedRow,u.addRowItem),v=u.removeRowItem,m=(u.toggleDeleteConfirmation,u.setDeleteMode,l.reducer),p=n(60463),x=(0,o.UY)({state:m,data:p.ZP}),h=n(69564),g=n(7869),C=n(58617),b=n(50662),y=n(16030),j=n(48573),w=n.n(j),_=n(58121),I=n.n(_),k=n(80184),N=function(){var e=(0,y.I0)(),t=(0,a.useRef)(),n=(0,y.v9)((function(e){return e.prodCatList.data.tableData})),r=(0,y.v9)((function(e){return e.auth.user})),o=r.enterAccount,s=(r.password,r.rememberMe,r.usernameOrEmail,w()((function(e){var t=I()(n);t.page_no=n.pageIndex-1,t.page_size=n.pageSize,t.unq_id=o,t.sort_field=n.sort_field,"string"===typeof e&&e.length>1&&i(t);"string"===typeof e&&0===e.length&&i(t)}),500));var i=function(t){e((0,p.N3)(t)),e((0,p.$F)(t))};return(0,k.jsx)(b.II,{ref:t,className:"lg:w-52",size:"sm",placeholder:"Search",prefix:(0,k.jsx)(C.O6C,{className:"text-lg"}),onChange:function(e){s(e.target.value)}})},D=n(11087),A=function(){return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(b.zx,{size:"sm",className:"block md:inline-block ltr:md:ml-2 rtl:md:mr-2 md:mb-0 mb-4",icon:(0,k.jsx)(C.Yv7,{}),onClick:function(){},children:"Filter"})})},S=function(e){var t=e.actionPermissions.canAdd;return(0,k.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center",children:[(0,k.jsx)(N,{}),(0,k.jsx)(A,{}),(0,k.jsx)(D.rU,{className:"block lg:inline-block md:mx-2 md:mb-0 mb-4",target:"_blank",download:!0,children:(0,k.jsx)(b.zx,{block:!0,size:"sm",icon:(0,k.jsx)(C.H_7,{}),children:"Export"})}),(0,k.jsx)(D.rU,{className:"block lg:inline-block md:mb-0 mb-4",to:"/masterData-new-product-category",children:(0,k.jsxs)(b.zx,{block:!0,variant:"solid",disabled:!t,className:"flex justify-center pt-[6px] gap-1",size:"sm",children:[(0,k.jsx)("p",{className:"pt-[2px]",children:(0,k.jsx)(C.yEd,{})}),"Add Product Category"]})})]})},E=n(74165),T=n(15861),R=n(23532),V=n(57689),M=n(16856),P=n(17425),Z=n(39126),z=n(11696),F=n(54110),L={ACTIVE:{label:"Active",dotClass:"bg-black-500",textClass:"text-black-500",backgroundColor:"bg-[#F5F5F5]"},SUBMITTED:{label:"Submitted",dotClass:"bg-blue-500",textClass:"text-black-500",backgroundColor:"bg-[#F0F7FF]"},IN_ACTIVE:{label:"Inactive",dotClass:"bg-blue-500",textClass:"text-black-500",backgroundColor:"bg- [#F5F5F5]"}},q=function(e){var t=e.actionPermissions,n=(0,a.useState)(!1),o=(0,r.Z)(n,2),s=o[0],i=o[1],c=(0,a.useRef)(null),l=(0,y.I0)(),u=(0,y.v9)((function(e){return e.prodCatList.data.tableData})),m=u.pageIndex,x=u.pageSize,h=u.sort,j=u.query,w=(u.total,u.sort_field),_=u.order,N=(0,y.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.user})).unq_id,D=(0,y.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.prodCatList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.loading})),A=(0,a.useState)(""),S=(0,r.Z)(A,2),q=S[0],U=S[1],B=(0,y.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.prodCatList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.productCatList})),O=(0,y.v9)((function(e){var t,n,r;return null===e||void 0===e||null===(t=e.prodCatList)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.tableData)||void 0===r?void 0:r.total})),$=(0,a.useCallback)((function(){}),[]),K=((0,y.v9)((function(e){var t,n;return null===(t=e.doctypeList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.parentAccountList})),function(e){var n=e.row,r=(0,R.Z)().textTheme,o=(0,V.s0)(),s=(0,a.useCallback)((function(){o("/masterData-new-product-category",{state:{data:n,mode:"EDIT"}})}),[o,n]),c="ACTIVE"!==n.md_pro_cat_status?"green":"rose",l="ACTIVE"!==n.md_pro_cat_status?P.vUq:P.qGf,u={color:"grey",pointerEvents:"none"},d=(t.canAdd,t.canEdit),f=t.canView,v=t.canActivate;t.canClone,t.canApprove;return(0,k.jsxs)("div",{className:"text-lg",children:[(0,k.jsx)(b.u,{title:"Edit",children:(0,k.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(r),onClick:s,style:d?null:u,children:(0,k.jsx)(M.U$P,{})})}),(0,k.jsx)(b.u,{title:"View",children:(0,k.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(r),style:f?null:u,children:(0,k.jsx)(C.Vvo,{})})}),(0,k.jsx)(b.u,{title:"".concat("ACTIVE"!==n.md_pro_cat_status?"Activate":"Deactivate"),children:(0,k.jsx)("span",{className:"cursor-pointer p-1 text-".concat(c,"-800 hover:text-").concat(c,"-800"),onClick:function(){i(!0),U(n)},style:v?null:u,children:(0,k.jsx)(l,{})})})]})}),G=function(){var e=(0,T.Z)((0,E.Z)().mark((function e(){var t;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="ACTIVE"===q.md_pro_cat_status?"IN_ACTIVE":"ACTIVE",e.next=3,(0,z.jK)(q.id,t);case 3:e.sent.data.success&&("ACTIVE"===t?(i(!1),(0,F.By)("success","Activated successfully")):(i(!1),(0,F.By)("success","Deactivated successfully")));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,a.useEffect)((function(){var e=function(){var e=(0,T.Z)((0,E.Z)().mark((function e(){return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l((0,p.$F)({page_no:m-1,page_size:x,sort_field:w||"id",unqId:N,order:_}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[l,$,m,x,h,s,w,_]),(0,a.useEffect)((function(){var e;c&&(null===(e=c.current)||void 0===e||e.resetSelected())}),[B]);var Y=(0,a.useMemo)((function(){return{pageIndex:m,pageSize:x,sort:h,query:j,total:O}}),[m,x,h,j,O]),H=(0,a.useMemo)((function(){return[{header:"Actions",id:"action",cell:function(e){return(0,k.jsx)(K,{row:e.row.original})}},{header:"Operator",accessorKey:"acc_name"},{header:"Product Category Title",accessorKey:"prod_cat_title"},{header:"Status",accessorKey:"md_pro_cat_status",cell:function(e){var t,n,r,a=e.row.original.md_pro_cat_status;return(0,k.jsx)("div",{className:"flex items-center",children:(0,k.jsxs)("span",{className:"flex ml-2 rtl:mr-2 capitalize font-semibold rounded-full border ".concat(null===(t=L[a])||void 0===t?void 0:t.backgroundColor," mt-4 px-2 py-1 text-").concat(null===(n=L[a])||void 0===n?void 0:n.dotClass),children:["ACTIVE"===a&&(0,k.jsx)(P.vUq,{className:"mt-1 mr-2 text-[#3B8C59]"}),"IN_ACTIVE"===a&&(0,k.jsx)(P.qGf,{className:"mt-1 mr-2 text-[#FF0000]"}),"SUBMITTED"===a&&(0,k.jsx)(Z.LHN,{className:"mt-1 mr-2 text-blue-500"}),null===(r=L[a])||void 0===r?void 0:r.label]})})}}]}),[]),W=(0,a.useCallback)((function(e,t){if(e){var n=t.map((function(e){return e.original})),r=[];n.forEach((function(e){r.push(e.id)})),l(d(r))}else l(d([]))}),[l]);return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(g.wQ,{ref:c,columns:H,data:B,loading:D,pagingData:Y,onPaginationChange:function(e){var t=I()(Y);t.pageIndex=e,l((0,p.N3)(t))},onSelectChange:function(e){var t=I()(Y);t.pageSize=Number(e),t.pageIndex=1,l((0,p.N3)(t))},onSort:function(e){var t=I()(Y),n=(0,F.TD)(e.key);t.sort_field=n,t.order=e.order,l((0,p.N3)(t))},onCheckBoxChange:function(e,t){l(e?f([t.id]):v(t.id))},onIndeterminateCheckBoxChange:W,selectable:!0}),(0,k.jsxs)(b.Vq,{isOpen:s,onClose:function(){return i(!1)},children:[(0,k.jsx)("h6",{style:{fontStyle:"normal",fontSize:"18px"},children:"ACTIVE"!==q.md_pro_cat_status?"Activate":"Deactivate"}),(0,k.jsx)("hr",{className:"text-gary-500 mt-4 mb-4"}),(0,k.jsx)("p",{children:"ACTIVE"!==q.md_pro_cat_status?"Are you sure you want to activate this product category ?":"Are you sure you want to deactivate this product category ?"}),(0,k.jsxs)("div",{className:"mt-6 text-end",children:[(0,k.jsx)(b.zx,{style:{backgroundColor:"#4D4D4D",color:"white"},className:"mr-3",onClick:function(){return i(!1)},children:"No"}),(0,k.jsx)(b.zx,{variant:"solid",onClick:function(){return G()},children:"Yes"})]})]})]})};(0,h.fn)("prodCatList",x);var U=function(){var e=(0,y.v9)((function(e){return e.auth.user})).permissionsList,t=(0,a.useState)(e.includes("MSDPRDCADD")),n=(0,r.Z)(t,2),o=n[0],s=(n[1],(0,a.useState)(e.includes("MSDPRDCEDI"))),i=(0,r.Z)(s,2),c=i[0],l=(i[1],(0,a.useState)(e.includes("MSDPRDCVIE"))),u=(0,r.Z)(l,2),d=u[0],f=(u[1],(0,a.useState)(e.includes("MSDPRDCDEA"))),v=(0,r.Z)(f,2),m=v[0],p=(v[1],(0,a.useState)(e.includes("MSDPRDCCLO"))),x=(0,r.Z)(p,2),h=x[0],C=(x[1],(0,a.useState)(e.includes("MSDPRDCAPP"))),b=(0,r.Z)(C,2),j=b[0],w=(b[1],{canAdd:o,canEdit:c,canClone:h,canView:d,canActivate:m,canApprove:j});return(0,k.jsxs)(g.lG,{className:"h-full",bodyClass:"h-full",children:[(0,k.jsxs)("div",{className:"lg:flex items-center justify-between mb-4",children:[(0,k.jsx)("h3",{className:"mb-4 lg:mb-0",children:"Product Category"}),(0,k.jsx)(S,{actionPermissions:w})]}),(0,k.jsx)(q,{actionPermissions:w})]})}},20821:function(e,t,n){var r=n(26050),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},26050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},48573:function(e,t,n){var r=n(8092),a=n(50072),o=n(42582),s=Math.max,i=Math.min;e.exports=function(e,t,n){var c,l,u,d,f,v,m=0,p=!1,x=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=c,r=l;return c=l=void 0,m=t,d=e.apply(r,n)}function C(e){return m=e,f=setTimeout(y,t),p?g(e):d}function b(e){var n=e-v;return void 0===v||n>=t||n<0||x&&e-m>=u}function y(){var e=a();if(b(e))return j(e);f=setTimeout(y,function(e){var n=t-(e-v);return x?i(n,u-(e-m)):n}(e))}function j(e){return f=void 0,h&&c?g(e):(c=l=void 0,d)}function w(){var e=a(),n=b(e);if(c=arguments,l=this,v=e,n){if(void 0===f)return C(v);if(x)return clearTimeout(f),f=setTimeout(y,t),g(v)}return void 0===f&&(f=setTimeout(y,t)),d}return t=o(t)||0,r(n)&&(p=!!n.leading,u=(x="maxWait"in n)?s(o(n.maxWait)||0,t):u,h="trailing"in n?!!n.trailing:h),w.cancel=function(){void 0!==f&&clearTimeout(f),m=0,c=v=l=f=void 0},w.flush=function(){return void 0===f?d:j(a())},w}},50072:function(e,t,n){var r=n(97009);e.exports=function(){return r.Date.now()}},42582:function(e,t,n){var r=n(20821),a=n(8092),o=n(70152),s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=i.test(e);return n||c.test(e)?l(e.slice(2),n?2:8):s.test(e)?NaN:+e}}}]);
//# sourceMappingURL=9907.90c3ddeb.chunk.js.map