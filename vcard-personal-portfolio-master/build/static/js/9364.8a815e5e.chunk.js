"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[9364],{19450:function(e,t,n){n.d(t,{Hs:function(){return h},NW:function(){return c},Q2:function(){return p},_r:function(){return m},aq:function(){return l},xT:function(){return i}});var r=n(74165),a=n(15861),s=n(31114);function c(e){return o.apply(this,arguments)}function o(){return(o=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/catalogs/cat-items-info",method:"get",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return u.apply(this,arguments)}function u(){return(u=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/doc-types",method:"get",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.fetchData({url:"/account/doc-types",method:"post",data:t});case 3:return n=e.sent,e.abrupt("return",{status:"success",data:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.fetchData({url:"/account/doc-types/".concat(t.id),method:"put",data:t});case 3:return n=e.sent,e.abrupt("return",{status:"success",data:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(e,t){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/doc-types?id=".concat(t,"&mdDocTypeStatus=").concat(n),method:"patch"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return v.apply(this,arguments)}function v(){return(v=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/acc-operators/dropdown/".concat(t.enterAccount),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},79364:function(e,t,n){n.r(t),n.d(t,{default:function(){return P}});var r=n(29439),a=n(72791),s=n(51032),c=n(69564),o=n(7869),i=n(74165),u=n(15861),l=n(50662),d=n(58617),p=n(16030),f=n(51581),m=n(64635),x=n(23532),h=n(57689),v=n(58121),g=n.n(v),b=n(16856),y=n(78820),C=n(17425),Z=n(39126),j=n(9214),w=n(54110),A=(n(72482),n(80184)),D={ACTIVE:{label:"Active",dotClass:"bg-black-400",textClass:"text-black-400",backgroundColor:"bg-[#F5F5F5]"},SUBMITTED:{label:"Submitted",dotClass:"bg-blue-400",textClass:"text-black-400",backgroundColor:"bg-[#F0F7FF]"},IN_ACTIVE:{label:"Inactive",dotClass:"bg-blue-400",textClass:"text-black-400",backgroundColor:"bg-[#F5F5F5]"}},k=function(e){var t=e.actionPermissions,n=(0,p.v9)((function(e){return e.salesOrderList.data.tableData})),s=n.pageIndex,c=n.pageSize,v=n.sort,k=n.query,I=(n.total,n.sort_field),N=n.order,_=(0,p.v9)((function(e){return e.salesOrderList.data.loading})),T=(0,p.v9)((function(e){var t,n,r;return null===(t=e.salesOrderList)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.orderList)||void 0===r?void 0:r.res})),S=(0,p.v9)((function(e){var t,n,r;return null===(t=e.salesOrderList)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.orderList)||void 0===r?void 0:r.total})),E=(0,a.useState)(!1),L=(0,r.Z)(E,2),O=L[0],z=L[1],P=(0,a.useState)(""),V=(0,r.Z)(P,2),q=V[0],F=V[1],R=(0,a.useRef)(null),M=(0,p.I0)(),U=(0,p.v9)((function(e){return e.auth.user})),B=U.enterAccount,W=(U.password,U.rememberMe,U.usernameOrEmail,(0,p.v9)((function(e){var t,n;return null===(t=e.salesOrderList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.parentAccountList}))),G=function(){var e=(0,u.Z)((0,i.Z)().mark((function e(){var t;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="ACTIVE"===q.acc_status?"IN_ACTIVE":"ACTIVE",e.next=3,(0,j.fW)(q.id,t);case 3:e.sent.data.success&&("ACTIVE"===t?(z(!1),(0,w.By)("success","Activated successfully")):(z(!1),(0,w.By)("success","Deactivated successfully")));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){var n=e.row,r=(0,x.Z)().textTheme,a=(0,h.s0)(),s="ACTIVE"!=n.acc_status?"green":"rose",c="ACTIVE"!=n.acc_status?C.vUq:C.qGf,o={color:"grey",pointerEvents:"none"},i=(t.canAdd,t.canEdit),u=t.canView,p=t.canActivate,f=t.canClone;t.canApprove;return(0,A.jsxs)("div",{className:"text-lg",children:[(0,A.jsx)(l.u,{title:"Edit",children:(0,A.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(r),onClick:function(){a("/account-menu-item-view-8/edit",{state:{data:n,mode:"EDIT"}})},style:i?null:o,children:(0,A.jsx)(b.U$P,{})})}),(0,A.jsx)(l.u,{title:"Clone",children:(0,A.jsx)("span",{className:"cursor-pointer p-1  hover:".concat(r),onClick:function(){a("/account-menu-item-view-8",{state:{data:n,mode:"ADD"}})},style:f?null:o,children:(0,A.jsx)(y.$OG,{})})}),(0,A.jsx)(l.u,{title:"View",children:(0,A.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(r),style:u?null:o,children:(0,A.jsx)(d.Vvo,{})})}),(0,A.jsx)(l.u,{title:"".concat("ACTIVE"!=n.acc_status?"Activate":"Deactivate"),children:(0,A.jsx)("span",{className:"cursor-pointer p-1 text-".concat(s,"-800 hover:text-").concat(s,"-800"),onClick:function(){z(!0),F(n)},style:p?null:o,children:(0,A.jsx)(c,{})})})]})};(0,a.useEffect)((function(){M((0,f.hy)(B))}),[]),(0,a.useEffect)((function(){var e=function(){var e=(0,u.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M((0,f.AU)({page_no:s-1,page_size:c,sort_field:I||"id",unq_id:B,order:N}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[O,M,k,B,s,c,I,N]),(0,a.useEffect)((function(){M((0,f.Nq)({enterAccount:B}))}),[M,B]);var K=(0,a.useMemo)((function(){return{pageIndex:s,pageSize:c,sort:v,query:k,total:S}}),[s,c,v,k,S]),Y=(0,a.useMemo)((function(){return[{header:"Actions",flex:1,id:"action",cell:function(e){return(0,A.jsx)(H,{row:e.row.original})}},{header:"Operator ID",accessorKey:"acc_unq_id"},{header:"Operator Title",accessorKey:"acc_name"},{header:"Parent",accessorKey:"acc_parent",cell:function(e){var t=e.row.original.acc_parent;return(0,A.jsx)("span",{children:(0,w.ZP)(t,W)})}},{header:"Address",accessorKey:"acc_add_l1"},{header:"Status",accessorKey:"acc_status",flex:1,cell:function(e){var t,n,r,a=e.row.original.acc_status;return(0,A.jsx)("div",{className:"flex items-center",children:(0,A.jsxs)("span",{className:"flex ml-2 rtl:mr-2 capitalize font-semibold rounded-full border ".concat(null===(t=D[a])||void 0===t?void 0:t.backgroundColor," mt-4 px-2 py-1 text-").concat(null===(n=D[a])||void 0===n?void 0:n.dotClass),children:["ACTIVE"===a&&(0,A.jsx)(C.vUq,{className:"mt-1 mr-2 text-[#3B8C59]"}),"IN_ACTIVE"===a&&(0,A.jsx)(C.qGf,{className:"mt-1 mr-2 text-[#FF0000]"}),"SUBMITTED"===a&&(0,A.jsx)(Z.LHN,{className:"mt-1 mr-2 text-blue-500"}),null===(r=D[a])||void 0===r?void 0:r.label]})})}}]}),[W]),Q=(0,a.useCallback)((function(e,t){if(e){var n=t.map((function(e){return e.original})),r=[];n.forEach((function(e){r.push(e.id)})),M((0,m.pY)(r))}else M((0,m.pY)([]))}),[M]);return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(o.wQ,{ref:R,columns:Y,data:T,loading:_,pagingData:K,onPaginationChange:function(e){var t=g()(K);t.pageIndex=e,M((0,f.N3)(t))},onSelectChange:function(e){var t=g()(K);t.pageSize=Number(e),t.pageIndex=1,M((0,f.N3)(t))},onSort:function(e){var t=g()(K),n=(0,w.TD)(e.key);t.sort_field=n,t.order=e.order,M((0,f.N3)(t))},onCheckBoxChange:function(e,t){M(e?(0,m.mI)([t.id]):(0,m.B$)(t.id))},onIndeterminateCheckBoxChange:Q,selectable:!0}),(0,A.jsxs)(l.Vq,{isOpen:O,onClose:function(){return z(!1)},children:[(0,A.jsx)("h6",{style:{fontStyle:"normal",fontWeight:700,fontSize:"18px"},children:"ACTIVE"!=q.acc_status?"Activate":"Deactivate"}),(0,A.jsx)("hr",{className:"text-gary-500 mt-4 mb-4"}),(0,A.jsx)("p",{style:{fontStyle:"normal",fontWeight:400,fontSize:"15px"},children:"ACTIVE"!=q.acc_status?"Are you sure you want to activate this operator ?":"Are you sure you want to deactivate this operator ?"}),(0,A.jsxs)("div",{className:"mt-6 text-end",children:[(0,A.jsx)(l.zx,{style:{backgroundColor:"#4D4D4D",color:"white",borderRadius:"2px"},className:"mr-3",onClick:function(){return z(!1)},children:"No"}),(0,A.jsx)(l.zx,{variant:"solid",onClick:function(){return G()},children:"Yes"})]})]})]})},I=n(4942),N=n(48573),_=n.n(N),T=n(49516),S=function(){var e=(0,p.I0)(),t=(0,a.useRef)(),n=(0,p.v9)((function(e){return e.salesOrderList.data.tableData})),r=(0,p.v9)((function(e){return e.auth.user})),s=r.enterAccount,c=(r.password,r.rememberMe,r.usernameOrEmail,_()((function(e){var t=g()(n);t.page_no=n.pageIndex-1,t.page_size=n.pageSize,t.unq_id=s,t.sort_field=n.sort_field,"string"===typeof e&&e.length>1&&o(t);"string"===typeof e&&0===e.length&&o(t)}),500));var o=function(t){e((0,f.N3)(t)),e((0,T.W9)(t))};return(0,A.jsx)(l.II,{ref:t,className:"lg:w-52",size:"sm",placeholder:"Search",prefix:(0,A.jsx)(d.O6C,{className:"text-lg"}),onChange:function(e){c(e.target.value)}})},E=n(11087),L=function(){return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(l.zx,{size:"sm",className:"block md:inline-block ltr:md:ml-2 rtl:md:mr-2 md:mb-0 mb-4",icon:(0,A.jsx)(d.Yv7,{}),onClick:function(){},children:"Filter"})})},O=(n(26586),function(e){var t=e.actionPermissions.canAdd;return(0,A.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center",children:[(0,A.jsx)(S,{}),(0,A.jsx)(L,{}),(0,A.jsx)(E.rU,{className:"block lg:inline-block md:mx-2 md:mb-0 mb-4",target:"_blank",download:!0,children:(0,A.jsx)(l.zx,{block:!0,size:"sm",icon:(0,A.jsx)(d.H_7,{}),children:"Export"})}),(0,A.jsx)(E.rU,{className:"block lg:inline-block md:mx-2 md:mb-0 mb-4",target:"_blank",download:!0,children:(0,A.jsx)(l.zx,{block:!0,size:"sm",icon:(0,A.jsx)(b.cgG,{}),children:"Columns"})}),(0,A.jsx)(E.rU,{to:"/account-menu-item-view-8",children:(0,A.jsxs)(l.zx,{block:!0,style:(0,I.Z)({fontStyle:"normal",fontSize:500},"fontSize","18px"),className:"flex justify-center pt-[6px] gap-1",variant:"solid",size:"sm",disabled:!t,children:[(0,A.jsx)("p",{className:"pt-[2px]",children:(0,A.jsx)(d.yEd,{})}),"Create"]})})]})}),z=function(){var e=(0,p.I0)(),t=(0,p.v9)((function(e){return e.salesOrderList.state.selectedRows})),n=(0,p.v9)((function(e){return e.salesOrderList.state.selectedRow})),r=(0,p.v9)((function(e){return e.salesOrderList.state.deleteMode})),a=(0,p.v9)((function(e){return e.salesOrderList.data.tableData})),s=function(){e((0,m.gM)("")),"single"===r&&e((0,m.j3)([]))},c=function(){var a=(0,u.Z)((0,i.Z)().mark((function a(){var s,c;return(0,i.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(e((0,m.gM)("")),"single"!==r){a.next=7;break}return a.next=4,(0,f.RT)({id:n});case 4:s=a.sent,d(s),e((0,m.j3)([]));case 7:if("batch"!==r){a.next=13;break}return a.next=10,(0,f.RT)({id:t});case 10:c=a.sent,d(c,t.length),e((0,m.pY)([]));case 13:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),d=function(t,n){t&&(e((0,f.AU)(a)),l.Am.push((0,A.jsxs)(l.P_,{title:"Successfuly Deleted",type:"success",duration:2500,children:["single"===r&&"Order ","batch"===r&&"".concat(n," orders "),"successfuly deleted"]}),{placement:"top-center"}))};return(0,A.jsx)(o.QH,{isOpen:"single"===r||"batch"===r,onClose:s,onRequestClose:s,type:"danger",title:"Delete product",onCancel:s,onConfirm:c,confirmButtonColor:"red-600",children:(0,A.jsx)("p",{children:"Are you sure you want to delete this order? All record related to this order will be deleted as well. This action cannot be undone."})})};(0,c.fn)("salesOrderList",s.Z);var P=function(){var e=(0,p.v9)((function(e){return e.auth.user})).permissionsList,t=(0,a.useState)(e.includes("ACCOPRADD")),n=(0,r.Z)(t,2),s=n[0],c=(n[1],(0,a.useState)(e.includes("ACCOPREDI"))),i=(0,r.Z)(c,2),u=i[0],l=(i[1],(0,a.useState)(e.includes("ACCOPRVIE"))),d=(0,r.Z)(l,2),f=d[0],m=(d[1],(0,a.useState)(e.includes("ACCOPRDEA"))),x=(0,r.Z)(m,2),h=x[0],v=(x[1],(0,a.useState)(e.includes("ACCOPRCLO"))),g=(0,r.Z)(v,2),b=g[0],y=(g[1],(0,a.useState)(e.includes("ACCOPRAPP"))),C=(0,r.Z)(y,2),Z=C[0],j=(C[1],{canAdd:s,canEdit:u,canClone:b,canView:f,canActivate:h,canApprove:Z});return(0,A.jsxs)(o.lG,{className:"h-full",bodyClass:"h-full",children:[(0,A.jsxs)("div",{className:"lg:flex items-center justify-between mb-4",children:[(0,A.jsx)("h3",{className:"mb-4 lg:mb-0",children:"Operators"}),(0,A.jsx)(O,{actionPermissions:j})]}),(0,A.jsx)(k,{actionPermissions:j}),(0,A.jsx)(z,{})]})}},49516:function(e,t,n){n.d(t,{N3:function(){return m},Nq:function(){return d},W9:function(){return l}});var r,a=n(4942),s=n(74165),c=n(15861),o=n(95273),i=n(19450),u=(0,o.hg)("doctypeList/data/getItems",function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.NW)();case 2:return n=e.sent,e.abrupt("return",n.data.response);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=(0,o.hg)("doctypeList/data/getDocTypeData",function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.xT)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=(0,o.hg)("doctypeList/data/getParentAccount",function(){var e=(0,c.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Hs)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,o.oM)({name:"doctypeList/data",initialState:{loading:!1,ItemList:[],tableData:{total:0,pageIndex:1,pageSize:10,query:"",sort:{Item:"",key:""}},DocTypeData:[],parentAccountList:[]},reducers:{setItemList:function(e,t){e.ItemList=t.payload},setTableData:function(e,t){e.tableData=t.payload},setDocTypeData:function(e,t){e.DocTypeData=t.payload},setParentAccountData:function(e,t){e.parentAccountList=t.payload}},extraReducers:(r={},(0,a.Z)(r,u.fulfilled,(function(e,t){e.ItemList=t.payload,e.tableData.total=t.payload.total,e.loading=!1})),(0,a.Z)(r,u.pending,(function(e){e.loading=!0})),(0,a.Z)(r,l.fulfilled,(function(e,t){e.DocTypeData=t.payload.res,e.tableData.total=t.payload.total,e.loading=!1})),(0,a.Z)(r,l.pending,(function(e){e.loading=!0})),(0,a.Z)(r,d.fulfilled,(function(e,t){var n;e.parentAccountList=null===(n=t.payload)||void 0===n?void 0:n.map((function(e){return{value:e.id,label:e.acc_name,acc_unq_id:e.acc_unq_id}})),e.loading=!1})),(0,a.Z)(r,d.pending,(function(e){e.loading=!0})),r)}),f=p.actions,m=(f.setItemList,f.setTableData);f.setDocTypeData,f.setParentAccountData;t.ZP=p.reducer}}]);
//# sourceMappingURL=9364.8a815e5e.chunk.js.map