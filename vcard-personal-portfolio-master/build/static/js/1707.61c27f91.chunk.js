"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[1707],{37450:function(e,t,r){r(7869),r(72791);var a=r(11087),n=r(80184);t.Z=function(e){var t=e.list;return(0,n.jsx)("nav",{class:"w-full rounded-md pb-2",children:(0,n.jsx)("ol",{class:"list-reset flex",children:null===t||void 0===t?void 0:t.map((function(e,r){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:e.link?null!==e&&void 0!==e&&e.state?(0,n.jsx)(a.rU,{to:e.link,state:{data:null===e||void 0===e?void 0:e.state},style:{textDecoration:"underline",color:"blue"},children:e.name}):(0,n.jsx)(a.rU,{to:e.link,style:{textDecoration:"underline",color:"blue"},children:e.name}):(0,n.jsx)(n.Fragment,{children:e.name})}),r+1<t.length&&(0,n.jsx)("li",{children:(0,n.jsx)("span",{class:"mx-2 text-neutral-500 dark:text-neutral-400",children:"/"})})]})}))})})}},63616:function(e,t,r){r.d(t,{CK:function(){return o},Ut:function(){return f},_K:function(){return v},nA:function(){return d},nD:function(){return m},st:function(){return l}});var a=r(74165),n=r(15861),s=r(31114);function o(e){return i.apply(this,arguments)}function i(){return(i=(0,n.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/order/offr-info",method:"get",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return(c=(0,n.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/cust-cats",method:"get",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return u.apply(this,arguments)}function u(){return(u=(0,n.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/order/offr-info",method:"get",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.fetchData({url:"order/offr-info",method:"post",data:t});case 3:return r=e.sent,e.abrupt("return",{status:"success",data:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.fetchData({url:"order/offr-info",method:"put",data:t});case 3:return r=e.sent,e.abrupt("return",{status:"success",data:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function v(e,t){return x.apply(this,arguments)}function x(){return(x=(0,n.Z)((0,a.Z)().mark((function e(t,r){var n,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.fetchData({url:"order/offr-info?id=".concat(t,"&offr_status=").concat(r),method:"patch"});case 3:return n=e.sent,e.abrupt("return",{status:"success",data:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},11696:function(e,t,r){r.d(t,{Is:function(){return f},T7:function(){return v},WO:function(){return m},hw:function(){return o},jK:function(){return d},oS:function(){return l}});var a=r(74165),n=r(15861),s=r(31114);function o(e){return i.apply(this,arguments)}function i(){return(i=(0,n.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/prod-cats",method:"get",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return(c=(0,n.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.fetchData({url:"/account/prod-cats",method:"post",data:t});case 3:return r=e.sent,e.abrupt("return",{status:"success",data:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function d(e,t){return u.apply(this,arguments)}function u(){return(u=(0,n.Z)((0,a.Z)().mark((function e(t,r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/prod-cats?id=".concat(t,"&mdProdCatStatus=").concat(r),method:"patch"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)((0,a.Z)().mark((function e(t){var r,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.fetchData({url:"/account/prod-cats/".concat(t.id),method:"put",data:t});case 3:return r=e.sent,e.abrupt("return",{status:"success",data:r});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/acc-operators/dropdown/".concat(t.enterAccount),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,t,r){return x.apply(this,arguments)}function x(){return(x=(0,n.Z)((0,a.Z)().mark((function e(t,r,n){var o,i,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(o=new FormData).append("file",t),e.next=5,s.Z.fetchData({url:"/media/".concat(r,"/").concat(n),method:"post",data:o,headers:{"Content-Type":"multipart/form-data"}});case 5:return i=e.sent,e.abrupt("return",{status:"success",data:i.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l?void 0:l.data)||e.t0.toString()});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}},21707:function(e,t,r){r.r(t),r.d(t,{default:function(){return I}});var a=r(29439),n=r(72791),s=r(50662),o=r(7869),i=r(92506),l=r(62797),c=r(80184),d=(l.Ry().shape({roleId:l.Z_().required("Please Enter RoleId"),firstName:l.Z_().required("Please Enter Fisrt Name"),lastName:l.Z_().required("Please Enter Last Name"),emailId:l.Z_().email("Invalid email").required("Please Enter Email ID"),phoneNumber:l.Z_().required("Mobile number is required").matches(/^(\+\d{1,3}[- ]?)?\d{10}$/,"Invalid mobile number"),ordemailId:l.Z_().email("Invalid email").required("Please Enter Email ID")}),r(57689)),u=r(30598),f=r(16030),p=r(69564),m=r(68457),h=r(37450),v=r(1413),x=r(30948),_=r(11087);function g(e,t){return Object.keys(e).find((function(r){return e[r]===t}))}var b=function(e){return(0,c.jsx)(s.II,(0,v.Z)((0,v.Z)({},e),{},{value:e.field.value,suffix:"%"}))},j=function(e){return(0,c.jsx)(s.II,(0,v.Z)((0,v.Z)({},e),{},{value:e.field.value,prefix:"$"}))},Z=[{label:"Daily",value:"DAILY"},{label:"Weekly",value:"WEEKLY"},{label:"Monthly",value:"MONTHLY"},{label:"Quarterly",value:"QUARTERLY"},{label:"Half-Yearly",value:"HALFYEARLY"},{label:"Yearly",value:"YEARLY"}];function y(e){var t=e.cashbackInitialValues,r=e.cashbackValidationSchema,a=e.handleFirstStepSubmit,n=(0,f.v9)((function(e){return e.offerCashback.data})),l=n.customerCategories,d=n.productCategories;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(i.J9,{initialValues:t,validationSchema:r,onSubmit:function(e,t){(0,t.setSubmitting)(!0),a(e)},children:function(e){var t=e.values,r=e.touched,a=e.errors,n=(e.isSubmitting,e.handleSubmit);return(0,c.jsxs)(i.l0,{onSubmit:n,children:[(0,c.jsx)("div",{className:"mt-6 dark:bg-gray-700 rounded ",children:(0,c.jsxs)("div",{className:"mt-5",style:{backgroundColor:"white"},children:[(0,c.jsx)("h3",{children:"Create Cashback"}),(0,c.jsx)("div",{className:"mt-6  rounded",style:{backgroundColor:"#f5f5f5"},children:(0,c.jsx)("div",{className:" p-5",style:{backgroundColor:"#F5F5F5"},children:(0,c.jsx)(o.lG,{className:"h-full",bodyClass:"h-full",divider:!0,children:(0,c.jsxs)(s.Yb,{children:[(0,c.jsxs)("div",{className:"md:grid grid-cols-2 gap-6 mx-4 mt-3",children:[(0,c.jsx)(s.xJ,{label:"CashBack Code",invalid:a.offr_code&&r.offr_code,errorMessage:a.offr_code,children:(0,c.jsx)(i.gN,{type:"text",autoComplete:"off",name:"offr_code",placeholder:"Enter CashBack Code",component:s.II,style:{width:"100%"}})}),(0,c.jsx)(s.xJ,{label:"CashBack Title",invalid:a.offr_name&&r.offr_name,errorMessage:a.offr_name,children:(0,c.jsx)(i.gN,{type:"text",autoComplete:"off",name:"offr_name",placeholder:"Enter CashBack Title",component:s.II,style:{width:"100%"}})}),(0,c.jsxs)("div",{className:"md:grid grid-cols-2 gap-4",style:{width:"100%"},children:[(0,c.jsx)(s.xJ,{label:"Start Date",invalid:a.offr_start_date&&r.offr_start_date,errorMessage:a.offr_start_date,children:(0,c.jsx)(i.gN,{name:"offr_start_date",children:function(e){var t=e.field,r=e.form;return(0,c.jsx)(s.Mt,{placeholder:"Select Date",field:t,form:r,value:t.value?new Date(t.value):t.value,onChange:function(e){r.setFieldValue(t.name,e)}})}})}),(0,c.jsx)(s.xJ,{label:"End Date",invalid:a.offr_end_date&&r.offr_end_date,errorMessage:a.offr_end_date,children:(0,c.jsx)(i.gN,{name:"offr_end_date",children:function(e){var t=e.field,r=e.form;return(0,c.jsx)(s.Mt,{placeholder:"Select Date",field:t,form:r,value:t.value?new Date(t.value):t.value,onChange:function(e){r.setFieldValue(t.name,e)}})}})})]}),(0,c.jsx)(s.xJ,{label:"Max Allowed Usages",invalid:a.offr_max_cpns_applcbl&&r.offr_max_cpns_applcbl,errorMessage:a.offr_max_cpns_applcbl,children:(0,c.jsx)(i.gN,{type:"number",autoComplete:"off",name:"offr_max_cpns_applcbl",placeholder:"Enter Max Allowed Usages",component:s.II,style:{width:"100%"}})}),(0,c.jsx)(s.xJ,{label:"Max Allowed Usages/customer",invalid:a.offr_no_of_cpns&&r.offr_no_of_cpns,errorMessage:a.offr_no_of_cpns,children:(0,c.jsx)(i.gN,{type:"number",autoComplete:"off",name:"offr_no_of_cpns",placeholder:"Enter Amount",component:s.II})}),(0,c.jsx)(s.xJ,{label:"Frequency",className:"ml-2",invalid:a.offr_timeperiod&&r.offr_timeperiod,errorMessage:a.offr_timeperiod,children:(0,c.jsx)(i.gN,{name:"offr_timeperiod",children:function(e){var r=e.field,a=e.form;return(0,c.jsx)(s.Ph,{placeholder:"Select Frequency",field:r,form:a,options:Z,value:null===Z||void 0===Z?void 0:Z.filter((function(e){return e.value===(null===t||void 0===t?void 0:t.offr_timeperiod)})),onChange:function(e){return a.setFieldValue(r.name,e.value)}})}})}),(0,c.jsx)(s.xJ,{label:"Product Category",invalid:a.rel_offr_prod_cat&&r.rel_offr_prod_cat,errorMessage:a.rel_offr_prod_cat,children:(0,c.jsx)(i.gN,{name:"rel_offr_prod_cat",children:function(e){var r=e.field,a=e.form;return(0,c.jsx)(s.Ph,{placeholder:"Select Product Category",field:r,form:a,options:d,value:null===d||void 0===d?void 0:d.filter((function(e){return e.id==(null===t||void 0===t?void 0:t.rel_offr_prod_cat)})),onChange:function(e){return a.setFieldValue(r.name,e.id)}})}})}),(0,c.jsx)(s.xJ,{label:"Customer Category",invalid:a.rel_offr_cust_cat&&r.rel_offr_cust_cat,errorMessage:a.rel_offr_cust_cat,children:(0,c.jsx)(i.gN,{name:"rel_offr_cust_cat",children:function(e){var r=e.field,a=e.form;return(0,c.jsx)(s.Ph,{placeholder:"Select Customer Category",field:r,form:a,options:l,value:null===l||void 0===l?void 0:l.filter((function(e){return e.id==(null===t||void 0===t?void 0:t.rel_offr_cust_cat)})),onChange:function(e){var t;a.setFieldValue(r.name,e.id);var n=JSON.parse(e.cust_cat_type);g(n,!0),a.setFieldValue("cust_type",(null===(t=g(n,!0))||void 0===t?void 0:t.replace(/_/g,""))||"RetailCustomer")}})}})}),(0,c.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,c.jsx)("label",{className:"mb-3",children:"CashBack Type"}),(0,c.jsx)(i.gN,{name:"offr_type_fxd_amnt",children:function(e){var r=e.field,a=e.form;return(0,c.jsxs)(s.Y8.Group,{field:r,form:a,value:null===t||void 0===t?void 0:t.offr_type_fxd_amnt,onChange:function(e){return a.setFieldValue(r.name,e)},children:[(0,c.jsx)(s.Y8,{value:!0,style:{height:"25px",width:"25px"},children:"Fixed Amount"}),(0,c.jsx)(s.Y8,{value:!1,style:{height:"25px",width:"25px",marginLeft:"30px"},children:"Percentage"})]})}})]}),(0,c.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,c.jsx)("label",{className:"mb-3",children:"Select Bearer Account"}),(0,c.jsxs)("div",{style:{display:"flex"},children:[(0,c.jsx)(s.XZ,{}),(0,c.jsx)("label",{children:"Operator"}),(0,c.jsx)(s.XZ,{className:"ml-6"}),(0,c.jsx)("label",{children:"Provider"})]})]}),(0,c.jsx)(s.xJ,{className:"mt-2",invalid:a.offr_value&&r.offr_value,errorMessage:a.offr_value,children:(0,c.jsx)(i.gN,{name:"offr_value",children:function(e){var r=e.field,a=e.form;return(0,c.jsx)(x.Z,{form:a,field:r,placeholder:"Enter Amount",customInput:null!==t&&void 0!==t&&t.offr_type_fxd_amnt?j:b,onValueChange:function(e){a.setFieldValue(r.name,e.value)}})}})}),(0,c.jsxs)("div",{style:{display:"flex"},children:[(0,c.jsx)(s.xJ,{className:"mt-2",invalid:a.operator_share&&r.operator_share,errorMessage:a.operator_share,children:(0,c.jsx)(i.gN,{name:"operator_share",children:function(e){var t=e.field,r=e.form;return(0,c.jsx)(x.Z,{form:r,field:t,customInput:b,onValueChange:function(e){r.setFieldValue(t.name,e.value)}})}})}),(0,c.jsx)(s.xJ,{className:"mt-2",invalid:a.provider_share&&r.provider_share,errorMessage:a.provider_share,children:(0,c.jsx)(i.gN,{name:"provider_share",children:function(e){var t=e.field,r=e.form;return(0,c.jsx)(x.Z,{className:"ml-3 ",form:r,field:t,customInput:b,onValueChange:function(e){r.setFieldValue(t.name,e.value)}})}})})]})]}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-6 mx-4 mt-3",children:(0,c.jsx)("div",{style:{display:"flex"},children:(0,c.jsx)(s.xJ,{label:"Description",className:"",invalid:a.offr_desc&&r.offr_desc,errorMessage:a.offr_desc,children:(0,c.jsx)(i.gN,{name:"offr_desc",children:function(e){var t=e.field;return(0,c.jsx)(o.LD,{value:t.value,onChange:t.onChange(t.name)})}})})})})]})})})})]})}),(0,c.jsxs)("div",{className:"mt-4 text-right",children:[(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(_.rU,{className:"block lg:inline-block md:mb-0 mb-4",to:"/cashbacks",children:(0,c.jsx)(s.zx,{type:"button",className:"mx-2",onClick:function(){return console.log("cancel")},variant:"solid",style:{backgroundColor:"#4D4D4D"},children:"Cancel"})})}),(0,c.jsx)(s.zx,{variant:"solid",type:"submit",children:"Next"})]})]})}})})}var C=r(74165),k=r(15861),N=r(16856),w=r(63616),D=r(54110);var S=function(e){var t,r,a=e.onPrevious,n=e.configIntialValues,o=e.cashbackInitialValues,i=e.goToFirstStep,l=e.selectedMode,u=(0,f.v9)((function(e){return e.offerCashback.data})),p=u.customerCategories,m=u.productCategories,h=(0,d.s0)(),x=null===m||void 0===m||null===(t=m.find((function(e){return e.id==o.rel_offr_prod_cat})))||void 0===t?void 0:t.label,_=null===p||void 0===p||null===(r=p.find((function(e){return e.id==o.rel_offr_cust_cat})))||void 0===r?void 0:r.label,g=function(){var e=(0,k.Z)((0,C.Z)().mark((function e(){var t,r,a;return(0,C.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("EDIT"!==l){e.next=7;break}return t=(0,v.Z)((0,v.Z)({},o),{},{dgl_offrs_configs:n}),e.next=4,(0,w.nD)(t);case 4:r=e.sent,e.next=11;break;case 7:return t=(0,v.Z)((0,v.Z)({},o),{},{dgl_offrs_configs:n}),e.next=10,(0,w.Ut)(t);case 10:r=e.sent;case 11:"success"===r.status?(s.Am.push((0,c.jsx)(s.P_,{title:"EDIT"===l?"CashBack Updation":"CashBack Creation",type:"success",duration:2500,children:"EDIT"===l?"CashBack Updated Successfuly":"CashBack Created Successfuly"}),{placement:"top-end"}),h("/cashbacks")):(a=(0,D.ld)(r)||"Error",s.Am.push((0,c.jsx)(s.P_,{title:"Failed",type:"danger",duration:2500,children:a}),{placement:"top-end"}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"mt-6 dark:bg-gray-700 rounded ",children:(0,c.jsxs)(s.Zb,{className:"mx-3 mb-4 mt-1",children:[(0,c.jsxs)("div",{className:"md:grid grid-cols-2",children:[(0,c.jsxs)("h6",{className:" mb-4 mt-1 font-bold ",children:["CASHBACK CREATION"," "]}),(0,c.jsxs)("div",{className:" text-xs text-black font-bold flex justify-end cursor-pointer",children:[(0,c.jsx)(N.U$P,{className:"mt-1"}),(0,c.jsx)("p",{onClick:function(){return i()},children:"EDIT"})]})]}),(0,c.jsxs)("div",{className:"md:grid grid-cols-5",children:[(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Cashback Code"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:null===o||void 0===o?void 0:o.offr_code})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Cashback Title"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:null===o||void 0===o?void 0:o.offr_name})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Start Date"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:new Date(null===o||void 0===o?void 0:o.offr_start_date).toLocaleDateString()})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"End Date"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:new Date(null===o||void 0===o?void 0:o.offr_end_date).toLocaleDateString()})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Product Category"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:x})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Customer Category"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:_})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Offer Type"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:null===o||void 0===o?void 0:o.offr_type})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Coupon Brearer Account"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:"N/A"})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Description"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:null===o||void 0===o?void 0:o.offr_desc})})]})]})]})}),(0,c.jsxs)("div",{className:"mt-4 text-right",children:[(0,c.jsx)(s.zx,{className:"mx-2",onClick:a,children:"Previous"}),(0,c.jsx)(s.zx,{onClick:function(){return g()},variant:"solid",children:"Submit for Approval"})]})]})};(0,p.fn)("offerCashback",m.Z);var I=function(){var e,t,r,o=(0,n.useState)(0),i=(0,a.Z)(o,2),p=i[0],m=i[1],v=(0,d.TH)(),x="EDIT"===(null===(e=v.state)||void 0===e?void 0:e.mode)?null===(t=v.state)||void 0===t?void 0:t.mode:"ADD",_=(0,n.useState)(x),g=(0,a.Z)(_,2),b=g[0],j=(g[1],null===(r=v.state)||void 0===r?void 0:r.data),Z=(0,f.I0)(),C={offr_name:"",offr_start_date:"",offr_end_date:"",offr_code:"",offr_max_cpns_applcbl:0,offr_timeperiod:"",offr_no_of_cpns:0,rel_offr_prod_cat:"",rel_offr_cust_cat:"",offr_type_fxd_amnt:!0,offr_value:0,operator_share:0,provider_share:0,offr_desc:"",offr_type:"CASHBACK",cust_type:"",cust_id:""},k=[{offr_config_title:"",offr_config_details:""}];j&&(C=j,k=null===j||void 0===j?void 0:j.dgl_offrs_configs);var N=(0,n.useState)(C),w=(0,a.Z)(N,2),D=w[0],I=w[1],q=(0,n.useState)(k),E=(0,a.Z)(q,2),A=E[0],R=(E[1],l.Ry({offr_name:l.Z_().required("Cashback Name is required"),offr_start_date:l.hT().required("Start Date is required"),offr_end_date:l.hT().required("End Date is required"),offr_code:l.Z_().required("Cashback Code is required"),offr_max_cpns_applcbl:l.Z_().required("Max Allowed Usages is required"),offr_timeperiod:l.Z_().required("Frequency is required"),offr_no_of_cpns:l.Z_().required("Max Allowed Usages perCustomer is required"),rel_offr_prod_cat:l.Z_().required("Product Category is required"),rel_offr_cust_cat:l.Z_().required("Customer Category is required"),offr_type_fxd_amnt:l.Z_().required("Cashback Type is required"),offr_value:l.Z_().required("Cashback Value is required"),operator_share:l.Z_().required("Operator Share is required"),provider_share:l.Z_().required("Provider Share is required"),offr_desc:l.Z_().required("Cashback Description is required")})),F=(0,f.v9)((function(e){return e.auth.user})).unq_id,M=(0,n.useCallback)((function(){Z((0,u.$F)({page_no:0,page_size:100,unqId:F})),Z((0,u.Ul)({page_no:0,page_size:100,unqId:F}))}),[Z]);(0,n.useEffect)((function(){M()}),[Z,M]);var T=function(){m(p+1)},L=[{name:"Home",link:"/home"},{name:"Offers & Cashback",link:"/cashbacks"},{name:"".concat("EDIT"===x?"Edit":"Create"," Cashback")}];return(0,c.jsxs)("div",{className:"mt-5",children:[(0,c.jsx)(h.Z,{list:L}),(0,c.jsxs)("div",{children:[(0,c.jsxs)(s.Rg,{current:p,children:[(0,c.jsx)(s.Rg.Item,{title:"EDIT"===b?"EDIT CASHBACK":"CREATE CASHBACK"}),(0,c.jsx)(s.Rg.Item,{title:"PREVIEW"})]}),0==p&&(0,c.jsx)(y,{cashbackInitialValues:D,cashbackValidationSchema:R,handleFirstStepSubmit:function(e){I(e),T()},selectedMode:b}),1==p&&(0,c.jsx)(S,{cashbackInitialValues:D,configIntialValues:A,onPrevious:function(){var e;m((e=p-1)<0?0:e>3?3:e)},goToFirstStep:function(){m(0)},selectedMode:b})]})]})}},30598:function(e,t,r){r.d(t,{$F:function(){return p},N3:function(){return _},Pz:function(){return u},Ul:function(){return m},q9:function(){return f}});var a,n=r(4942),s=r(1413),o=r(74165),i=r(15861),l=r(95273),c=r(63616),d=r(11696),u=(0,l.hg)("offerCashback/data/getOffersList",function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.CK)(t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=(0,l.hg)("offerCashback/data/getCashbacksList",function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.nA)(t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,l.hg)("offerCashback/data/getProdCatList",function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.hw)(t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=(0,l.hg)("offerCashback/data/getCustCatList",function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.st)(t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h={total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}},v=(0,l.oM)({name:"offerCashback/data",initialState:{loading:!1,offerList:[],tableData:h,productCategories:[],customerCategories:[],cashbackTableData:h,cashbackList:[]},reducers:{setOfferList:function(e,t){e.offerList=t.payload},setTableData:function(e,t){e.tableData=t.payload},setCashbackTableData:function(e,t){e.cashbackTableData=t.payload},setCashbackList:function(e,t){e.cashbackList=t.payload}},extraReducers:(a={},(0,n.Z)(a,u.fulfilled,(function(e,t){e.offerList=t.payload.res,e.tableData.total=t.payload.total,e.loading=!1})),(0,n.Z)(a,u.pending,(function(e){e.loading=!0})),(0,n.Z)(a,p.fulfilled,(function(e,t){var r,a=null===(r=t.payload.res)||void 0===r?void 0:r.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.prod_cat_title})}));e.productCategories=a,e.loading=!1})),(0,n.Z)(a,p.pending,(function(e){e.loading=!0})),(0,n.Z)(a,m.fulfilled,(function(e,t){var r,a=null===(r=t.payload.res)||void 0===r?void 0:r.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.cust_cat_title})}));e.customerCategories=a,e.loading=!1})),(0,n.Z)(a,m.pending,(function(e){e.loading=!0})),(0,n.Z)(a,f.fulfilled,(function(e,t){e.cashbackList=t.payload.res,e.cashbackTableData.total=t.payload.total,e.loading=!1})),(0,n.Z)(a,f.pending,(function(e){e.loading=!0})),a)}),x=v.actions,_=(x.setOfferList,x.setTableData);x.setCashbackTableData,x.setCashbackList;t.ZP=v.reducer},68457:function(e,t,r){r.d(t,{Z:function(){return u}});var a=r(87781),n=r(93433),s=r(95273),o=r(92546),i=(0,s.oM)({name:"salesOrderList/state",initialState:{selectedRows:[],selectedRow:[],deleteMode:"",newOrderDialog:!1},reducers:{setSelectedRows:function(e,t){e.selectedRows=t.payload},setSelectedRow:function(e,t){e.selectedRow=t.payload},addRowOrder:function(e,t){var r=t.payload,a=(0,o.Vk)(e);if(!a.selectedRows.includes(r))return{selectedRows:[].concat((0,n.Z)(a.selectedRows),(0,n.Z)(r))}},removeRowOrder:function(e,t){var r=t.payload,a=(0,o.Vk)(e);if(a.selectedRows.includes(r))return{selectedRows:a.selectedRows.filter((function(e){return e!==r}))}},setDeleteMode:function(e,t){e.deleteMode=t.payload},toggleNewOrderDialog:function(e,t){e.newOrderDialog=t.payload}}}),l=i.actions,c=(l.setSelectedRows,l.setSelectedRow,l.addRowOrder,l.removeRowOrder,l.toggleDeleteConfirmation,l.setDeleteMode,l.toggleNewOrderDialog,i.reducer),d=r(30598),u=(0,a.UY)({state:c,data:d.ZP})}}]);
//# sourceMappingURL=1707.61c27f91.chunk.js.map