"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[2957],{65433:function(e,r,t){t.d(r,{T7:function(){return d},Yr:function(){return o},hF:function(){return i}});var a=t(74165),s=t(15861),n=t(31114);function o(e){return l.apply(this,arguments)}function l(){return(l=(0,s.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.Z.fetchData({url:"/account/acc-users/".concat(null===r||void 0===r?void 0:r.acc_unq_id),method:"get",data:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return c.apply(this,arguments)}function c(){return(c=(0,s.Z)((0,a.Z)().mark((function e(r){var t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.Z.fetchData({url:"/account/acc-users",method:"put",data:r});case 3:return t=e.sent,e.abrupt("return",{status:"success",data:t});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(s=e.t0.response)||void 0===s?void 0:s.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function d(e,r,t){return u.apply(this,arguments)}function u(){return(u=(0,s.Z)((0,a.Z)().mark((function e(r,t,s){var o,l,i;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(o=new FormData).append("file",r),e.next=5,n.Z.fetchData({url:"/media/".concat(t,"/").concat(s),method:"post",data:o,headers:{"Content-Type":"multipart/form-data"}});case 5:return l=e.sent,e.abrupt("return",{status:"success",data:l.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i?void 0:i.data)||e.t0.toString()});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}},44630:function(e,r,t){var a=t(29439),s=t(72791);r.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,r=(0,s.useState)(""),t=(0,a.Z)(r,2),n=t[0],o=t[1];return(0,s.useEffect)((function(){if(n){var r=setTimeout((function(){return o("")}),e);return function(){clearTimeout(r)}}}),[n]),[n,o]}},13800:function(e,r,t){var a=t(74165),s=t(15861),n=t(29439),o=(t(72791),t(92506)),l=t(50662),i=t(11087),c=t(85358),d=t(62797),u=t(54110),m=t(44630),p=t(16030),f=t(54664),x=t(80184),h=d.Ry().shape({password:d.Z_().required("Please enter your  current password"),newPassword:d.Z_().required("Please enter your password"),confirmPassword:d.Z_().oneOf([d.iH("newPassword"),null],"Your passwords do not match")});r.Z=function(){var e=(0,p.v9)((function(e){return e.auth.user})).email,r=(0,m.Z)(),t=(0,n.Z)(r,2),d=t[0],g=t[1],v=function(){var r=(0,s.Z)((0,a.Z)().mark((function r(t,s){var n,o,l;return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=s.resetForm,(0,s.setSubmitting)(!0),o={old_password:t.password,new_password:t.newPassword,confirm_password:t.confirmPassword,user_id:e},r.next=5,(0,f.vV)(o);case 5:"success"===(l=r.sent).status&&setTimeout((function(){(0,u.By)("success","SuccessFully Updated "),n()}),2e3),"failed"===l.status&&g((0,u.ld)(l));case 8:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}();return(0,x.jsxs)(x.Fragment,{children:[d&&(0,x.jsx)(l.bZ,{className:"mb-4",type:"danger",showIcon:!0,children:Array.isArray(d)?d.join(", "):d}),(0,x.jsx)("div",{children:(0,x.jsx)(o.J9,{initialValues:{password:"",newPassword:"",confirmPassword:""},validationSchema:h,onSubmit:v,children:function(e){e.values;var r=e.touched,t=e.errors,a=(e.isSubmitting,e.handleSubmit),s=e.resetForm;return(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)(o.l0,{onSubmit:a,children:[(0,x.jsx)(l.Yb,{children:(0,x.jsx)("div",{style:{backgroundColor:"#F5F5F5",padding:"15px 15px ",marginTop:"10px"},children:(0,x.jsx)("div",{style:{backgroundColor:"white",padding:"14px 14px",marginBelow:"10px"},children:(0,x.jsxs)("div",{className:"md:grid grid-cols-4 gap-4 mx-4 ",children:[(0,x.jsx)(l.xJ,{label:"Current Password",invalid:t.password&&r.password,errorMessage:t.password,children:(0,x.jsx)(o.gN,{type:"text",autoComplete:"off",name:"password",placeholder:"Enter Your Current Password",component:c.Z})}),(0,x.jsx)(l.xJ,{label:"New Password",invalid:t.newPassword&&r.newPassword,errorMessage:t.newPassword,children:(0,x.jsx)(o.gN,{type:"text",autoComplete:"off",name:"newPassword",placeholder:"Enter Your New Password",component:c.Z})}),(0,x.jsx)(l.xJ,{label:"Confirm New Password",invalid:t.confirmPassword&&r.confirmPassword,errorMessage:t.confirmPassword,children:(0,x.jsx)(o.gN,{type:"text",autoComplete:"off",name:"confirmPassword",placeholder:"Confirm New Password",component:c.Z})})]})})})}),(0,x.jsx)("div",{className:"mt-4 text-right",children:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(i.rU,{className:"block lg:inline-block md:mb-0 mb-4",to:"",children:(0,x.jsx)(l.zx,{style:{backgroundColor:"#4D4D4D"},className:"mx-2",variant:"solid",type:"button",onClick:s,children:"Reset"})}),(0,x.jsx)(l.zx,{className:"mx-2",variant:"solid",type:"submit",children:"Save"})]})})]})})}})})]})}},92957:function(e,r,t){t.r(r),t.d(r,{default:function(){return E}});var a=t(72791),s=t(11615),n=t(29439),o=t(50662),l=t(13800),i=t(74165),c=t(1413),d=t(15861),u=t(92506),m=t(11087),p=t(16856),f=t(16030),x=t(76704),h=t(65433),g=t(54110),v=t(44630),b=t(54048),w=t(80184),j=[{label:"English",value:1},{label:"Spanish",value:2},{label:"Arabic",value:3},{label:"Portugese",value:4}],y=function(e){var r=(0,f.I0)(),t=(0,f.v9)((function(e){return e.profile.data.profileData.response})),s=(0,f.v9)((function(e){return e.auth.user})),l=s.acc_unq_id,y=s.acc_user_id,N=(0,a.useState)(!1),Z=(0,n.Z)(N,2),P=(Z[0],Z[1]),C=(0,a.useState)(),I=(0,n.Z)(C,2),S=(I[0],I[1],(0,v.Z)()),k=(0,n.Z)(S,2),D=k[0],R=k[1];(0,a.useEffect)((function(){r((0,x.sj)({acc_unq_id:l}))}),[l,r,e,t]);var F=function(){var r=(0,d.Z)((0,i.Z)().mark((function r(t){var a,s;return(0,i.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=(0,c.Z)({},t),P(!0),"ADD"!==e.profile&&delete a.acc_password,r.next=5,(0,h.hF)(a);case 5:"success"===(s=r.sent).status&&setTimeout((function(){(0,g.By)("success","SuccessFully Updated "),P(!1)}),2e3),"failed"===s.status&&(R((0,g.ld)(s)),P(!1));case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();if(!t)return(0,w.jsx)("div",{children:"Loading..."});var _=function(){var e=(0,d.Z)((0,i.Z)().mark((function e(r,t){var a,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r[0],["image/jpeg","image/png"].includes(a.type)){e.next=5;break}return(0,g.By)("warning","JPG/PNG files are allowed only!"),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,(0,h.T7)(r[0],y,1);case 8:return s=e.sent,e.abrupt("return",s);case 12:return e.prev=12,e.t0=e.catch(5),console.error("Error during file upload:",e.t0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(r,t){return e.apply(this,arguments)}}();return(0,w.jsxs)(w.Fragment,{children:[D&&(0,w.jsx)(o.bZ,{className:"mb-4",type:"danger",showIcon:!0,children:Array.isArray(D)?D.join(", "):D}),t&&(0,w.jsx)(u.J9,{initialValues:t,onSubmit:function(e,r){var t=r.setSubmitting;console.log(e,"values"),t(!0),F(e)},children:function(e){e.values,e.touched,e.errors,e.isSubmitting;var r=e.handleSubmit,t=e.resetForm,a=e.setFieldValue;return(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(u.l0,{onSubmit:r,children:[(0,w.jsx)(o.Yb,{children:(0,w.jsx)("div",{style:{backgroundColor:"#F5F5F5",padding:"15px 15px ",marginTop:"10px"},children:(0,w.jsxs)("div",{style:{backgroundColor:"white",padding:"14px 14px",marginBelow:"10px"},children:[(0,w.jsxs)("div",{className:"",children:[(0,w.jsx)("h6",{className:"font-bold ",children:"BASIC DETAILS"}),(0,w.jsx)("div",{className:"mt-6",children:(0,w.jsx)("div",{className:"h-24 bg-gradient-to-r from-sky-700 from-10% via-sky-500 via-30% to-sky-700 to-90% border-2 w-full items-center flex justify-center",children:(0,w.jsx)(o.xJ,{children:(0,w.jsx)(u.gN,{name:"profile_img",children:function(e){var r=e.field;e.form;return(0,w.jsx)(o.gq,{className:"cursor-pointer h-[0px]",beforeUpload:_,onChange:function(e,t,s,n){a(r.name,null===s||void 0===s?void 0:s.data.fileUnqId)},children:(0,w.jsxs)("div",{className:"relative",children:[(0,w.jsx)("img",{className:"h-24 w-24 rounded-full",src:"".concat(b.Z.apiPrefix,"/media/uniqid/").concat(r.value)}),(0,w.jsx)("div",{className:"absolute top-1/2 right-0 transform -translate-y-1/4 translate-x-1/2",children:(0,w.jsx)(p.U$P,{className:"colo bg-white rounded-full h-9 w-9 p-2 text-sky-600 text-8xl border border-sky-600"})})]})})}})})})})]}),(0,w.jsxs)("div",{className:"md:grid grid-cols-2 gap-x-7  mt-16  ",children:[(0,w.jsx)(o.xJ,{label:"First Name",children:(0,w.jsx)(u.gN,{className:"bg-gray-100",type:"text",autoComplete:"off",name:"first_name",placeholder:"Esther Howard",component:o.II,disabled:!0})}),(0,w.jsx)(o.xJ,{label:"Last Name",children:(0,w.jsx)(u.gN,{className:"bg-gray-100",type:"text",autoComplete:"off",name:"last_name",placeholder:"Robert Fox",component:o.II,disabled:!0})}),(0,w.jsx)(o.xJ,{label:"Email ID",children:(0,w.jsx)(u.gN,{className:"bg-gray-100",type:"text",autoComplete:"off",name:"email",placeholder:"Esther Howard@gmail.com",component:o.II,disabled:!0})}),(0,w.jsx)(o.xJ,{label:"Phone Number",children:(0,w.jsx)(u.gN,{className:"bg-gray-100",type:"text",autoComplete:"off",name:"phone",placeholder:"(316) 555-0116",component:o.II,disabled:!0})}),(0,w.jsx)(o.xJ,{label:"Address Line-1",children:(0,w.jsx)(u.gN,{className:"bg-gray-100",type:"text",autoComplete:"off",name:"add_line1",placeholder:"3517 W. Gray St. Utica, Pennsylvania 57867",component:o.II,disabled:!0})}),(0,w.jsx)(o.xJ,{label:"Address Line-2",children:(0,w.jsx)(u.gN,{className:"bg-gray-100",type:"text",autoComplete:"off",name:"add_line2",placeholder:"8502 Preston Rd. Inglewood, Maine 98380",component:o.II,disabled:!0})})]}),(0,w.jsxs)("div",{className:"grid grid-cols-4 gap-7",children:[(0,w.jsx)(o.xJ,{label:"Country",children:(0,w.jsx)(u.gN,{className:"bg-gray-100",type:"text",autoComplete:"off",name:"country",component:o.II,disabled:!0})}),(0,w.jsx)(o.xJ,{label:"City",children:(0,w.jsx)(u.gN,{className:"bg-gray-100",type:"text",autoComplete:"off",name:"city",component:o.II,disabled:!0})}),(0,w.jsx)(o.xJ,{label:"State",children:(0,w.jsx)(u.gN,{className:"bg-gray-100",type:"text",autoComplete:"off",name:"state",component:o.II,disabled:!0})}),(0,w.jsx)(o.xJ,{label:"Zip-Code",children:(0,w.jsx)(u.gN,{className:"bg-gray-100",type:"text",autoComplete:"off",name:"zipcode",component:o.II,disabled:!0})})]}),(0,w.jsxs)("div",{children:[(0,w.jsx)("h6",{children:"PREFERENCES"}),(0,w.jsxs)("div",{className:"grid grid-cols-2 gap-7 mt-4",children:[(0,w.jsx)(o.xJ,{label:(0,w.jsxs)("p",{children:["Language ",(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),children:(0,w.jsx)(u.gN,{name:"language",children:function(e){var r=e.field,t=e.form;return(0,w.jsx)(o.Ph,{value:j.find((function(e){return e.value===r.value})),placeholder:"Select Language",field:r,form:t,options:j,onChange:function(e){return t.setFieldValue(r.name,e.value)}})}})}),(0,w.jsx)(o.xJ,{label:"Time-Zone",children:(0,w.jsx)(u.gN,{className:"bg-gray-100",type:"text",autoComplete:"off",name:"time_zone",placeholder:"(UTC-08:00) Coordinated Universal Time-08",component:o.II})})]})]})]})})}),(0,w.jsx)("div",{className:"mt-4 text-right",children:(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(m.rU,{className:"block lg:inline-block md:mb-0 mb-4",to:"",children:(0,w.jsx)(o.zx,{type:"button",onClick:t,className:"mx-2",variant:"solid",style:{backgroundColor:"#4D4D4D"},children:"Reset"})}),(0,w.jsx)(o.zx,{className:"mx-2",variant:"solid",type:"submit",children:"Save"})]})})]})})}})]})},N=o.mQ.TabNav,Z=o.mQ.TabList,P=o.mQ.TabContent,C=function(){var e=(0,a.useState)("ADD"),r=(0,n.Z)(e,2),t=r[0],s=r[1];return(0,w.jsxs)("div",{children:[(0,w.jsx)("p",{className:"mb-4 ml-3",children:"Home / My Profile / Password "}),(0,w.jsxs)(o.mQ,{defaultValue:"profile",children:[(0,w.jsxs)(Z,{children:[(0,w.jsx)(N,{value:"profile",children:"Profile"}),(0,w.jsx)(N,{value:"password",children:"Change Password"})]}),(0,w.jsxs)("div",{className:"p-4",children:[(0,w.jsxs)(P,{value:"profile",children:[(0,w.jsx)("div",{className:"lg:flex items-center justify-between mb-4",children:(0,w.jsx)("h3",{className:"mb-4 lg:mb-0",children:"Profile"})}),(0,w.jsx)(y,{profile:t,setProfile:s})]}),(0,w.jsxs)(P,{value:"password",children:[(0,w.jsx)("div",{className:"lg:flex items-center justify-between my-4",children:(0,w.jsx)("h3",{className:"mb-4 lg:mb-0",children:"Change password "})}),(0,w.jsx)(l.Z,{})]})]})]})]})},I=t(69564),S=t(87781),k=t(93433),D=t(95273),R=t(92546),F=(0,D.oM)({name:"profile/state",initialState:{selectedRows:[],selectedRow:[],deleteMode:""},reducers:{setSelectedRows:function(e,r){e.selectedRows=r.payload},setSelectedRow:function(e,r){e.selectedRow=r.payload},addRowItem:function(e,r){var t=r.payload,a=(0,R.Vk)(e);if(!a.selectedRows.includes(t))return{selectedRows:[].concat((0,k.Z)(a.selectedRows),(0,k.Z)(t))}},removeRowItem:function(e,r){var t=r.payload,a=(0,R.Vk)(e);if(a.selectedRows.includes(t))return{selectedRows:a.selectedRows.filter((function(e){return e!==t}))}},setDeleteMode:function(e,r){e.deleteMode=r.payload}}}),_=F.actions,J=(_.setSelectedRows,_.setSelectedRow,_.addRowItem,_.removeRowItem,_.toggleDeleteConfirmation,_.setDeleteMode,F.reducer),T=(0,S.UY)({state:J,data:x.ZP});(0,I.fn)("profile",T);var E=function(){return(0,w.jsx)(s.Z,{className:"h-full",bodyClass:"h-full",children:(0,w.jsx)(C,{})})}},76704:function(e,r,t){t.d(r,{sj:function(){return c}});var a,s=t(4942),n=t(74165),o=t(15861),l=t(95273),i=t(65433),c=(0,l.hg)("profile/data/getProfileDetails",function(){var e=(0,o.Z)((0,n.Z)().mark((function e(r){var t;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.Yr)(r);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),d=(0,l.oM)({name:"profile/data",initialState:{loading:!1,profileData:[]},reducers:{setProfileData:function(e,r){e.profileData=r.payload}},extraReducers:(a={},(0,s.Z)(a,c.fulfilled,(function(e,r){e.profileData=r.payload,e.loading=!1})),(0,s.Z)(a,c.pending,(function(e,r){e.loading=!0})),a)});d.actions.setProfileData;r.ZP=d.reducer}}]);
//# sourceMappingURL=2957.17615d5a.chunk.js.map