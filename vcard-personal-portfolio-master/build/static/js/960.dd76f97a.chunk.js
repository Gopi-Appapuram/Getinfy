"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[960],{50960:function(e,t,n){n.r(t);var r=n(74165),a=n(1413),i=n(15861),s=n(29439),l=n(72791),o=n(50662),d=n(7869),u=n(92506),c=n(57689),h=n(11087),m=n(16030),v=n(1628),f=n(62797),x=n(67202),p=n(70573),I=n(54110),g=n(69564),j=n(2267),b=n(37450),y=n(80184),C=f.Ry({whWarehouse:f.Z_().required("Warehouse is required"),catItemsInfo:f.Z_().required("Item is required"),catItemVar:f.Z_().required("Item Variant is required"),skuCode:f.Z_().required("SKU Code is required"),shelfCode:f.Z_().required("Shelf Code is required"),shelfArea:f.Z_().required("Shelf Area is required"),holdingQty:f.Rx().required("Holding Qty is required").integer("Holding Qty should be number").positive("Holding Qty should not be in negative")});(0,g.fn)("wareHouse",j.Z);t.default=function(){var e,t,n,f,g,j=(0,c.TH)(),w=j.state.data||{},k=(0,m.I0)(),S=(0,c.s0)(),A=(0,m.v9)((function(e){var t,n;return null===(t=e.wareHouse)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.whList})),_=(0,m.v9)((function(e){var t,n;return null===(t=e.wareHouse)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.itemList})),E=(0,m.v9)((function(e){var t,n;return null===(t=e.wareHouse)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.itemVariants})),N=(0,l.useCallback)((function(){k((0,v.yJ)()),k((0,v.kk)())}),[k]);(0,l.useEffect)((function(){N()}),[k]);var D,Z={whWarehouse:w.id,catItemsInfo:"",catItemVar:"",skuCode:"",shelfCode:"",shelfArea:"",holdingQty:0},q="EDIT"===(null===(e=j.state)||void 0===e?void 0:e.mode)?null===(t=j.state)||void 0===t?void 0:t.mode:"ADD",F=(0,l.useState)(q),H=(0,s.Z)(F,2),V=H[0],Q=(H[1],null===(n=j.state)||void 0===n?void 0:n.data),W=null===(f=j.state)||void 0===f?void 0:f.data;"EDIT"===q&&(W=null===(D=j.state)||void 0===D?void 0:D.warehouseData);Q&&"EDIT"===q&&(Z=(0,x.Cb)(Z,Q));var J=(0,l.useState)(Z),T=(0,s.Z)(J,2),M=T[0],P=(T[1],(0,m.v9)((function(e){return e.auth.user})).acc_mno_id);(0,l.useEffect)((function(){"EDIT"===V&&Q.cat_items_info&&k((0,v.Iv)(Q.cat_items_info))}),[V]);var U=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,n){var i,s,l,d,u,c,h,m;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(0,a.Z)((0,a.Z)({},t),{},{accId:P}),s={},"ADD"!==V){e.next=10;break}return l=(0,x.$Y)(s,i),e.next=6,(0,p.zL)(l);case 6:"success"===(d=e.sent).status?(o.Am.push((0,y.jsx)(o.P_,{title:"Inventory Creation",type:"success",duration:2500,children:"Inventory Added Successfuly"}),{placement:"top-end"}),S("/wareHouse-menu-item-view-2")):"failed"===d.status&&(u=(0,I.ld)(d)||"Error",o.Am.push((0,y.jsx)(o.P_,{title:"Failed",type:"danger",duration:2500,children:u}),{placement:"top-end"})),e.next=16;break;case 10:if("EDIT"!==V){e.next=16;break}return c=(0,x.$Y)(s,i,!0),e.next=14,(0,p.X_)(c);case 14:"success"===(h=e.sent).status?(o.Am.push((0,y.jsx)(o.P_,{title:"Inventory Updation",type:"success",duration:2500,children:"Inventory Updated Successfuly"}),{placement:"top-end"}),S("/wareHouse-menu-item-view-2")):"failed"===h.status&&(m=(0,I.ld)(h)||"Error",o.Am.push((0,y.jsx)(o.P_,{title:"Failed",type:"danger",duration:2500,children:m}),{placement:"top-end"}));case 16:n(!1);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=[{name:"Home",link:"/home"},{name:"WareHouse",link:"/wareHouse-menu-item-view-2"},{name:null===(g=W)||void 0===g?void 0:g.wh_title,link:"/warehouse-view-warehouse",state:W},{name:"EDIT"===V?"Edit Inventory":"Add Inventory"}];return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(b.Z,{list:z}),(0,y.jsx)("br",{}),(0,y.jsxs)("div",{className:"mt-5",children:[(0,y.jsx)("h3",{children:"EDIT"===V?"Edit Inventory":"Add Inventory"}),(0,y.jsx)(u.J9,{initialValues:M,validationSchema:C,onSubmit:function(e,t){var n=t.setSubmitting;n(!0),U(e,n)},children:function(e){var t=e.values,n=e.touched,r=e.errors,a=e.handleSubmit,i=e.isSubmitting;return(0,y.jsx)(u.l0,{onSubmit:a,children:(0,y.jsxs)(o.Yb,{children:[(0,y.jsx)("div",{className:"mt-6 dark:bg-gray-700 rounded ",children:(0,y.jsx)("div",{className:" p-5",style:{backgroundColor:"#F5F5F5"},children:(0,y.jsx)(d.lG,{className:"h-full",bodyClass:"h-full",divider:!0,children:(0,y.jsxs)("div",{className:"md:grid grid-cols-2 gap-4 mx-4 ",children:[(0,y.jsx)(o.xJ,{label:"Warehouse",invalid:r.whWarehouse&&n.whWarehouse,errorMessage:r.whWarehouse,disabled:!0,children:(0,y.jsx)(u.gN,{name:"whWarehouse",disabled:!0,children:function(e){var n=e.field,r=e.form;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(o.Ph,{placeholder:"Select Warehouse",field:n,form:r,isDisabled:!0,options:A,value:null===A||void 0===A?void 0:A.filter((function(e){return e.value===t.whWarehouse})),onChange:function(e){return r.setFieldValue(n.name,e.value)}})})}})}),(0,y.jsx)(o.xJ,{label:"Item",invalid:r.catItemsInfo&&n.catItemsInfo,errorMessage:r.catItemsInfo,children:(0,y.jsx)(u.gN,{name:"catItemsInfo",children:function(e){var n=e.field,r=e.form;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(o.Ph,{placeholder:"Select Item",field:n,form:r,options:_,value:null===_||void 0===_?void 0:_.filter((function(e){return e.value===t.catItemsInfo})),onChange:function(e){k((0,v.Iv)(e.value)),r.setFieldValue(n.name,e.value)}})})}})}),(0,y.jsx)(o.xJ,{label:"Item Variant",invalid:r.catItemVar&&n.catItemVar,errorMessage:r.catItemVar,children:(0,y.jsx)(u.gN,{name:"catItemVar",children:function(e){var n=e.field,r=e.form;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(o.Ph,{placeholder:"Select Item Variant",field:n,form:r,options:E,value:null===E||void 0===E?void 0:E.filter((function(e){return e.value===t[n.name]})),onChange:function(e){r.setFieldValue(n.name,e.value)}})})}})}),(0,y.jsx)(o.xJ,{label:"SKU Code",invalid:r.skuCode&&n.skuCode,errorMessage:r.skuCode,children:(0,y.jsx)(u.gN,{type:"text",autoComplete:"off",name:"skuCode",placeholder:"Enter SKU Code",component:o.II})}),(0,y.jsx)(o.xJ,{label:"Shelf Code",invalid:r.shelfCode&&n.shelfCode,errorMessage:r.shelfCode,children:(0,y.jsx)(u.gN,{type:"text",autoComplete:"off",name:"shelfCode",placeholder:"Enter Shelf Code",component:o.II})}),(0,y.jsx)(o.xJ,{label:"Shelf Area",invalid:r.shelfArea&&n.shelfArea,errorMessage:r.shelfArea,children:(0,y.jsx)(u.gN,{type:"text",autoComplete:"off",name:"shelfArea",placeholder:"Enter Shelf Area",component:o.II})}),(0,y.jsx)(o.xJ,{label:"Quantity",invalid:r.holdingQty&&n.holdingQty,errorMessage:r.holdingQty,children:(0,y.jsx)(u.gN,{type:"number",autoComplete:"off",name:"holdingQty",placeholder:"Enter Quantity",component:o.II})})]})})})}),(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"mt-6  bg-gray-50 dark:bg-gray-700 rounded "}),(0,y.jsx)("div",{className:"mt-4 text-right",children:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(h.rU,{className:"block lg:inline-block md:mb-0 mb-4",to:"/wareHouse-menu-item-view-2",children:(0,y.jsx)(o.zx,{type:"button",className:"mx-2",onClick:function(){return console.log("cancel")},variant:"solid",style:{backgroundColor:"#4D4D4D"},children:"Cancel"})}),(0,y.jsx)(o.zx,{className:"mx-2",variant:"solid",type:"submit",disabled:i,children:"Submit For Approval"})]})})]})]})})}})]})]})}}}]);
//# sourceMappingURL=960.dd76f97a.chunk.js.map