"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[8271],{57051:function(e,t,n){},67615:function(e,t,n){n.d(t,{E9:function(){return u},HO:function(){return s},Jx:function(){return N},T7:function(){return T},YE:function(){return x},a:function(){return f},dJ:function(){return Z},jt:function(){return m},lI:function(){return I},pd:function(){return c},pq:function(){return y},sn:function(){return g}});var r=n(74165),a=n(15861),i=n(31114);function s(e){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/enterprise-customers",method:"get",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return o.apply(this,arguments)}function o(){return(o=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/enterprise/sales/orders/delete",method:"delete",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.fetchData({url:"/account/enterprise-customers",method:"post",data:t});case 3:return n=e.sent,e.abrupt("return",{status:"success",data:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(e,t){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/enterprise-customers?id=".concat(t,"&cust_status=").concat(n),method:"patch"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return v.apply(this,arguments)}function v(){return(v=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.fetchData({url:"/account/enterprise-customers",method:"put",data:t});case 3:return n=e.sent,e.abrupt("return",{status:"success",data:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function x(e){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/enterprise-customers/parent/".concat(t.accMnoParentId),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/acc-operators/dropdown/".concat(t.enterAccount),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return b.apply(this,arguments)}function b(){return(b=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/currency/unq-id/drop-down/".concat(t.enterAccount),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/cust-cats/unq-id-cust-type/drop-down/".concat(t.enterAccount,"/EnterpriseCustomer"),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/contract-types/unq-id-acc-type/drop-down/".concat(t.enterAccount,"/EnterpriseCustomer"),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return D.apply(this,arguments)}function D(){return(D=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/doc-pol?page_no=0&page_size=100&sort_feild=id&unq_id=".concat(t),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n){return C.apply(this,arguments)}function C(){return(C=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var s,l,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new FormData).append("file",t),e.next=5,i.Z.fetchData({url:"/media/".concat(n,"/").concat(a),method:"post",data:s,headers:{"Content-Type":"multipart/form-data"}});case 5:return l=e.sent,e.abrupt("return",{status:"success",data:l.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.data)||e.t0.toString()});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}},21454:function(e,t,n){n.d(t,{C6:function(){return I},Cz:function(){return c},JS:function(){return f},NW:function(){return s},Y2:function(){return N},ZH:function(){return m},cO:function(){return u},hw:function(){return Z},nz:function(){return x},tu:function(){return g},z6:function(){return y}});var r=n(74165),a=n(15861),i=n(31114);function s(e){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/catalogs/dgl-cat-items-info",method:"get",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return o.apply(this,arguments)}function o(){return(o=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"catalogs/admin/items/".concat(t),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"catalogs/admin/item/variant/".concat(t),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/sales/orders/delete",method:"delete",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return v.apply(this,arguments)}function v(){return(v=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.fetchData({url:"/catalogs/dgl-cat-items-info",method:"post",data:t});case 3:return n=e.sent,e.abrupt("return",{status:"success",data:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function x(e){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/catalogs/cat-tp-info",method:"get",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/catalogs/dgl-cat-items-info/".concat(t,"/").concat(n),method:"patch"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return b.apply(this,arguments)}function b(){return(b=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/catalogs/admin/items-pageable",method:"get",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/prod-cats/unq-id/drop-down/".concat(t.unq_id),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/catalogs/admin/templates/".concat(t.unq_id,"/").concat(t.category,"/").concat(t.type,"?tpStatus=ACTIVE"),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return D.apply(this,arguments)}function D(){return(D=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/catalogs/admin/items-tax/".concat(t),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},45709:function(e,t,n){n.d(t,{Dn:function(){return N},Ep:function(){return m},HI:function(){return u},HO:function(){return s},Ie:function(){return g},Qc:function(){return f},T7:function(){return T},W1:function(){return Z},e:function(){return y},lI:function(){return I},pd:function(){return c},xE:function(){return x}});var r=n(74165),a=n(15861),i=n(31114);function s(e){return l.apply(this,arguments)}function l(){return(l=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"account/provider",method:"get",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return o.apply(this,arguments)}function o(){return(o=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/provider/sales/orders/delete",method:"delete",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.fetchData({url:"account/provider",method:"post",data:t});case 3:return n=e.sent,e.abrupt("return",{status:"success",data:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(e){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.Z.fetchData({url:"account/provider",method:"put",data:t});case 3:return n=e.sent,e.abrupt("return",{status:"success",data:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function f(e,t){return v.apply(this,arguments)}function v(){return(v=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/acc-operators?id=".concat(t,"&acc_status=").concat(n),method:"patch"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/currency/unq-id/drop-down/".concat(t.enterAccount),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/acc-operators/dropdown/".concat(t.enterAccount),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return b.apply(this,arguments)}function b(){return(b=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/prod-cats/unq-id/drop-down/".concat(t.enterAccount),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/contract-types/unq-id-acc-type/drop-down/".concat(t.enterAccount,"/Provider"),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return w.apply(this,arguments)}function w(){return(w=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/roles/master-roles/drop-down/".concat(t.acc_mno_parent_unq_id),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){return D.apply(this,arguments)}function D(){return(D=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",i.Z.fetchData({url:"/account/doc-pol?page_no=0&page_size=100&sort_feild=id&unq_id=".concat(t),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e,t,n){return C.apply(this,arguments)}function C(){return(C=(0,a.Z)((0,r.Z)().mark((function e(t,n,a){var s,l,c;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new FormData).append("file",t),e.next=5,i.Z.fetchData({url:"/media/".concat(n,"/").concat(a),method:"post",data:s,headers:{"Content-Type":"multipart/form-data"}});case 5:return l=e.sent,e.abrupt("return",{status:"success",data:l.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.data)||e.t0.toString()});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}},18271:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var r=n(72791),a=n(4942),i=n(74165),s=n(15861),l=n(1413),c=n(29439),o=n(50662),u=n(92506),d=n(16030),m=n(80184),p=(n(26181),n(57051),n(62797)),f=(p.Ry().shape({country:p.Z_().required("Please select country"),addressLine1:p.Z_().required("Please enter your address"),addressLine2:p.Z_(),city:p.Z_().required("Please enter your city"),state:p.Z_().required("Please enter your state"),zipCode:p.Z_().required("Please enter zip code"),sameCorrespondenceAddress:p.Xg(),correspondenceAddress:p.Ry().when("sameCorrespondenceAddress",{is:!1,then:p.Ry().shape({country:p.Z_().required("Please select country"),addressLine1:p.Z_().required("Please enter your address"),addressLine2:p.Z_(),city:p.Z_().required("Please enter your city"),state:p.Z_().required("Please enter your state"),zipCode:p.Z_().required("Please enter zip code")}),otherwise:function(e){return e}})}),n(7869)),v=n(55230),x=n(44925),h=n(54110),g=n(58617),j=n(57689),y=["onChange","refId"],b=[{label:"Product",value:"P"},{label:"Data Paln",value:"D"},{label:"Service Plan",value:"S"}],Z=p.Ry().shape({productCat:p.Z_().required("Product category is required").nullable(),tempItemType:p.Z_().required("Item type is required").nullable()}),_={productCat:"",selectedTemplate:"",tempItemType:""},N=function(e){e.onChange;var t,n=e.refId,a=(0,x.Z)(e,y),i=null===(t=(0,j.TH)().state)||void 0===t?void 0:t.data,s=(0,d.I0)(),l=(0,d.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.itemsCreateList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.itemsProductCatList})),p=(0,d.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.itemsCreateList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.setTemplatesForItems})),N=(0,d.v9)((function(e){return e.auth.user})),w=N.unq_id,I=(N.enterAccount,N.password,N.rememberMe,N.usernameOrEmail,(0,d.v9)((function(e){return e.itemsCreateList.data.tableData}))),D=(I.pageIndex,I.pageSize,I.sort,I.query,I.total,I.sort_field,(0,r.useState)(a.itemIntials.itemTemplate.productCat)),T=(0,c.Z)(D,2),C=T[0],k=T[1],V=(0,r.useState)(a.itemIntials.itemTemplate.tempItemType),S=(0,c.Z)(V,2),P=S[0],F=S[1],q=(0,r.useState)(p),U=(0,c.Z)(q,2),A=U[0],E=U[1],R=(0,r.useState)(),B=(0,c.Z)(R,2),L=(B[0],B[1],(0,r.useState)(_)),M=(0,c.Z)(L,2);M[0],M[1];(0,r.useEffect)((function(){s((0,v.RZ)({unq_id:w}))}),[s]),(0,r.useEffect)((function(){C&&P&&E(p)}),[p,P]),(0,r.useEffect)((function(){if(i){var e,t,n,r,l={};l.category=null===(e=a.itemIntials)||void 0===e||null===(t=e.itemTemplate)||void 0===t?void 0:t.productCat,l.type=null===(n=a.itemIntials)||void 0===n||null===(r=n.itemTemplate)||void 0===r?void 0:r.tempItemType,l.unq_id=w,""!==l.type&&s((0,v.Ub)(l)),k(i.rel_prod_cat_id),F(i.item_type)}}),[]);var z=function(e,t,n,r,a){if(e.setFieldValue(t.name,n.value),r){F(n.value);var i={};i.category=a.productCat,i.type=n.value,i.unq_id=w,""!==n.value&&(a.selectedTemplate="",s((0,v.Ub)(i)))}else k(n.value),e.setFieldValue("tempItemType",""),e.setFieldValue("selectedTemplate",""),E([])};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(u.J9,{initialValues:a.itemIntials.itemTemplate,innerRef:n,validationSchema:Z,onSubmit:function(e,t){var n=t.setSubmitting;if(e.selectedTemplate){n(!0);var r=a.itemIntials;if(i){var s="";A.map((function(t){e.selectedTemplate===t.id&&(s=t.tp_title)})),e.selectedTemplateName=s}r.itemTemplate=e,a.setItemInitials(r),a.setStep(a.step+1)}else(0,h.By)("warning","Please select a template")},children:function(e){var t=e.values,n=e.touched,r=e.errors;e.isSubmitting;return(0,m.jsx)(u.l0,{children:(0,m.jsxs)(o.Yb,{children:[(0,m.jsx)(f.lG,{className:"h-full mb-6",bodyClass:"h-full",divider:!0,children:(0,m.jsxs)("div",{className:"md:grid grid-cols-3 gap-4 mx-3",children:[(0,m.jsx)(o.xJ,{label:(0,m.jsxs)("p",{children:["Item Category",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:r.productCat&&n.productCat,errorMessage:r.productCat,children:(0,m.jsx)(u.gN,{name:"productCat",children:function(e){var n=e.field,r=e.form;return(0,m.jsx)(o.Ph,{placeholder:"Select Product Category",field:n,form:r,options:l,value:null===l||void 0===l?void 0:l.filter((function(e){return e.value===t.productCat})),onChange:function(e){return z(r,n,e,!1,t)}})}})}),(0,m.jsx)(o.xJ,{label:(0,m.jsxs)("p",{children:["Item Type",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:r.tempItemType&&n.tempItemType,errorMessage:r.tempItemType,children:(0,m.jsx)(u.gN,{name:"tempItemType",children:function(e){var n=e.field,r=e.form;return(0,m.jsx)(o.Ph,{placeholder:"Select Item Type",field:n,form:r,options:""!==t.productCat?b:[],value:null===b||void 0===b?void 0:b.filter((function(e){return e.value===t.tempItemType})),onChange:function(e){return z(r,n,e,!0,t)}})}})})]})}),(0,m.jsxs)("div",{className:"flex justify-between mx-6",children:[(0,m.jsx)(o.II,{className:"lg:w-52",size:"sm",placeholder:"Search Templates",prefix:(0,m.jsx)(g.O6C,{className:"text-lg"}),onChange:function(e){return function(e){var t=e.target.value.toLowerCase();if(""!=e.target.value){var n=[];A.map((function(e){var r;(null===e||void 0===e||null===(r=e.tp_title)||void 0===r?void 0:r.toLowerCase().includes(t))&&n.push(e)})),E(n)}else E(p)}(e)}}),(0,m.jsx)(o.zx,{size:"sm",className:"w-32",icon:(0,m.jsx)(g.Yv7,{}),onClick:function(){},disabled:!0,children:"Filter"})]}),(0,m.jsx)("div",{className:"md:grid grid-cols-3 gap-3 mx-3",children:null===A||void 0===A?void 0:A.map((function(e,n){return(0,m.jsxs)(o.Zb,{className:"mx-3 mb-4 mt-4",children:[(0,m.jsxs)("div",{className:"md:grid grid-cols-2",children:[(0,m.jsxs)("h6",{className:"mx-2 mb-4 mt-1 font-bold text-cyan-500",children:[e.tp_title," "]}),(0,m.jsx)("div",{className:" text-base text-black font-bold flex justify-end",children:(0,m.jsx)(o.xJ,{children:(0,m.jsx)(u.gN,{name:"selectedTemplate",children:function(r){var a=r.field,i=r.form;return(0,m.jsx)(o.Y8,{value:e.id,type:"radio",onChange:function(e){!function(e,t,n,r){var a;e.setFieldValue(t.name,n),A.map((function(e,t){e.id==n&&(a=e.tp_title)})),r.selectedTemplateName=a}(i,a,e,t)},checked:t.selectedTemplate===e.id},n)}})})})]}),(0,m.jsx)("div",{className:"md:grid grid-cols-1",children:(0,m.jsx)("div",{className:"col-span-2 md:gird mx-2",children:(0,m.jsx)("div",{className:"col-span-1 md:grid grid-cols-1 gap-1",children:(0,m.jsx)("div",{className:"flex flex-col",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:e.tp_desc})})})})})]},e.id)}))})]})})}})})},w=(p.Ry().shape({itemColour:p.Z_().required("Item colour is required"),itemFeatureDec:p.Z_().required("Feature is required")}),n(45709)),I=n(67267),D=n(54048),T=n(763),C=["onChange","refId"],k=p.Ry().shape({itemDesc:p.Z_().trim().max(1e3,"Description allowed 1000 characters only").required("Please select item description"),itemTitle:p.Z_().trim().required("Please enter item title"),taxData:p.IX().of(p.Ry().shape({taxComponents:p.Z_().trim().required("Please select tax component"),taxAmount:p.Z_().trim().required("Please select tax percentage")}))}),V=function(e){e.onChange;var t=e.refId,n=(0,x.Z)(e,C),a=(0,d.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.itemsCreateList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.setTemplateComponents})),p=(0,r.useMemo)((function(){if(Array.isArray(a)&&a.length>0)return null===a||void 0===a?void 0:a.map((function(e){return(0,l.Z)((0,l.Z)({},e),{},{value:null===e||void 0===e?void 0:e.tax_comp_title,label:null===e||void 0===e?void 0:e.tax_comp_title})}))}),[null===a||void 0===a?void 0:a.length]),v=(0,d.v9)((function(e){return e.auth.user})),j=(v.enterAccount,v.password,v.rememberMe,v.usernameOrEmail,v.user_type,v.acc_mno_parent_unq_id,v.acc_user_id),y=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,n){var r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t[0],["image/jpeg","image/png"].includes(r.type)){e.next=5;break}return(0,h.By)("warning","JPG/PNG files are allowed only!"),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,(0,w.T7)(t[0],j,2);case 8:return a=e.sent,e.abrupt("return",a);case 12:return e.prev=12,e.t0=e.catch(5),console.error("Error during file upload:",e.t0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}(),b=(0,r.useState)(!1),Z=(0,c.Z)(b,2),_=Z[0],N=Z[1],T=(0,r.useState)(null),V=(0,c.Z)(T,2),S=V[0],P=V[1],F=function(e){N(!0),P(e)};return(0,m.jsx)(u.J9,{initialValues:n.itemIntials.itemBasicDetails,validationSchema:k,innerRef:t,onSubmit:function(e,t){var r=t.setSubmitting;if(e.uploadImageUrl){r(!0);var a=n.itemIntials;a.itemBasicDetails=e,n.setItemInitials(a),n.setStep(n.step+1)}else(0,h.By)("warning","Please upload required fields")},children:function(e){var t=e.values,n=e.touched,r=e.errors,a=(e.isSubmitting,e.setFieldValue);return(0,m.jsxs)(u.l0,{children:[(0,m.jsx)(o.Yb,{children:(0,m.jsxs)("div",{className:"p-2",children:[(0,m.jsx)("h3",{className:"mx-4 mb-4 mt-2",children:"BASIC DETAILS"}),(0,m.jsx)("div",{className:"md:grid grid-cols-4 gap-4 mx-4",children:(0,m.jsx)(o.xJ,{label:(0,m.jsxs)("p",{children:["Item Title",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:r.itemTitle&&n.itemTitle,errorMessage:r.itemTitle,children:(0,m.jsx)(u.gN,{type:"text",autoComplete:"off",name:"itemTitle",placeholder:"Enter Title",component:o.II})})}),(0,m.jsx)("div",{className:"mx-4 my-4",children:(0,m.jsx)(o.xJ,{label:(0,m.jsxs)("p",{children:["Item Description",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:r.itemDesc&&n.itemDesc,errorMessage:r.itemDesc,children:(0,m.jsx)(u.gN,{name:"itemDesc",children:function(e){var t=e.field,n=e.form;return(0,m.jsx)(f.LD,{value:t.value,onChange:function(e){return n.setFieldValue(t.name,e)}})}})})}),(0,m.jsxs)("div",{className:"md:grid grid-cols-2",children:[(0,m.jsxs)("div",{className:"mx-4 w-500",children:[(0,m.jsx)("h6",{className:"mx-4 mb-4 mt-2",children:"Sop File Uploads"}),(0,m.jsxs)(o.xJ,{label:"",children:[(0,m.jsx)(u.gN,{name:"sopFileUrl",children:function(e){e.field,e.form;return(0,m.jsx)("div",{className:"mx-4",children:(0,m.jsx)(o.gq,{beforeUpload:y,draggable:!0,className:"border-blue-500 bg-blue-50 w-96 h-36",onChange:function(e,t,n,r){var i;a("sopFileUrl",null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.fileUnqId)},children:(0,m.jsxs)("div",{className:"my-10 text-center",children:[(0,m.jsx)("div",{className:"text-6xl mb-4 flex justify-center",children:(0,m.jsx)(g.qX3,{className:"h-10",style:{color:"#2563eb"}})}),(0,m.jsxs)("p",{className:"font-semibold",children:[(0,m.jsxs)("span",{className:"text-gray-800 dark:text-white",children:["Upload Files Here or"," "]}),(0,m.jsx)("span",{className:"text-blue-500",children:"browse"})]}),(0,m.jsx)("p",{className:"mt-1 opacity-60 dark:text-white",children:"JPG/PNG are allowed"})]})})})}}),(null===t||void 0===t?void 0:t.sopFileUrl)&&(0,m.jsxs)("div",{className:"upload-file cursor-pointer",children:[(0,m.jsx)("div",{className:"upload-file-info",onClick:function(){return F(null===t||void 0===t?void 0:t.sopFileUrl)},children:(0,m.jsx)("h6",{className:"upload-file-name",children:null===t||void 0===t?void 0:t.sopFileUrl.substring(0,15)})}),(0,m.jsx)(I.Z,{className:"upload-file-remove ",onClick:function(){a("sopFileUrl","")}})]})]})]}),(0,m.jsxs)("div",{className:"mx-4 w-500",children:[(0,m.jsxs)("h6",{className:"mx-4 mb-4 mt-2",children:["Upload Image",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,m.jsxs)(o.xJ,{label:"",children:[(0,m.jsx)(u.gN,{name:"uploadImageUrl",children:function(e){e.field,e.form;return(0,m.jsx)("div",{className:"mx-4",children:(0,m.jsx)(o.gq,{beforeUpload:y,draggable:!0,className:"border-blue-500 bg-blue-50 w-96 h-36",onChange:function(e,t,n,r){var i;a("uploadImageUrl",null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.fileUnqId)},children:(0,m.jsxs)("div",{className:"my-10 text-center",children:[(0,m.jsx)("div",{className:"text-6xl mb-4 flex justify-center",children:(0,m.jsx)(g.qX3,{className:"h-10",style:{color:"#2563eb"}})}),(0,m.jsxs)("p",{className:"font-semibold",children:[(0,m.jsxs)("span",{className:"text-gray-800 dark:text-white",children:["Upload Files Here or"," "]}),(0,m.jsx)("span",{className:"text-blue-500",children:"browse"})]}),(0,m.jsx)("p",{className:"mt-1 opacity-60 dark:text-white",children:"JPG/PNG are allowed"})]})})})}}),(null===t||void 0===t?void 0:t.uploadImageUrl)&&(0,m.jsxs)("div",{className:"upload-file cursor-pointer",children:[(0,m.jsx)("div",{className:"upload-file-info",onClick:function(){return F(null===t||void 0===t?void 0:t.uploadImageUrl)},children:(0,m.jsx)("h6",{className:"upload-file-name",children:null===t||void 0===t?void 0:t.uploadImageUrl.substring(0,15)})}),(0,m.jsx)(I.Z,{className:"upload-file-remove ",onClick:function(){a("uploadImageUrl","")}})]})]})]})]}),(0,m.jsx)(o.Zb,{className:"bg-zinc-100 m-4",children:(0,m.jsxs)(o.Zb,{children:[(0,m.jsx)("h6",{className:"mx-4 mb-4 mt-2",children:"TAX COMPONENTS"}),(0,m.jsx)(u.F2,{name:"taxData",children:function(e){var a,i=e.push,s=e.remove;return(0,m.jsx)("div",{children:null===t||void 0===t||null===(a=t.taxData)||void 0===a?void 0:a.map((function(e,a){var l,c,d,f,v,x;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"md:grid grid-cols-4 gap-4 mx-4",children:[(0,m.jsxs)(o.xJ,{label:(0,m.jsxs)("p",{children:["Tax Components",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:r.taxComponents&&n.taxComponents,errorMessage:r.taxComponents,children:[(0,m.jsx)(u.gN,{name:"taxData[".concat(a,"].taxComponents"),children:function(n){var r=n.field,i=n.form;return(0,m.jsx)(o.Ph,{placeholder:"Select Tax",field:r,form:i,options:p,value:null===p||void 0===p?void 0:p.filter((function(t){return t.id===e.taxComponents})),onChange:function(e){return function(e,t,n,r,a){var i;(null===e||void 0===e||null===(i=e.taxData)||void 0===i?void 0:i.some((function(e){return e.taxComponents===r.id})))||(t.setFieldValue(n.name,r.id),t.setFieldValue("taxData[".concat(a,"].taxType"),r.tax_comp_ded_type))}(t,i,r,e,a)}})}}),n.taxData&&n.taxData[a]&&r.taxData&&(null===(l=r.taxData[a])||void 0===l?void 0:l.taxComponents)&&(0,m.jsx)("div",{style:{color:"red"},children:null===(c=r.taxData[a])||void 0===c?void 0:c.taxComponents})]}),(0,m.jsxs)(o.xJ,{label:(0,m.jsx)("p",{children:"Type"}),invalid:r.taxType&&n.taxType,errorMessage:r.taxType,children:[(0,m.jsx)(u.gN,{disabled:!0,type:"text",autoComplete:"off",name:"taxData[".concat(a,"].taxType"),placeholder:"",component:o.II}),n.taxData&&n.taxData[a]&&r.taxData&&(null===(d=r.taxData[a])||void 0===d?void 0:d.taxType)&&(0,m.jsx)("div",{style:{color:"red"},children:null===(f=r.taxData[a])||void 0===f?void 0:f.taxType})]}),(0,m.jsxs)(o.xJ,{label:(0,m.jsxs)("p",{children:["Tax Value",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:r.taxAmount&&n.taxAmount,errorMessage:r.taxAmount,children:[(0,m.jsx)(u.gN,{type:"number",autoComplete:"off",name:"taxData[".concat(a,"].taxAmount"),placeholder:"Enter Tax Value",component:o.II}),n.taxData&&n.taxData[a]&&r.taxData&&(null===(v=r.taxData[a])||void 0===v?void 0:v.taxAmount)&&(0,m.jsx)("div",{style:{color:"red"},children:null===(x=r.taxData[a])||void 0===x?void 0:x.taxAmount})]}),(0,m.jsxs)("div",{className:"mt-8",children:[(0,m.jsx)(o.zx,{className:" border-cyan-500",shape:"circle",size:"md",icon:(0,m.jsx)(g.b9W,{}),onClick:function(){return i({taxComponents:"",taxAmount:"",taxType:""})},type:"button"}),(null===t||void 0===t?void 0:t.taxData.length)>1&&(0,m.jsx)(o.zx,{className:"mx-4  border-red-500",shape:"circle",size:"md",icon:(0,m.jsx)(g.bQR,{}),onClick:function(){return s(a)},type:"button"})]})]})})}))})}})]})})]})}),(0,m.jsx)(o.Vq,{isOpen:_,onClose:function(){return N(!1)},children:(0,m.jsxs)("div",{className:"p-5",children:[(0,m.jsx)("img",{src:"".concat(D.Z.apiPrefix,"/media/uniqid/").concat(S),alt:"Content"}),(0,m.jsx)(o.zx,{onClick:function(){return window.open("".concat(D.Z.apiPrefix,"/media/uniqid/").concat(S),"_blank")},className:"mt-2",variant:"solid",children:"Download"})]})})]})}})},S=(0,r.forwardRef)((function(e,t){var n=(0,r.useState)({SolutionBasicDetails:{values:null,validated:!1},SolutionBasicDetailsOther:{values:null,validated:!1}}),a=(0,c.Z)(n,2),o=a[0],u=a[1],d=r.useRef();r.useRef();function p(){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)((0,i.Z)().mark((function e(){var t,n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.next=3,null===d||void 0===d||null===(t=d.current)||void 0===t?void 0:t.validateForm().then((function(e){e&&Object.keys(e).length>0&&(d.current.setTouched(e,!0),n=!0)}));case 3:if(n){e.next=6;break}return e.next=6,null===(r=d.current)||void 0===r?void 0:r.submitForm();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.useImperativeHandle)(t,(function(){return{handleSubmitFromParent:function(){p()}}})),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"p-5",style:{backgroundColor:"#F5F5F5"},children:(0,m.jsx)(f.lG,{className:"h-full m-2",bodyClass:"h-full",children:(0,m.jsx)(V,{handleSubmit:p,onChange:function(e){u((0,l.Z)((0,l.Z)({},o),{},{SolutionBasicDetails:e}))},refId:d,itemIntials:e.itemIntials,setItemInitials:e.setItemInitials,step:e.step,setStep:e.setStep})})})})})),P=S;Math.floor(16777215*Math.random()).toString(16);var F=(0,r.forwardRef)((function(e,t){var n=(0,r.useState)({SolutionBasicDetails:{values:null,validated:!1},SolutionBasicDetailsOther:{values:null,validated:!1}}),a=(0,c.Z)(n,2),o=a[0],u=a[1],d=r.useRef();function p(){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)((0,i.Z)().mark((function e(){var t,n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.next=3,null===d||void 0===d||null===(t=d.current)||void 0===t?void 0:t.validateForm().then((function(e){e&&Object.keys(e).length>0&&(d.current.setTouched(e,!0),n=!0)}));case 3:if(n){e.next=6;break}return e.next=6,null===(r=d.current)||void 0===r?void 0:r.submitForm();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.useImperativeHandle)(t,(function(){return{handleSubmitFromParent:function(){p()}}})),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"p-5",style:{backgroundColor:"#f5f5f5"},children:(0,m.jsx)(f.lG,{className:"h-full",bodyClass:"h-full",divider:!0,children:(0,m.jsx)(N,{handleSubmit:p,onChange:function(e){u((0,l.Z)((0,l.Z)({},o),{},{SolutionBasicDetails:e}))},refId:d,itemIntials:e.itemIntials,setItemInitials:e.setItemInitials,step:e.step,setStep:e.setStep})})})})})),q=F,U=n(16856),A=n(53540),E=n(11087);var R=function(e){var t,n,a,i,s,l,u,p=e.itemIntials,f=(e.step,e.setStep),v=(0,r.useState)(!1),x=(0,c.Z)(v,2),g=x[0],j=x[1],y=(0,r.useState)(null),b=(0,c.Z)(y,2),Z=b[0],_=b[1],N=function(e){j(!0),_(e)},w=(0,d.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.itemsCreateList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.itemsProductCatList}));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h3",{className:"mx-4 mb-4 mt-2",children:"Preview"}),(0,m.jsxs)(o.Zb,{className:"mx-3 mb-4 mt-1",children:[(0,m.jsxs)("div",{className:"md:grid grid-cols-2 mb-4",children:[(0,m.jsxs)("h5",{className:"mx-2 mb-4 mt-1 font-bold",children:["CHOOSE TEMPLATE"," "]}),(0,m.jsx)("div",{className:" text-base text-black font-bold flex justify-end",children:(0,m.jsx)(E.rU,{onClick:function(){f(0)},children:(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsx)(U.U$P,{className:"mt-1"}),(0,m.jsx)("p",{className:"ml-2",children:"EDIT"})]})})})]}),(0,m.jsxs)("div",{className:"md:grid grid-cols-4",children:[(0,m.jsxs)("div",{className:"md:gird mx-2",children:[(0,m.jsx)("div",{className:"text-base text-black font-bold decoration-2 mb-2",children:"Product Category"}),(0,m.jsx)("div",{className:"col-span-6 md:grid grid-cols-2 gap-2",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:(0,h.ZP)(null===p||void 0===p||null===(t=p.itemTemplate)||void 0===t?void 0:t.productCat,w)})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-base text-black font-bold decoration-2 mb-2",children:"Template Title"}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:p.itemTemplate.selectedTemplateName})})]})]})]}),(0,m.jsxs)(o.Zb,{className:"mx-3 mb-4 mt-1",children:[(0,m.jsxs)("div",{className:"md:grid grid-cols-2 mb-4",children:[(0,m.jsx)("h5",{className:"mx-2 mb-4 mt-1 font-bold",children:"ITEM DETAILS "}),(0,m.jsx)("div",{className:" text-base text-black font-bold flex justify-end",children:(0,m.jsx)(E.rU,{onClick:function(){f(1)},children:(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsx)(U.U$P,{className:"mt-1"}),(0,m.jsx)("p",{className:"ml-2",children:"EDIT"})]})})})]}),(0,m.jsxs)("div",{className:"md:grid grid-cols-4",children:[(0,m.jsxs)("div",{className:"md:gird mx-2",children:[(0,m.jsx)("div",{className:"text-base text-black font-bold  decoration-2 mb-2",children:"Item Title:"}),(0,m.jsx)("div",{className:"col-span-6 md:grid grid-cols-2 gap-2",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:null===p||void 0===p||null===(n=p.itemBasicDetails)||void 0===n?void 0:n.itemTitle})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-base text-black font-bold  decoration-2 mb-2",children:"Template Description"}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,m.jsx)("div",{className:"mt-2 text-base",dangerouslySetInnerHTML:{__html:(null===p||void 0===p||null===(a=p.itemBasicDetails)||void 0===a?void 0:a.itemDesc)||""}})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-base text-black font-bold  decoration-2 mb-2",children:"Upload Images"}),(0,m.jsxs)("div",{className:"md:grid grid-cols-1 gap-2",children:[(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",onClick:function(){var e;return N(null===p||void 0===p||null===(e=p.itemBasicDetails)||void 0===e?void 0:e.sopFileUrl)},children:(0,m.jsx)("p",{className:"mt-2 text-base underline text-sky-500 cursor-pointer",children:null===p||void 0===p||null===(i=p.itemBasicDetails)||void 0===i?void 0:i.sopFileUrl})}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",onClick:function(){var e;return N(null===p||void 0===p||null===(e=p.itemBasicDetails)||void 0===e?void 0:e.uploadImageUrl)},children:(0,m.jsx)("p",{className:"mt-2 text-base underline text-sky-500 cursor-pointer",children:null===p||void 0===p||null===(s=p.itemBasicDetails)||void 0===s?void 0:s.uploadImageUrl})})]})]}),(0,m.jsx)("div",{children:(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,m.jsx)("div",{className:"mt-2 text-base",children:null===p||void 0===p||null===(l=p.itemBasicDetailsOther)||void 0===l?void 0:l.itemFeatureDec})})})]})]}),(0,m.jsxs)(o.Zb,{className:"mx-3 mb-4 mt-1",children:[(0,m.jsxs)("div",{className:"md:grid grid-cols-2 mb-4",children:[(0,m.jsxs)("h5",{className:"mx-2 mb-4 mt-1 font-bold",children:["VARIANTS DETAILS"," "]}),(0,m.jsx)("div",{className:" text-base text-black font-bold flex justify-end",children:(0,m.jsx)(E.rU,{onClick:function(){f(2)},children:(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsx)(U.U$P,{className:"mt-1"}),(0,m.jsx)("p",{className:"ml-2",children:"EDIT"})]})})})]}),null===p||void 0===p||null===(u=p.itemVarients)||void 0===u?void 0:u.map((function(e,t){return(0,m.jsxs)("div",{className:"md:grid grid-cols-4 mx-2",children:[(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-base text-black font-bold  decoration-2 mb-2",children:"Variant Title"}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:null===e||void 0===e?void 0:e.item_var_title})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-base text-black font-bold  decoration-2 mb-2",children:"Variant ID"}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:"ID12345"})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-base text-black font-bold  decoration-2 mb-2",children:"Variant Price"}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:null===e||void 0===e?void 0:e.var_def_price})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-base text-black font-bold  decoration-2 mb-2 mt-4",children:"Variant Description"}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,m.jsx)("div",{className:"mt-2 text-base",dangerouslySetInnerHTML:{__html:(null===e||void 0===e?void 0:e.item_var_desc)||""}})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-base text-black font-bold  decoration-2 mb-2  mt-4",children:"Upload Images"}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",onClick:function(){return N(null===e||void 0===e?void 0:e.img_url)},children:(0,m.jsx)("p",{className:"mt-2 text-base underline text-sky-500 cursor-pointer",children:null===e||void 0===e?void 0:e.img_url})})]})]},t)}))]}),(0,m.jsx)(o.Vq,{isOpen:g,onClose:function(){return j(!1)},children:(0,m.jsxs)("div",{className:"p-5",children:[(0,m.jsx)("img",{src:"".concat(D.Z.apiPrefix,"/media/uniqid/").concat(Z),alt:"Content"}),(0,m.jsx)(o.zx,{onClick:function(){return window.open("".concat(D.Z.apiPrefix,"/media/uniqid/").concat(Z),"_blank")},className:"mt-2",variant:"solid",children:"Download"})]})})]})},B=n(39126),L=n(67615),M=["onChange","refId"],z=p.Ry().shape({itemVarients:p.IX().of(p.Ry().shape({item_var_title:p.Z_().trim().required("Please enter item title").nullable(),item_var_desc:p.Z_().trim().max(1e3,"Description allowed 1000 characters only").required("Please enter descripttion").nullable(),var_def_price:p.Z_().trim().required("Please enter price").nullable()}))}),J=function(e){e.onChange;var t,n,a,l=e.refId,v=(0,x.Z)(e,M),j=(0,T.cloneDeep)(null===(t=v.itemIntials.itemVarients[0])||void 0===t?void 0:t.emptyTempSections),y=(0,r.useState)([]),b=(0,c.Z)(y,2),Z=(b[0],b[1],(0,r.useState)(null===(n=v.itemIntials)||void 0===n||null===(a=n.itemTemplate)||void 0===a?void 0:a.tempItemType)),_=(0,c.Z)(Z,2),N=_[0],w=(_[1],(0,d.v9)((function(e){return e.auth.user}))),C=(w.enterAccount,w.password,w.rememberMe,w.usernameOrEmail,w.user_type,w.acc_mno_parent_unq_id,w.acc_user_id),k=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.T7)(t[0],C,2);case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t,n,r){var a,s,l,c,o,u;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=[],r.fileType.map((function(e){!0===e.status&&l.push(e.label)})),c=r.fileType.filter((function(e){return!0===e.status})).map((function(e){return e.label})),c.join("/"),o=!1,null!==(a=t[0])&&void 0!==a&&null!==(s=a.type)&&void 0!==s&&s.includes("image")?l.includes("Image")&&(o=!0):"application/pdf"==t[0].type?l.includes("Pdf")&&(o=!0):"video/mp4"==t[0].type?l.includes("Video")&&(o=!0):"application/vnd.openxmlformats-officedocument.wordprocessingml.document"==t[0].type||"application/msword"==t[0].type?l.includes("Document")&&(o=!0):(0,h.By)("warning","files is not supported"),!o){e.next=13;break}return e.next=9,(0,L.T7)(t[0],C,2);case 9:return u=e.sent,e.abrupt("return",u);case 13:(0,h.By)("warning","files is not supported");case 14:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),S=(0,r.useState)(!1),P=(0,c.Z)(S,2),F=P[0],q=P[1],A=(0,r.useState)(null),E=(0,c.Z)(A,2),R=E[0],J=E[1],O=function(e){q(!0),J(e)};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(u.J9,{initialValues:null===v||void 0===v?void 0:v.itemIntials,validationSchema:z,innerRef:l,onSubmit:function(e,t){var n=t.setSubmitting,r=!1,a=!1,i=[];if("P"===N?e.itemVarients.map((function(e,t){r=""!==e.img_url})):r=!0,e.itemVarients.map((function(e,t){e.section.map((function(e,t){e.sectionValues.map((function(e,t){"UF"===e.formType&&!0===e.isMandatery&&i.push(e)}))}))})),a=!(i.length>0)||i.every((function(e){return e.fileUrl&&""!==e.fileUrl})),r)if(a){n(!0);var s=v.itemIntials;s.itemVarients=e.itemVarients,v.setItemInitials(s),v.setStep(v.step+1)}else(0,h.By)("warning","Please upload template files");else(0,h.By)("warning","Please upload image")},children:function(e){var t=e.values,n=e.touched,r=e.errors,a=(e.isSubmitting,e.setFieldValue);return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(u.l0,{children:[(0,m.jsx)(o.Yb,{children:(0,m.jsx)("div",{style:{backgroundColor:"#f5f5f5",padding:"20px 20px 0px 20px"},children:(0,m.jsx)(u.F2,{name:"itemVarients",children:function(e){var l,c=e.push,d=e.remove;return(0,m.jsx)(m.Fragment,{children:null===t||void 0===t||null===(l=t.itemVarients)||void 0===l?void 0:l.map((function(e,l){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(f.lG,{className:"h-full p-5",bodyClass:"h-full",children:[(0,m.jsxs)("div",{className:"grid grid-cols-4 flex gap-4  ",children:[(0,m.jsxs)(o.xJ,{className:"",label:(0,m.jsxs)("p",{children:["Variant Title",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:r.item_var_title&&n.item_var_title,errorMessage:r.item_var_title,children:[(0,m.jsx)(u.gN,{type:"text",autoComplete:"off",placeholder:"Enter Variant Title",component:o.II,name:"itemVarients[".concat(l,"].item_var_title")}),(0,m.jsx)(u.Bc,{name:"itemVarients[".concat(l,"].item_var_title"),children:function(e){return(0,m.jsx)("div",{style:{color:"red"},children:e})}})]}),!("S"===N)&&(0,m.jsxs)(o.xJ,{label:(0,m.jsxs)("p",{children:["Variant Price",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:r.var_def_price&&n.var_def_price,errorMessage:r.var_def_price,children:[(0,m.jsx)(u.gN,{type:"number",autoComplete:"off",placeholder:"Enter Variant Price",component:o.II,name:"itemVarients[".concat(l,"].var_def_price")}),(0,m.jsx)(u.Bc,{name:"itemVarients[".concat(l,"].var_def_price"),children:function(e){return(0,m.jsx)("div",{style:{color:"red"},children:e})}})]}),"D"===N&&(0,m.jsxs)(o.xJ,{label:(0,m.jsxs)("p",{children:["Validity",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:r.validity&&n.validity,errorMessage:r.validity,children:[(0,m.jsx)(u.gN,{type:"number",autoComplete:"off",placeholder:"Enter Validity",component:o.II,name:"itemVarients[".concat(l,"].validity"),validate:function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("D"!==N){e.next=9;break}return e.prev=1,e.next=4,p.Z_().required("Please enter validity").validate(t);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()}),(0,m.jsx)(u.Bc,{name:"itemVarients[".concat(l,"].validity"),children:function(e){return(0,m.jsx)("div",{style:{color:"red"},children:e})}})]}),"S"===N&&(0,m.jsxs)(o.xJ,{label:(0,m.jsxs)("p",{children:["Monthly Price",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:r.var_def_price&&n.var_def_price,errorMessage:r.var_def_price,children:[(0,m.jsx)(u.gN,{type:"number",autoComplete:"off",placeholder:"Enter Variant Price",component:o.II,name:"itemVarients[".concat(l,"].var_def_price")}),(0,m.jsx)(u.Bc,{name:"itemVarients[".concat(l,"].var_def_price"),children:function(e){return(0,m.jsx)("div",{style:{color:"red"},children:e})}})]})]}),(0,m.jsx)("div",{style:{width:"70%"},className:"pt-2",children:(0,m.jsxs)(o.xJ,{label:(0,m.jsxs)("p",{children:["Variant Description",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:r.item_var_desc&&n.item_var_desc,errorMessage:r.item_var_desc,children:[(0,m.jsx)(u.gN,{name:"itemVarients[".concat(l,"].item_var_desc"),children:function(e){var t=e.field,n=e.form;return(0,m.jsx)(f.LD,{value:t.value,onChange:function(e){return n.setFieldValue(t.name,e)}})}}),(0,m.jsx)(u.Bc,{name:"itemVarients[".concat(l,"].item_var_desc"),children:function(e){return(0,m.jsx)("div",{style:{color:"red"},children:e})}})]})}),"P"===N&&(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-3",children:(0,m.jsxs)(f.lG,{children:[(0,m.jsxs)("h6",{className:"mx-4 mb-4 mt-2",children:["Upload Image",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,m.jsxs)(o.xJ,{label:"",children:[(0,m.jsx)(u.gN,{name:"itemVarients[".concat(l,"].img_url"),children:function(e){e.field;var t=e.form;return(0,m.jsx)("div",{className:"mx-4",children:(0,m.jsx)(o.gq,{beforeUpload:k,draggable:!0,className:"border-blue-500 bg-blue-50 w-96 h-36",onChange:function(e,n,r,a){var i;t.setFieldValue("itemVarients[".concat(l,"].img_url"),null===r||void 0===r||null===(i=r.data)||void 0===i?void 0:i.fileUnqId)},children:(0,m.jsxs)("div",{className:"my-10 text-center",children:[(0,m.jsx)("div",{className:"text-6xl mb-4 flex justify-center",children:(0,m.jsx)(g.qX3,{className:"h-10",style:{color:"#2563eb"}})}),(0,m.jsxs)("p",{className:"font-semibold",children:[(0,m.jsxs)("span",{className:"text-gray-800 dark:text-white",children:["Upload Files Here or"," "]}),(0,m.jsx)("span",{className:"text-blue-500",children:"browse"})]}),(0,m.jsx)("p",{className:"mt-1 opacity-60 dark:text-white",children:"JPG/PNG are allowed"})]})})})}}),t.itemVarients[l].img_url&&(0,m.jsxs)("div",{className:"upload-file cursor-pointer w-2/5",children:[(0,m.jsx)("div",{className:"upload-file-info",onClick:function(){return O(t.itemVarients[l].img_url)},children:(0,m.jsx)("h6",{className:"upload-file-name",children:t.itemVarients[l].img_url.substring(0,15)})}),(0,m.jsx)(I.Z,{className:"upload-file-remove ",onClick:function(){a("itemVarients[".concat(l,"].img_url"),"")}})]})]})]})}),(0,m.jsx)("div",{children:(0,m.jsx)(u.F2,{name:"itemVarients[".concat(l,"].section"),children:function(){var e,n;return(0,m.jsx)("div",{children:null===t||void 0===t||null===(e=t.itemVarients[l])||void 0===e||null===(n=e.section)||void 0===n?void 0:n.map((function(e,n){return(0,m.jsxs)("div",{children:[(0,m.jsx)("h5",{children:null===e||void 0===e?void 0:e.sectionTitle.toUpperCase()}),(0,m.jsx)(u.F2,{name:"itemVarients[".concat(l,"].section[").concat(n,"].sectionValues"),children:function(){var r;return(0,m.jsx)("div",{children:null===e||void 0===e||null===(r=e.sectionValues)||void 0===r?void 0:r.map((function(e,r){var c,d,v,x,h,j;return(0,m.jsx)("div",{children:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"grid grid-cols-2 mt-4",children:(0,m.jsxs)("div",{children:[(0,m.jsxs)("h6",{children:[" ",(null===e||void 0===e?void 0:e.title.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.title.slice(1))," ",(0,m.jsx)("span",{style:{color:"red"},children:null!==e&&void 0!==e&&e.isMandatery?"*":""})]}),"TF"===(null===e||void 0===e?void 0:e.formType)&&(0,m.jsxs)(o.xJ,{children:[(0,m.jsx)(u.gN,{type:"text",autoComplete:"off",name:"itemVarients[".concat(l,"].section[").concat(n,"].sectionValues[").concat(r,"].value"),validate:function(){var t=(0,s.Z)((0,i.Z)().mark((function t(n){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e||void 0===e||!e.isMandatery){t.next=9;break}return t.prev=1,t.next=4,p.Z_().required("Value is required").validate(n);case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),placeholder:"Enter Title",component:o.II}),(0,m.jsx)(u.Bc,{name:"itemVarients[".concat(l,"].section[").concat(n,"].sectionValues[").concat(r,"].value"),children:function(e){return(0,m.jsx)("div",{style:{color:"red"},children:e})}})]}),"TA"===(null===e||void 0===e?void 0:e.formType)&&(0,m.jsxs)(o.xJ,{children:[(0,m.jsx)(u.gN,{type:"text",autoComplete:"off",maxLength:parseInt(null===e||void 0===e?void 0:e.textAreaMaxLength),name:"itemVarients[".concat(l,"].section[").concat(n,"].sectionValues[").concat(r,"].value"),placeholder:"Enter Value",component:o.II,validate:function(){var t=(0,s.Z)((0,i.Z)().mark((function t(n){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e||void 0===e||!e.isMandatery){t.next=9;break}return t.prev=1,t.next=4,p.Z_().required("Value is required").validate(n);case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()}),(0,m.jsx)(u.Bc,{name:"itemVarients[".concat(l,"].section[").concat(n,"].sectionValues[").concat(r,"].value"),children:function(e){return(0,m.jsx)("div",{style:{color:"red"},children:e})}})]}),["DD","CB","RB"].includes(null===e||void 0===e?void 0:e.formType)&&(0,m.jsx)(u.F2,{name:"itemVarients[".concat(l,"].section[").concat(n,"].sectionValues[").concat(r,"].options"),children:function(t){var a,c=t.push,d=t.remove;return(0,m.jsx)("div",{children:null===e||void 0===e||null===(a=e.options)||void 0===a?void 0:a.map((function(t,a){return(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"flex mt-4",children:[(0,m.jsxs)(o.xJ,{className:"w-80",children:[(0,m.jsx)(u.gN,{type:"text",autoComplete:"off",name:"itemVarients[".concat(l,"].section[").concat(n,"].sectionValues[").concat(r,"].options[").concat(a,"].option"),placeholder:"option ".concat(a+1),component:o.II,validate:function(){var t=(0,s.Z)((0,i.Z)().mark((function t(n){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e||void 0===e||!e.isMandatery){t.next=9;break}return t.prev=1,t.next=4,p.Z_().required("Option is required").validate(n);case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()}),(0,m.jsx)(u.Bc,{name:"itemVarients[".concat(l,"].section[").concat(n,"].sectionValues[").concat(r,"].options[").concat(a,"].option"),children:function(e){return(0,m.jsx)("div",{style:{color:"red"},children:e})}})]}),(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsx)(o.zx,{type:"button",className:"ml-4 border-cyan-500",shape:"circle",size:"md",icon:(0,m.jsx)(g.b9W,{}),onClick:function(){return c({option:""})}}),(null===e||void 0===e?void 0:e.options.length)>1&&(0,m.jsx)(o.zx,{className:"ml-4 border-red-500",shape:"circle",size:"md",icon:(0,m.jsx)(g.bQR,{}),onClick:function(){return d(a)},type:"button"})]})]},"id")},a)}))})}}),"CK"===(null===e||void 0===e?void 0:e.formType)&&(0,m.jsxs)(o.xJ,{children:[(0,m.jsx)(u.gN,{name:"itemVarients[".concat(l,"].section[").concat(n,"].sectionValues[").concat(r,"].value"),validate:function(){var t=(0,s.Z)((0,i.Z)().mark((function t(n){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===e||void 0===e||!e.isMandatery){t.next=9;break}return t.prev=1,t.next=4,p.Z_().required("Value is required").validate(n);case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}(),children:function(e){var t=e.field,n=e.form;return(0,m.jsx)(f.LD,{value:t.value,onChange:function(e){return n.setFieldValue(t.name,e)}})}}),(0,m.jsx)(u.Bc,{name:"itemVarients[".concat(l,"].section[").concat(n,"].sectionValues[").concat(r,"].value"),children:function(e){return(0,m.jsx)("div",{style:{color:"red"},children:e})}})]}),"UF"===(null===e||void 0===e?void 0:e.formType)&&(0,m.jsxs)(o.xJ,{children:[(0,m.jsx)(u.gN,{name:"itemVarients[".concat(l,"].section[").concat(n,"].sectionValues[").concat(r,"].fileUrl"),children:function(e){e.field;var a,i,s,c,u,d,p=e.form;return(0,m.jsxs)("div",{className:"mx-4 mt-4",children:[(0,m.jsx)(o.gq,{beforeUpload:function(e,a){var i,s;return V(e,a,null===t||void 0===t||null===(i=t.itemVarients[l])||void 0===i||null===(s=i.section[n])||void 0===s?void 0:s.sectionValues[r])},draggable:!0,className:"border-gray-200 w-96 h-[0] mt-3",style:{minHeight:"3rem"},onChange:function(e,t,a,i){var s;p.setFieldValue("itemVarients[".concat(l,"].section[").concat(n,"].sectionValues[").concat(r,"].fileUrl"),null===a||void 0===a||null===(s=a.data)||void 0===s?void 0:s.fileUnqId)},children:(0,m.jsx)("div",{className:"my-10 text-center",children:(0,m.jsx)("div",{className:"my-10 text-center",children:(0,m.jsxs)("p",{className:"font-semibold",children:[(0,m.jsxs)("span",{className:"text-gray-400 dark:text-white",children:[(null===t||void 0===t||null===(a=t.itemVarients[l])||void 0===a||null===(i=a.section[n])||void 0===i||null===(s=i.sectionValues[r])||void 0===s?void 0:s.fileUrl)?"File Uploaded":"No Files Uploaded"," ,"," "]}),(0,m.jsx)("span",{className:"text-blue-700",children:"Browse"})]})})})}),(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsxs)("p",{children:["Allowed files"," ",":"]}),(0,m.jsx)("div",{className:"flex",children:null===t||void 0===t||null===(c=t.itemVarients[l])||void 0===c||null===(u=c.section[n])||void 0===u||null===(d=u.sectionValues[r])||void 0===d?void 0:d.fileType.map((function(e){if(1==(null===e||void 0===e?void 0:e.status))return(0,m.jsxs)("p",{children:[null===e||void 0===e?void 0:e.label,"     ,"]})}))})]})]})}}),(null===t||void 0===t||null===(c=t.itemVarients[l])||void 0===c||null===(d=c.section[n])||void 0===d||null===(v=d.sectionValues[r])||void 0===v?void 0:v.fileUrl)&&(0,m.jsxs)("div",{className:"upload-file cursor-pointer h-12 w-96 ml-4",children:[(0,m.jsx)("div",{className:"upload-file-info",onClick:function(){var e,a,i;return O(null===t||void 0===t||null===(e=t.itemVarients[l])||void 0===e||null===(a=e.section[n])||void 0===a||null===(i=a.sectionValues[r])||void 0===i?void 0:i.fileUrl)},children:(0,m.jsx)("h6",{className:"upload-file-name",children:null===t||void 0===t||null===(x=t.itemVarients[l])||void 0===x||null===(h=x.section[n])||void 0===h||null===(j=h.sectionValues[r])||void 0===j?void 0:j.fileUrl.substring(0,15)})}),(0,m.jsx)(I.Z,{className:"upload-file-remove ",onClick:function(){a("itemVarients[".concat(l,"].section[").concat(n,"].sectionValues[").concat(r,"].fileUrl"),"")}})]})]})]})})})},r)}))})}})]},n)}))})}})})]}),(0,m.jsxs)("div",{className:"mx-4 mt-4 flex justify-end",children:[(0,m.jsx)(o.zx,{type:"button",variant:"plain",size:"sm",className:"font-bold-800 mb-4",style:{color:"#004D99"},icon:(0,m.jsx)(B.Y_C,{fill:"#004D99"}),onClick:function(){return c({item_var_title:"",var_def_price:"",item_var_desc:"",img_url:"",media_url:"",tp_struc_info:"",srt_desc:"",dataPlanValidity:"",section:j})},children:"ADD NEW VARIANT"}),(null===t||void 0===t?void 0:t.itemVarients.length)>1&&(0,m.jsx)(o.zx,{type:"button",variant:"plain",size:"sm",className:"font-bold-800",style:{color:"#FF0000"},icon:(0,m.jsx)(U.ZkW,{fill:"#FF0000"}),onClick:function(){return d(l)},children:"DELETE"})]})]})}))})}})})}),(0,m.jsx)(o.Vq,{isOpen:F,onClose:function(){return q(!1)},children:(0,m.jsxs)("div",{className:"p-5",children:[(0,m.jsx)("img",{src:"".concat(D.Z.apiPrefix,"/media/uniqid/").concat(R),alt:"Content"}),(0,m.jsx)(o.zx,{onClick:function(){return window.open("".concat(D.Z.apiPrefix,"/media/uniqid/").concat(R),"_blank")},className:"mt-2",variant:"solid",children:"Download"})]})})]})})}})})},O=(0,r.forwardRef)((function(e,t){var n=(0,r.useState)({SolutionBasicDetails:{values:null,validated:!1}}),a=(0,c.Z)(n,2),o=a[0],u=a[1],d=r.useRef();function p(){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)((0,i.Z)().mark((function e(){var t,n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,e.next=3,null===d||void 0===d||null===(t=d.current)||void 0===t?void 0:t.validateForm().then((function(e){e&&Object.keys(e).length>0&&(d.current.setTouched(e,!0),n=!0)}));case 3:if(n){e.next=6;break}return e.next=6,null===(r=d.current)||void 0===r?void 0:r.submitForm();case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.useImperativeHandle)(t,(function(){return{handleSubmitFromParent:function(){p()}}})),(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)(f.lG,{className:"h-full",bodyClass:"h-full",children:[(0,m.jsx)("h3",{className:"mx-4 mb-4 mt-2",children:"ITEM VARIANTS"}),(0,m.jsx)(J,{handleSubmit:p,onChange:function(e){u((0,l.Z)((0,l.Z)({},o),{},{SolutionBasicDetails:e}))},refId:d,itemIntials:e.itemIntials,setItemInitials:e.setItemInitials,step:e.step,setStep:e.setStep,optionalValues:e.optionalValues})]})})})),H=O,G=n(21454),W=n(67202),Y=n(37450),X=function(){var e,t,n,u,p=(0,j.TH)(),f=null===(e=p.state)||void 0===e?void 0:e.data,x=null!==(t=p.state)&&void 0!==t&&t.mode?p.state.mode:"ADD",g=(0,r.useState)(0),y=(0,c.Z)(g,2),b=y[0],Z=y[1],_=(0,r.useState)(),N=(0,c.Z)(_,2),w=(N[0],N[1],(0,r.useState)()),I=(0,c.Z)(w,2),D=(I[0],I[1],(0,r.useState)()),C=(0,c.Z)(D,2),k=(C[0],C[1],(0,r.useState)()),V=(0,c.Z)(k,2),S=(V[0],V[1],(0,d.v9)((function(e){return e.auth.user}))),F=S.unq_id,U=S.role_name,E=S.enterAccount,B=(0,r.useRef)(),L=(0,r.useRef)(),M=(0,r.useRef)(),z=(0,j.s0)();(0,r.useEffect)((function(){return function(){ue((0,v.EW)([]))}}),[]);var J={itemTemplate:{productCat:"",tempItemType:"",selectedTemplate:""},selectedTemplate:{selectedTemplate:""},itemBasicDetails:{itemId:"",itemTitle:"",itemDesc:"",taxData:[{taxComponents:"",taxAmount:"",taxType:""}],sopFileUrl:"",uploadImageUrl:""},itemBasicDetailsOther:{itemColour:"",itemFeatureDec:""},varientDetails:{itemTitle:"",itemActualPrice:"",itemId:"",variantID:"",variantDesc:"",variantTitleTwo:"",variantPriceTwo:"",validity:"",variantFeatureDesc:"",variantTitleThree:"",monthlyPrice:"",shortDescription:"",variantFeatureDescThird:""},itemVarients:[{item_var_title:"",var_def_price:"",item_var_desc:"",img_url:"",media_url:"",tp_struc_info:"",srt_desc:"",validity:""}]},O=[{name:"Catalouge"},{name:"Item",link:"/catalouge-menu-item-view-2"},{name:"Create Item"}];"EDIT"===x&&(O=[{name:"Catalouge"},{name:"Item",link:"/catalouge-menu-item-view-2"},{name:null===f||void 0===f?void 0:f.item_title,link:"/catalouge-menu-item-view-2",state:f},{name:"Edit"}]);var X=(0,r.useState)({}),$=(0,c.Z)(X,2),Q=($[0],$[1]),K=(0,r.useState)(J),ee=(0,c.Z)(K,2),te=ee[0],ne=ee[1],re=(0,d.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.itemsCreateList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.setTemplatesForItems})),ae=(0,r.useState)({}),ie=(0,c.Z)(ae,2),se=ie[0],le=ie[1],ce=(0,d.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.itemsCreateList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.setTemplateComponents})),oe=(0,r.useMemo)((function(){if(Array.isArray(ce)&&ce.length>0)return null===ce||void 0===ce?void 0:ce.map((function(e){return(0,l.Z)((0,l.Z)({},e),{},{value:null===e||void 0===e?void 0:e.tax_comp_title,label:null===e||void 0===e?void 0:e.tax_comp_title})}))}),[null===ce||void 0===ce?void 0:ce.length]),ue=(0,d.I0)(),de=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var t,n,r,a,s,l,c,o,u,d,m,p,f,v,x,g;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!te){e.next=16;break}return d=(0,T.cloneDeep)(oe),m=(0,T.cloneDeep)(te.itemBasicDetails.taxData),p=new Map,m.forEach((function(e){return p.set(e.taxComponents,e.taxAmount)})),(d=d.filter((function(e){return p.has(e.id)}))).forEach((function(e){var t=p.get(e.id);void 0!==t&&(e.tax_value=t,e.tax_id=e.id,e.tax_comp_ded_type=null==e.tax_comp_ded_type?"Percentage":e.tax_comp_ded_type)})),f=null===te||void 0===te||null===(t=te.itemVarients)||void 0===t?void 0:t.map((function(e){var t=JSON.stringify(e.section);return e.tp_struc_info=t,delete e.media_url,e})),(0,A.ZP)(null===te||void 0===te||null===(n=te.itemBasicDetails)||void 0===n?void 0:n.itemDesc),v={rel_prod_cat_id:null===te||void 0===te||null===(r=te.itemTemplate)||void 0===r?void 0:r.productCat,item_type:null===te||void 0===te||null===(a=te.itemTemplate)||void 0===a?void 0:a.tempItemType,item_title:null===te||void 0===te||null===(s=te.itemBasicDetails)||void 0===s?void 0:s.itemTitle.trim(),item_actual_price:0,item_desc:null===te||void 0===te||null===(l=te.itemBasicDetails)||void 0===l?void 0:l.itemDesc,item_sop_url:null===te||void 0===te||null===(c=te.itemBasicDetails)||void 0===c?void 0:c.sopFileUrl,item_thumbnail:null===te||void 0===te||null===(o=te.itemBasicDetails)||void 0===o?void 0:o.uploadImageUrl,item_status:"ACTIVE",rel_api_config_id:null,time_period:null,acc_id:F,acc_type:U,item_provider_id:12345,dgl_cat_tp_info:{id:null===te||void 0===te||null===(u=te.itemTemplate)||void 0===u?void 0:u.selectedTemplate},dgl_cat_item_vars:f,dgl_cat_item_taxes:d},console.log(v),e.next=13,(0,G.JS)(v);case 13:"success"===(x=e.sent).status&&((0,h.By)("success","Item Created Successfully"),z("/catalouge-menu-item-view-2")),"failed"===x.status&&(0,h.By)("danger",null===(g=x.message)||void 0===g?void 0:g.message);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,r.useEffect)((function(){ue((0,v.vO)(E))}),[ue]),(0,r.useEffect)((function(){if(f){var e=(0,W.f)(J,f);Q(e)}}),[]);return(0,r.useEffect)((function(){var e;if(re.length&&te&&null!==te&&void 0!==te&&null!==(e=te.itemTemplate)&&void 0!==e&&e.selectedTemplate){var t=re.find((function(e){var t;return e.id===(null===te||void 0===te||null===(t=te.itemTemplate)||void 0===t?void 0:t.selectedTemplate)}));if(void 0!=t){var n,r=(0,T.cloneDeep)(t),a=JSON.parse(r.tp_struc);r.tp_struc=a;var i=(0,T.cloneDeep)(null===te||void 0===te?void 0:te.itemVarients),s=null===r||void 0===r||null===(n=r.tp_struc)||void 0===n?void 0:n.map((function(e){var t,n;Array.isArray(null===e||void 0===e?void 0:e.sectionValues)&&(null===e||void 0===e||null===(t=e.sectionValues)||void 0===t?void 0:t.length)>0&&(e.sectionValues=null===e||void 0===e||null===(n=e.sectionValues)||void 0===n?void 0:n.map((function(e){return["DD","CB","RB"].includes(null===e||void 0===e?void 0:e.formType)&&(e.options=[{option:""}]),e})));return e}));f||(i[0].section=(0,T.cloneDeep)(s)),i[0].emptyTempSections=(0,T.cloneDeep)(s),ne((function(e){return(0,l.Z)((0,l.Z)({},e),{},{itemVarients:i})})),le(i)}}}),[re,null===te||void 0===te||null===(n=te.itemTemplate)||void 0===n?void 0:n.selectedTemplate]),(0,m.jsxs)("div",{children:[(0,m.jsx)(Y.Z,{list:O}),(0,m.jsxs)(o.Rg,{current:b,children:[(0,m.jsx)(o.Rg.Item,{title:"CHOOSE TEMPLATE"}),(0,m.jsx)(o.Rg.Item,{title:"ITEM DETAILS"}),(0,m.jsx)(o.Rg.Item,{title:"ITEM VARIANTS"}),(0,m.jsx)(o.Rg.Item,{title:"PREVIEW"})]}),(0,m.jsxs)("div",{className:"mt-6 rounded ",children:[0==b&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h3",{className:"mx-4 mb-4 mt-2",children:"Choose Template"}),(0,m.jsx)(q,{itemIntials:te,setItemInitials:ne,step:b,setStep:Z,ref:B})]}),1==b&&(0,m.jsx)(P,{itemIntials:te,setItemInitials:ne,step:b,setStep:Z,ref:L}),2==b&&(0,m.jsx)(H,{itemIntials:te,setItemInitials:ne,step:b,setStep:Z,ref:M,optionalValues:se}),3==b&&(0,m.jsx)(R,{itemIntials:te,step:b,setStep:Z})]}),(0,m.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,m.jsx)("div",{children:b>0&&(0,m.jsx)(o.zx,{className:"mx-2   ",style:(u={backgroundColor:"#4D4D4D",fontStyle:"normal",fontSize:500},(0,a.Z)(u,"fontSize","18px"),(0,a.Z)(u,"color","white"),u),onClick:function(){var e;Z((e=b-1)<0?0:e>3?3:e)},type:"button",children:"Previous"})}),(0,m.jsxs)("div",{className:"flex",children:[b>=0&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(o.zx,{className:"mx-2",onClick:function(){return ue((0,v.EW)([])),void z("/catalouge-menu-item-view-2")},variant:"solid",style:{backgroundColor:"#4D4D4D"},children:"Cancel"})}),b<3&&(0,m.jsx)(o.zx,{onClick:function(){var e;0==b&&(null===(e=B.current)||void 0===e||e.handleSubmitFromParent());1==b&&L.current.handleSubmitFromParent(),2==b&&M.current.handleSubmitFromParent()},disabled:3===b,variant:"solid",children:3===b?"Completed":"Next"}),3===b&&(0,m.jsx)(o.zx,{onClick:de,variant:"solid",children:"Submit for approval"})]})]})]})},$=n(69564),Q=n(61483);function K(){return(0,$.fn)("itemsCreateList",Q.Z),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"mt-5",children:(0,m.jsx)(X,{})})})}},55230:function(e,t,n){n.d(t,{CV:function(){return u},EW:function(){return j},N3:function(){return g},RZ:function(){return d},Ub:function(){return f},kk:function(){return o},vO:function(){return v},wU:function(){return p}});var r,a=n(4942),i=n(74165),s=n(15861),l=n(95273),c=n(21454),o=(0,l.hg)("salesProductList/data/getItems",function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.NW)();case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.ZH)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=(0,l.hg)("itemsList/data/getProductCategory",function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.hw)(t);case 2:return n=e.sent,e.abrupt("return",n.data.response);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=(0,l.hg)("salesProductList/data/getAllTemplattes",function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.nz)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,l.hg)("itemsList/data/getItemTableData",function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.z6)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=(0,l.hg)("itemsList/data/getTemplatesInItem",function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Y2)(t);case 2:return r=e.sent,e.abrupt("return",null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.response);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=(0,l.hg)("itemsList/data/getTemplateComponents",function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.C6)(t);case 2:return r=e.sent,e.abrupt("return",(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.response)||[]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),x=(0,l.oM)({name:"itemsList/data",initialState:{loading:!1,ItemList:[],tableData:{total:0,pageIndex:1,pageSize:10,query:"",sort:{Item:"",key:""}},itemsProductCatList:[],itemTableData:[],setTemplatesForItems:[],setTemplateComponents:[]},reducers:{setItemList:function(e,t){e.ItemList=t.payload},setTableData:function(e,t){e.tableData=t.payload},setItemTableData:function(e,t){e.itemTableData=t.payload},setProdCatListToDrp:function(e,t){e.itemsProductCatList=t.payload},setTemplatesForItems:function(e,t){e.setTemplatesForItems=t.payload}},extraReducers:(r={},(0,a.Z)(r,o.fulfilled,(function(e,t){var n;e.ItemList=t.payload,e.tableData.total=(null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.total)||0,e.loading=!1})),(0,a.Z)(r,o.pending,(function(e){e.loading=!0})),(0,a.Z)(r,d.fulfilled,(function(e,t){var n;e.itemsProductCatList=null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.map((function(e){return{value:e.id,label:e.prod_cat_title}})),e.loading=!1})),(0,a.Z)(r,d.pending,(function(e){e.loading=!0})),(0,a.Z)(r,m.fulfilled,(function(e,t){e.itemsAllTemplateList=null===t||void 0===t?void 0:t.payload,e.loading=!1})),(0,a.Z)(r,m.pending,(function(e){e.loading=!0})),(0,a.Z)(r,p.fulfilled,(function(e,t){e.itemTableData=null===t||void 0===t?void 0:t.payload,e.tableData.total=t.payload.total,e.loading=!1})),(0,a.Z)(r,p.pending,(function(e){e.loading=!0})),(0,a.Z)(r,f.fulfilled,(function(e,t){e.setTemplatesForItems=null===t||void 0===t?void 0:t.payload,e.loading=!1})),(0,a.Z)(r,f.pending,(function(e){e.loading=!0})),(0,a.Z)(r,v.fulfilled,(function(e,t){e.setTemplateComponents=null===t||void 0===t?void 0:t.payload,e.loading=!1})),(0,a.Z)(r,v.pending,(function(e){e.loading=!0})),r)}),h=x.actions,g=(h.setItemList,h.setTableData),j=(h.setItemTableData,h.setProdCatListToDrp,h.setTemplatesForItems);t.ZP=x.reducer},61483:function(e,t,n){var r=n(87781),a=n(60128),i=n(55230),s=(0,r.UY)({state:a.ZP,data:i.ZP});t.Z=s},60128:function(e,t,n){n.d(t,{B$:function(){return d},gM:function(){return m},j3:function(){return o},mI:function(){return u},pY:function(){return c}});var r=n(93433),a=n(95273),i=n(92546),s=(0,a.oM)({name:"itemsList/state",initialState:{selectedRows:[],selectedRow:[],deleteMode:""},reducers:{setSelectedRows:function(e,t){e.selectedRows=t.payload},setSelectedRow:function(e,t){e.selectedRow=t.payload},addRowItem:function(e,t){var n=t.payload,a=(0,i.Vk)(e);if(!a.selectedRows.includes(n))return{selectedRows:[].concat((0,r.Z)(a.selectedRows),(0,r.Z)(n))}},removeRowItem:function(e,t){var n=t.payload,r=(0,i.Vk)(e);if(r.selectedRows.includes(n))return{selectedRows:r.selectedRows.filter((function(e){return e!==n}))}},setDeleteMode:function(e,t){e.deleteMode=t.payload}}}),l=s.actions,c=l.setSelectedRows,o=l.setSelectedRow,u=l.addRowItem,d=l.removeRowItem,m=(l.toggleDeleteConfirmation,l.setDeleteMode);t.ZP=s.reducer}}]);
//# sourceMappingURL=8271.57f9edce.chunk.js.map