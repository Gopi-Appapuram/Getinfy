"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[9307],{37450:function(e,r,t){t(7869),t(72791);var a=t(11087),n=t(80184);r.Z=function(e){var r=e.list;return(0,n.jsx)("nav",{class:"w-full rounded-md pb-2",children:(0,n.jsx)("ol",{class:"list-reset flex",children:null===r||void 0===r?void 0:r.map((function(e,t){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("li",{children:e.link?null!==e&&void 0!==e&&e.state?(0,n.jsx)(a.rU,{to:e.link,state:{data:null===e||void 0===e?void 0:e.state},style:{textDecoration:"underline",color:"blue"},children:e.name}):(0,n.jsx)(a.rU,{to:e.link,style:{textDecoration:"underline",color:"blue"},children:e.name}):(0,n.jsx)(n.Fragment,{children:e.name})}),t+1<r.length&&(0,n.jsx)("li",{children:(0,n.jsx)("span",{class:"mx-2 text-neutral-500 dark:text-neutral-400",children:"/"})})]})}))})})}},63616:function(e,r,t){t.d(r,{CK:function(){return o},Ut:function(){return f},_K:function(){return x},nA:function(){return d},nD:function(){return m},st:function(){return l}});var a=t(74165),n=t(15861),s=t(31114);function o(e){return i.apply(this,arguments)}function i(){return(i=(0,n.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/order/offr-info",method:"get",params:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return(c=(0,n.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/cust-cats",method:"get",params:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return u.apply(this,arguments)}function u(){return(u=(0,n.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/order/offr-info",method:"get",params:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)((0,a.Z)().mark((function e(r){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.fetchData({url:"order/offr-info",method:"post",data:r});case 3:return t=e.sent,e.abrupt("return",{status:"success",data:t});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)((0,a.Z)().mark((function e(r){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.fetchData({url:"order/offr-info",method:"put",data:r});case 3:return t=e.sent,e.abrupt("return",{status:"success",data:t});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function x(e,r){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)((0,a.Z)().mark((function e(r,t){var n,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.fetchData({url:"order/offr-info?id=".concat(r,"&offr_status=").concat(t),method:"patch"});case 3:return n=e.sent,e.abrupt("return",{status:"success",data:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}},11696:function(e,r,t){t.d(r,{Is:function(){return f},T7:function(){return x},WO:function(){return m},hw:function(){return o},jK:function(){return d},oS:function(){return l}});var a=t(74165),n=t(15861),s=t(31114);function o(e){return i.apply(this,arguments)}function i(){return(i=(0,n.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/prod-cats",method:"get",params:r}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return(c=(0,n.Z)((0,a.Z)().mark((function e(r){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.fetchData({url:"/account/prod-cats",method:"post",data:r});case 3:return t=e.sent,e.abrupt("return",{status:"success",data:t});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function d(e,r){return u.apply(this,arguments)}function u(){return(u=(0,n.Z)((0,a.Z)().mark((function e(r,t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/prod-cats?id=".concat(r,"&mdProdCatStatus=").concat(t),method:"patch"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return p.apply(this,arguments)}function p(){return(p=(0,n.Z)((0,a.Z)().mark((function e(r){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.fetchData({url:"/account/prod-cats/".concat(r.id),method:"put",data:r});case 3:return t=e.sent,e.abrupt("return",{status:"success",data:t});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(n=e.t0.response)||void 0===n?void 0:n.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return(h=(0,n.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/acc-operators/dropdown/".concat(r.enterAccount),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,r,t){return v.apply(this,arguments)}function v(){return(v=(0,n.Z)((0,a.Z)().mark((function e(r,t,n){var o,i,l;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(o=new FormData).append("file",r),e.next=5,s.Z.fetchData({url:"/media/".concat(t,"/").concat(n),method:"post",data:o,headers:{"Content-Type":"multipart/form-data"}});case 5:return i=e.sent,e.abrupt("return",{status:"success",data:i.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l?void 0:l.data)||e.t0.toString()});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}},19307:function(e,r,t){t.r(r),t.d(r,{default:function(){return O}});var a=t(29439),n=t(72791),s=t(50662),o=t(7869),i=t(92506),l=t(62797),c=t(80184),d=t(57689),u=t(1413),f=t(16030),p=t(30948),m=t(11087);function h(e,r){return Object.keys(e).find((function(t){return e[t]===r}))}var x=function(e){return(0,c.jsx)(s.II,(0,u.Z)((0,u.Z)({},e),{},{value:e.field.value,suffix:"%"}))},v=function(e){return(0,c.jsx)(s.II,(0,u.Z)((0,u.Z)({},e),{},{value:e.field.value,prefix:"$"}))},_=[{label:"Daily",value:"DAILY"},{label:"Weekly",value:"WEEKLY"},{label:"Monthly",value:"MONTHLY"},{label:"Quarterly",value:"QUARTERLY"},{label:"Half-Yearly",value:"HALFYEARLY"},{label:"Yearly",value:"YEARLY"}];function g(e){var r=e.offerInitialValues,t=e.offerValidationSchema,a=e.handleFirstStepSubmit,n=(0,f.v9)((function(e){return e.offerCashback.data})),l=n.customerCategories,d=n.productCategories;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(i.J9,{initialValues:r,validationSchema:t,onSubmit:function(e,r){(0,r.setSubmitting)(!0),a(e)},children:function(e){var r=e.values,t=e.touched,a=e.errors,n=(e.isSubmitting,e.handleSubmit);return(0,c.jsxs)(i.l0,{onSubmit:n,children:[(0,c.jsx)("div",{className:"mt-6 dark:bg-gray-700 rounded ",children:(0,c.jsxs)("div",{className:"mt-5",style:{backgroundColor:"white"},children:[(0,c.jsx)("h3",{children:"Create Offer"}),(0,c.jsx)("div",{className:"mt-6  rounded",style:{backgroundColor:"#f5f5f5"},children:(0,c.jsx)("div",{className:" p-5",style:{backgroundColor:"#F5F5F5"},children:(0,c.jsx)(o.lG,{className:"h-full",bodyClass:"h-full",divider:!0,children:(0,c.jsx)(s.Yb,{children:(0,c.jsxs)("div",{className:"md:grid grid-cols-2 gap-6 mx-4 mt-3",children:[(0,c.jsx)(s.xJ,{label:"Offer Code",invalid:a.offr_code&&t.offr_code,errorMessage:a.offr_code,children:(0,c.jsx)(i.gN,{type:"text",autoComplete:"off",name:"offr_code",placeholder:"Enter Offer Code",component:s.II,style:{width:"100%"}})}),(0,c.jsx)(s.xJ,{label:"Offer Title",invalid:a.offr_name&&t.offr_name,errorMessage:a.offr_name,children:(0,c.jsx)(i.gN,{type:"text",autoComplete:"off",name:"offr_name",placeholder:"Enter Offer Title",component:s.II,style:{width:"100%"}})}),(0,c.jsxs)("div",{className:"md:grid grid-cols-2 gap-4",style:{width:"100%"},children:[(0,c.jsx)(s.xJ,{label:"Start Date",invalid:a.offr_start_date&&t.offr_start_date,errorMessage:a.offr_start_date,children:(0,c.jsx)(i.gN,{name:"offr_start_date",children:function(e){var r=e.field,t=e.form;return(0,c.jsx)(s.Mt,{placeholder:"Select Date",field:r,form:t,value:r.value?new Date(r.value):r.value,onChange:function(e){t.setFieldValue(r.name,e)}})}})}),(0,c.jsx)(s.xJ,{label:"End Date",invalid:a.offr_end_date&&t.offr_end_date,errorMessage:a.offr_end_date,children:(0,c.jsx)(i.gN,{name:"offr_end_date",children:function(e){var r=e.field,t=e.form;return(0,c.jsx)(s.Mt,{placeholder:"Select Date",field:r,form:t,value:r.value?new Date(r.value):r.value,onChange:function(e){t.setFieldValue(r.name,e)}})}})})]}),(0,c.jsx)(s.xJ,{label:"Max Allowed Usages",invalid:a.offr_max_cpns_applcbl&&t.offr_max_cpns_applcbl,errorMessage:a.offr_max_cpns_applcbl,children:(0,c.jsx)(i.gN,{type:"number",autoComplete:"off",name:"offr_max_cpns_applcbl",placeholder:"Enter Max Allowed Usages",component:s.II,style:{width:"100%"}})}),(0,c.jsx)(s.xJ,{label:"Max Allowed Usages/customer",invalid:a.offr_no_of_cpns&&t.offr_no_of_cpns,errorMessage:a.offr_no_of_cpns,children:(0,c.jsx)(i.gN,{type:"number",autoComplete:"off",name:"offr_no_of_cpns",placeholder:"Enter Amount",component:s.II})}),(0,c.jsx)(s.xJ,{label:"Frequency",className:"ml-2",invalid:a.offr_timeperiod&&t.offr_timeperiod,errorMessage:a.offr_timeperiod,children:(0,c.jsx)(i.gN,{name:"offr_timeperiod",children:function(e){var t=e.field,a=e.form;return(0,c.jsx)(s.Ph,{placeholder:"Select Frequency",field:t,form:a,options:_,value:null===_||void 0===_?void 0:_.filter((function(e){return e.value===r.offr_timeperiod})),onChange:function(e){return a.setFieldValue(t.name,e.value)}})}})}),(0,c.jsx)(s.xJ,{label:"Product Category",invalid:a.rel_offr_prod_cat&&t.rel_offr_prod_cat,errorMessage:a.rel_offr_prod_cat,children:(0,c.jsx)(i.gN,{name:"rel_offr_prod_cat",children:function(e){var t=e.field,a=e.form;return(0,c.jsx)(s.Ph,{placeholder:"Select Product Category",field:t,form:a,options:d,value:null===d||void 0===d?void 0:d.filter((function(e){return e.id==r.rel_offr_prod_cat})),onChange:function(e){return a.setFieldValue(t.name,e.id)}})}})}),(0,c.jsx)(s.xJ,{label:"Customer Category",invalid:a.rel_offr_cust_cat&&t.rel_offr_cust_cat,errorMessage:a.rel_offr_cust_cat,children:(0,c.jsx)(i.gN,{name:"rel_offr_cust_cat",children:function(e){var t=e.field,a=e.form;return(0,c.jsx)(s.Ph,{placeholder:"Select Customer Category",field:t,form:a,options:l,value:null===l||void 0===l?void 0:l.filter((function(e){return e.id==r.rel_offr_cust_cat})),onChange:function(e){var r;a.setFieldValue(t.name,e.id);var n=JSON.parse(e.cust_cat_type);h(n,!0),a.setFieldValue("cust_type",(null===(r=h(n,!0))||void 0===r?void 0:r.replace(/_/g,""))||"RetailCustomer")}})}})}),(0,c.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,c.jsx)("label",{className:"mb-3",children:"Offer Type"}),(0,c.jsx)(i.gN,{name:"offr_type_fxd_amnt",children:function(e){var t=e.field,a=e.form;return(0,c.jsxs)(s.Y8.Group,{field:t,form:a,value:r.offr_type_fxd_amnt,onChange:function(e){return a.setFieldValue(t.name,e)},children:[(0,c.jsx)(s.Y8,{value:!0,style:{height:"25px",width:"25px"},children:"Fixed Amount"}),(0,c.jsx)(s.Y8,{value:!1,style:{height:"25px",width:"25px",marginLeft:"30px"},children:"Percentage"})]})}})]}),(0,c.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,c.jsx)("label",{className:"mb-3",children:"Select Bearer Account"}),(0,c.jsxs)("div",{style:{display:"flex"},children:[(0,c.jsx)(s.XZ,{}),(0,c.jsx)("label",{children:"Operator"}),(0,c.jsx)(s.XZ,{className:"ml-6"}),(0,c.jsx)("label",{children:"Provider"})]})]}),(0,c.jsx)(s.xJ,{className:"mt-2",invalid:a.offr_value&&t.offr_value,errorMessage:a.offr_value,children:(0,c.jsx)(i.gN,{name:"offr_value",children:function(e){var t=e.field,a=e.form;return(0,c.jsx)(p.Z,{form:a,field:t,placeholder:"Enter Amount",customInput:null!==r&&void 0!==r&&r.offr_type_fxd_amnt?v:x,onValueChange:function(e){a.setFieldValue(t.name,e.value)}})}})}),(0,c.jsxs)("div",{style:{display:"flex"},children:[(0,c.jsx)(s.xJ,{className:"mt-2",invalid:a.operator_share&&t.operator_share,errorMessage:a.operator_share,children:(0,c.jsx)(i.gN,{name:"operator_share",children:function(e){var r=e.field,t=e.form;return(0,c.jsx)(p.Z,{form:t,field:r,customInput:x,onValueChange:function(e){t.setFieldValue(r.name,e.value)}})}})}),(0,c.jsx)(s.xJ,{className:"mt-2",invalid:a.provider_share&&t.provider_share,errorMessage:a.provider_share,children:(0,c.jsx)(i.gN,{name:"provider_share",children:function(e){var r=e.field,t=e.form;return(0,c.jsx)(p.Z,{className:"ml-3 ",form:t,field:r,customInput:x,onValueChange:function(e){t.setFieldValue(r.name,e.value)}})}})})]}),(0,c.jsx)(s.xJ,{label:"Description",className:"",invalid:a.offr_desc&&t.offr_desc,errorMessage:a.offr_desc,children:(0,c.jsx)(i.gN,{name:"offr_desc",children:function(e){var r=e.field;return(0,c.jsx)(o.LD,{value:r.value,onChange:r.onChange(r.name)})}})})]})})})})})]})}),(0,c.jsxs)("div",{className:"mt-4 text-right",children:[(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(m.rU,{className:"block lg:inline-block md:mb-0 mb-4",to:"/offers",children:(0,c.jsx)(s.zx,{type:"button",className:"mx-2",onClick:function(){return console.log("cancel")},variant:"solid",style:{backgroundColor:"#4D4D4D"},children:"Cancel"})})}),(0,c.jsx)(s.zx,{variant:"solid",type:"submit",children:"Next"})]})]})}})})}var b=t(74165),j=t(15861),y=t(16856),Z=t(63616),N=t(54110);var C=function(e){var r,t,a=e.onPrevious,n=e.configIntialValues,o=e.offerInitialValues,i=e.goToFirstStep,l=e.selectedMode,p=(0,f.v9)((function(e){return e.offerCashback.data})),m=p.customerCategories,h=p.productCategories,x=(0,d.s0)(),v=null===h||void 0===h||null===(r=h.find((function(e){return e.id==o.rel_offr_prod_cat})))||void 0===r?void 0:r.label,_=null===m||void 0===m||null===(t=m.find((function(e){return e.id==o.rel_offr_cust_cat})))||void 0===t?void 0:t.label,g=function(){var e=(0,j.Z)((0,b.Z)().mark((function e(){var r,t,a;return(0,b.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("EDIT"!==l){e.next=7;break}return r=(0,u.Z)((0,u.Z)({},o),{},{dgl_offrs_configs:n}),e.next=4,(0,Z.nD)(r);case 4:t=e.sent,e.next=11;break;case 7:return r=(0,u.Z)((0,u.Z)({},o),{},{dgl_offrs_configs:n}),e.next=10,(0,Z.Ut)(r);case 10:t=e.sent;case 11:"success"===t.status?(s.Am.push((0,c.jsx)(s.P_,{title:"EDIT"===l?"Offer Updation":"Offer Creation",type:"success",duration:2500,children:"EDIT"===l?"Offer Updated Successfuly":"Offer Created Successfuly"}),{placement:"top-end"}),x("/offers")):(a=(0,N.ld)(t)||"Error",s.Am.push((0,c.jsx)(s.P_,{title:"Failed",type:"danger",duration:2500,children:a}),{placement:"top-end"}));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"mt-6 dark:bg-gray-700 rounded ",children:(0,c.jsxs)(s.Zb,{className:"mx-3 mb-4 mt-1",children:[(0,c.jsxs)("div",{className:"md:grid grid-cols-2",children:[(0,c.jsxs)("h6",{className:" mb-4 mt-1 font-bold ",children:["OFFERS CREATION"," "]}),(0,c.jsxs)("div",{className:" text-xs text-black font-bold flex justify-end cursor-pointer",children:[(0,c.jsx)(y.U$P,{className:"mt-1"}),(0,c.jsx)("p",{onClick:function(){return i()},children:"EDIT"})]})]}),(0,c.jsxs)("div",{className:"md:grid grid-cols-5",children:[(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Offer Code"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:null===o||void 0===o?void 0:o.offr_code})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Offer Title"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:null===o||void 0===o?void 0:o.offr_name})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Start Date"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:new Date(null===o||void 0===o?void 0:o.offr_start_date).toLocaleDateString()})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"End Date"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:new Date(null===o||void 0===o?void 0:o.offr_end_date).toLocaleDateString()})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Product Category"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:v})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Customer Category"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:_})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Offer Type"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:null===o||void 0===o?void 0:o.offr_type})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Coupon Brearer Account"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:"N/A"})})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("div",{className:"text-xs text-black font-bold decoration-2",children:"Description"}),(0,c.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,c.jsx)("p",{className:"mt-2 text-xs",children:null===o||void 0===o?void 0:o.offr_desc})})]})]})]})}),(0,c.jsxs)("div",{className:"mt-4 text-right",children:[(0,c.jsx)(s.zx,{className:"mx-2",onClick:a,children:"Previous"}),(0,c.jsx)(s.zx,{onClick:function(){return g()},variant:"solid",children:"Submit for Approval"})]})]})},w=t(30598),k=t(69564),D=t(68457),S=t(37450);(0,k.fn)("offerCashback",D.Z);var O=function(){var e,r,t,o=(0,n.useState)(0),i=(0,a.Z)(o,2),u=i[0],p=i[1],m=(0,d.TH)(),h="EDIT"===(null===(e=m.state)||void 0===e?void 0:e.mode)?null===(r=m.state)||void 0===r?void 0:r.mode:"ADD",x=(0,n.useState)(h),v=(0,a.Z)(x,2),_=v[0],b=(v[1],null===(t=m.state)||void 0===t?void 0:t.data),j=(0,f.I0)(),y={offr_name:"",offr_start_date:"",offr_end_date:"",offr_code:"",offr_max_cpns_applcbl:0,offr_timeperiod:"",offr_no_of_cpns:0,rel_offr_prod_cat:"",rel_offr_cust_cat:"",offr_type_fxd_amnt:!0,offr_value:0,operator_share:0,provider_share:0,offr_desc:"",offr_type:"OFFER",cust_type:"",cust_id:""},Z=[{offr_config_title:"",offr_config_details:""}];b&&(y=b,Z=null===b||void 0===b?void 0:b.dgl_offrs_configs);var N=(0,n.useState)(y),k=(0,a.Z)(N,2),D=k[0],O=k[1],F=(0,n.useState)(Z),I=(0,a.Z)(F,2),q=I[0],R=(I[1],l.Ry({offr_name:l.Z_().required("Offer Name is required"),offr_start_date:l.hT().required("Start Date is required"),offr_end_date:l.hT().required("End Date is required"),offr_code:l.Z_().required("Offer Code is required"),offr_max_cpns_applcbl:l.Z_().required("Max Allowed Usages is required"),offr_timeperiod:l.Z_().required("Frequency is required"),offr_no_of_cpns:l.Z_().required("Max Allowed Usages perCustomer is required"),rel_offr_prod_cat:l.Z_().required("Product Category is required"),rel_offr_cust_cat:l.Z_().required("Customer Category is required"),offr_type_fxd_amnt:l.Z_().required("Offer Type is required"),offr_value:l.Z_().required("Offer Value is required"),operator_share:l.Z_().required("Operator Share is required"),provider_share:l.Z_().required("Provider Share is required"),offr_desc:l.Z_().required("Offer Description is required")})),E=(0,f.v9)((function(e){return e.auth.user})).unq_id,T=(0,n.useCallback)((function(){j((0,w.$F)({page_no:0,page_size:100,unqId:E})),j((0,w.Ul)({page_no:0,page_size:100,unqId:E}))}),[j]);(0,n.useEffect)((function(){T()}),[j,T]);var M=function(){p(u+1)},L=[{name:"Home",link:"/home"},{name:"Offers & Cashback",link:"/offers"},{name:"".concat("EDIT"===h?"Edit":"Create"," Offer")}];return(0,c.jsxs)("div",{className:"mt-5",children:[(0,c.jsx)(S.Z,{list:L}),(0,c.jsxs)("div",{children:[(0,c.jsxs)(s.Rg,{current:u,children:[(0,c.jsx)(s.Rg.Item,{title:"EDIT"===_?"EDIT OFFERS":"CREATE OFFERS"}),(0,c.jsx)(s.Rg.Item,{title:"PREVIEW"})]}),0==u&&(0,c.jsx)(g,{offerInitialValues:D,offerValidationSchema:R,handleFirstStepSubmit:function(e){O(e),M()},selectedMode:_}),1==u&&(0,c.jsx)(C,{offerInitialValues:D,configIntialValues:q,onPrevious:function(){var e;p((e=u-1)<0?0:e>3?3:e)},goToFirstStep:function(){p(0)},selectedMode:_})]})]})}},30598:function(e,r,t){t.d(r,{$F:function(){return p},N3:function(){return _},Pz:function(){return u},Ul:function(){return m},q9:function(){return f}});var a,n=t(4942),s=t(1413),o=t(74165),i=t(15861),l=t(95273),c=t(63616),d=t(11696),u=(0,l.hg)("offerCashback/data/getOffersList",function(){var e=(0,i.Z)((0,o.Z)().mark((function e(r){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.CK)(r);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),f=(0,l.hg)("offerCashback/data/getCashbacksList",function(){var e=(0,i.Z)((0,o.Z)().mark((function e(r){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.nA)(r);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),p=(0,l.hg)("offerCashback/data/getProdCatList",function(){var e=(0,i.Z)((0,o.Z)().mark((function e(r){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.hw)(r);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),m=(0,l.hg)("offerCashback/data/getCustCatList",function(){var e=(0,i.Z)((0,o.Z)().mark((function e(r){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.st)(r);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()),h={total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}},x=(0,l.oM)({name:"offerCashback/data",initialState:{loading:!1,offerList:[],tableData:h,productCategories:[],customerCategories:[],cashbackTableData:h,cashbackList:[]},reducers:{setOfferList:function(e,r){e.offerList=r.payload},setTableData:function(e,r){e.tableData=r.payload},setCashbackTableData:function(e,r){e.cashbackTableData=r.payload},setCashbackList:function(e,r){e.cashbackList=r.payload}},extraReducers:(a={},(0,n.Z)(a,u.fulfilled,(function(e,r){e.offerList=r.payload.res,e.tableData.total=r.payload.total,e.loading=!1})),(0,n.Z)(a,u.pending,(function(e){e.loading=!0})),(0,n.Z)(a,p.fulfilled,(function(e,r){var t,a=null===(t=r.payload.res)||void 0===t?void 0:t.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.prod_cat_title})}));e.productCategories=a,e.loading=!1})),(0,n.Z)(a,p.pending,(function(e){e.loading=!0})),(0,n.Z)(a,m.fulfilled,(function(e,r){var t,a=null===(t=r.payload.res)||void 0===t?void 0:t.map((function(e){return(0,s.Z)((0,s.Z)({},e),{},{value:null===e||void 0===e?void 0:e.id,label:null===e||void 0===e?void 0:e.cust_cat_title})}));e.customerCategories=a,e.loading=!1})),(0,n.Z)(a,m.pending,(function(e){e.loading=!0})),(0,n.Z)(a,f.fulfilled,(function(e,r){e.cashbackList=r.payload.res,e.cashbackTableData.total=r.payload.total,e.loading=!1})),(0,n.Z)(a,f.pending,(function(e){e.loading=!0})),a)}),v=x.actions,_=(v.setOfferList,v.setTableData);v.setCashbackTableData,v.setCashbackList;r.ZP=x.reducer},68457:function(e,r,t){t.d(r,{Z:function(){return u}});var a=t(87781),n=t(93433),s=t(95273),o=t(92546),i=(0,s.oM)({name:"salesOrderList/state",initialState:{selectedRows:[],selectedRow:[],deleteMode:"",newOrderDialog:!1},reducers:{setSelectedRows:function(e,r){e.selectedRows=r.payload},setSelectedRow:function(e,r){e.selectedRow=r.payload},addRowOrder:function(e,r){var t=r.payload,a=(0,o.Vk)(e);if(!a.selectedRows.includes(t))return{selectedRows:[].concat((0,n.Z)(a.selectedRows),(0,n.Z)(t))}},removeRowOrder:function(e,r){var t=r.payload,a=(0,o.Vk)(e);if(a.selectedRows.includes(t))return{selectedRows:a.selectedRows.filter((function(e){return e!==t}))}},setDeleteMode:function(e,r){e.deleteMode=r.payload},toggleNewOrderDialog:function(e,r){e.newOrderDialog=r.payload}}}),l=i.actions,c=(l.setSelectedRows,l.setSelectedRow,l.addRowOrder,l.removeRowOrder,l.toggleDeleteConfirmation,l.setDeleteMode,l.toggleNewOrderDialog,i.reducer),d=t(30598),u=(0,a.UY)({state:c,data:d.ZP})}}]);
//# sourceMappingURL=9307.e5503d00.chunk.js.map