(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[6615],{66615:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return B}});var r=n(29439),a=n(72791),s=n(87781),c=n(93433),o=n(95273),i=n(92546),l=(0,o.oM)({name:"CustomerCategoryList/state",initialState:{selectedRows:[],selectedRow:[],deleteMode:""},reducers:{setSelectedRows:function(e,t){e.selectedRows=t.payload},setSelectedRow:function(e,t){e.selectedRow=t.payload},addRowItem:function(e,t){var n=t.payload,r=(0,i.Vk)(e);if(!r.selectedRows.includes(n))return{selectedRows:[].concat((0,c.Z)(r.selectedRows),(0,c.Z)(n))}},removeRowItem:function(e,t){var n=t.payload,r=(0,i.Vk)(e);if(r.selectedRows.includes(n))return{selectedRows:r.selectedRows.filter((function(e){return e!==n}))}},setDeleteMode:function(e,t){e.deleteMode=t.payload}}}),u=l.actions,d=u.setSelectedRows,f=(u.setSelectedRow,u.addRowItem),v=u.removeRowItem,m=(u.toggleDeleteConfirmation,u.setDeleteMode,l.reducer),x=n(12861),p=(0,s.UY)({state:m,data:x.ZP}),h=n(69564),C=n(7869),g=n(50662),y=n(58617),b=n(16030),j=n(48573),w=n.n(j),I=n(58121),S=n.n(I),_=n(80184),N=function(){var e=(0,b.I0)(),t=(0,a.useRef)(),n=(0,b.v9)((function(e){return e.CurrencyList.data.tableData})),r=(0,b.v9)((function(e){return e.auth.user})),s=r.enterAccount,c=(r.password,r.rememberMe,r.usernameOrEmail,w()((function(e){var t=S()(n);t.page_no=n.pageIndex-1,t.page_size=n.pageSize,t.unq_id=s,t.sort_field=n.sort_field,"string"===typeof e&&e.length>1&&o(t);"string"===typeof e&&0===e.length&&o(t)}),500));var o=function(t){e((0,x.N3)(t)),e((0,x.ST)(t))};return(0,_.jsx)(g.II,{ref:t,className:"lg:w-52",size:"sm",placeholder:"Search",prefix:(0,_.jsx)(y.O6C,{className:"text-lg"}),onChange:function(e){c(e.target.value)}})},k=function(){return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(g.zx,{size:"sm",className:"block md:inline-block ltr:md:ml-2 rtl:md:mr-2 md:mb-0 mb-4",icon:(0,_.jsx)(y.Yv7,{}),onClick:function(){},children:"Filter"})})},A=n(11087),E=function(e){var t=e.actionPermissions.canAdd;return(0,_.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center",children:[(0,_.jsx)(N,{}),(0,_.jsx)(k,{}),(0,_.jsx)(A.rU,{className:"block lg:inline-block md:mx-2 md:mb-0 mb-4",target:"_blank",download:!0,children:(0,_.jsx)(g.zx,{block:!0,size:"sm",icon:(0,_.jsx)(y.H_7,{}),children:"Export"})}),(0,_.jsx)(A.rU,{className:"block lg:inline-block md:mb-0 mb-4",to:"/create-currency",children:(0,_.jsxs)(g.zx,{block:!0,variant:"solid",disabled:!t,style:{fontStyle:"normal"},className:"flex justify-center pt-[6px] gap-1",size:"sm",children:[(0,_.jsx)("p",{className:"pt-[2px]",children:(0,_.jsx)(y.yEd,{})}),"Add Currency Conversion"]})})]})},D=n(4942),T=n(74165),R=n(15861),V=n(23532),Z=n(57689),z=n(16856),M=n(17425),F=n(39126),U=n(59947),L=n(54110),q={ACTIVE:{label:"Active",dotClass:"bg-black-500",textClass:"text-black-500",backgroundColor:"bg-[#F5F5F5]"},SUBMITTED:{label:"Submitted",dotClass:"bg-blue-500",textClass:"text-black-500",backgroundColor:"bg-[#F0F7FF]"},IN_ACTIVE:{label:"Inactive",dotClass:"bg-red-500",textClass:"text-red-500",backgroundColor:"bg- #F5F5F5"}},P=function(e){var t=e.actionPermissions,n=((0,b.v9)((function(e){var t,n;return null===(t=e.CurrencyList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.getCurrAccount})),(0,a.useState)(!1)),s=(0,r.Z)(n,2),c=s[0],o=s[1],i=(0,a.useRef)(null),l=(0,a.useState)(""),u=(0,r.Z)(l,2),m=u[0],p=u[1],h=(0,b.I0)(),j=(0,b.v9)((function(e){var t;return null===e||void 0===e||null===(t=e.auth)||void 0===t?void 0:t.user})),w=j.enterAccount,I=j.unq_id,N=function(e){var n=e.row,r=((0,b.I0)(),(0,V.Z)().textTheme),s=(0,Z.s0)(),c=((0,a.useCallback)((function(){s("/app/sales/Item-details/".concat(n.id))}),[s,n]),"ACTIVE"!==n.md_curr_status?"green":"rose"),i="ACTIVE"!==n.md_curr_status?M.vUq:M.qGf,l={color:"grey",pointerEvents:"none"},u=(t.canAdd,t.canEdit),d=t.canView,f=t.canActivate;t.canClone,t.canApprove;return(0,_.jsxs)("div",{className:"text-lg",children:[(0,_.jsx)(g.u,{title:"Edit",children:(0,_.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(r),onClick:function(){s("/create-currency",{state:{data:n,mode:"EDIT"}})},style:u?null:l,children:(0,_.jsx)(z.U$P,{})})}),(0,_.jsx)(g.u,{title:"View",children:(0,_.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(r),style:d?null:l,children:(0,_.jsx)(y.Vvo,{})})}),(0,_.jsx)(g.u,{title:"".concat("ACTIVE"!==n.md_curr_status?"Activate":"Deactivate"),children:(0,_.jsx)("span",{className:"cursor-pointer p-1 text-".concat(c,"-800 hover:text-").concat(c,"-800"),onClick:function(){o(!0),p(n)},style:f?null:l,children:(0,_.jsx)(i,{})})})]})},k=(0,b.v9)((function(e){return e.CurrencyList.data.tableData})),A=k.pageIndex,E=k.pageSize,P=k.sort,B=k.query,O=k.total,K=k.sort_field,$=k.order,Y=(0,b.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.CurrencyList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.loading})),G=(0,b.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.CurrencyList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.currList})),H=(0,b.v9)((function(e){var t,n,r;return null===e||void 0===e||null===(t=e.CurrencyList)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.tableData)||void 0===r?void 0:r.total})),W=(0,a.useCallback)((function(){}),[]);(0,a.useEffect)((function(){h(d([]));var e=function(){var e=(0,R.Z)((0,T.Z)().mark((function e(){return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h((0,x.ST)({page_no:A-1,page_size:E,sort_field:K||"id",query:B,unqId:I,order:$}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[h,W,A,E,P,,B,c,w,K,$]),(0,a.useEffect)((function(){var e;i&&(null===(e=i.current)||void 0===e||e.resetSelected())}),[G]);var Q=(0,a.useMemo)((function(){return{pageIndex:A,pageSize:E,sort:P,query:B,total:H}}),[A,E,P,B,O]),J=function(){var e=(0,R.Z)((0,T.Z)().mark((function e(){var t,n;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="ACTIVE"===m.md_curr_status?"IN_ACTIVE":"ACTIVE",e.next=3,(0,U.DV)(m.id,t);case 3:(n=e.sent).data.success&&"ACTIVE"===t?(o(!1),(0,L.By)("success","Activated  successfully")):n.data.success&&"IN_ACTIVE"===t&&(o(!1),(0,L.By)("success","Deactivated successfully"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=(0,a.useMemo)((function(){return[{header:"Actions",id:"action",cell:function(e){return(0,_.jsx)(N,{row:e.row.original})}},{header:"Operator",accessorKey:"acc_name"},{header:"Currency Title",accessorKey:"cur_title"},{header:"Currency Symbol",accessorKey:"cur_symbol"},{header:"Conversion Rate",accessorKey:"cur_conv_rate"},{header:"Status",accessorKey:"md_curr_status",flex:1,cell:function(e){var t,n,r,a=e.row.original.md_curr_status;return(0,_.jsx)("div",{className:"flex items-center",children:(0,_.jsxs)("span",{className:"flex ml-2 rtl:mr-2 capitalize font-semibold rounded-full border ".concat(null===(t=q[a])||void 0===t?void 0:t.backgroundColor," mt-4 px-2 py-1 text-").concat(null===(n=q[a])||void 0===n?void 0:n.dotClass),children:["ACTIVE"===a&&(0,_.jsx)(M.vUq,{className:"mt-1 mr-2 text-[#3B8C59]"}),"IN_ACTIVE"===a&&(0,_.jsx)(M.qGf,{className:"mt-1 mr-2 text-[#FF0000]"}),"SUBMITTED"===a&&(0,_.jsx)(F.LHN,{className:"mt-1 mr-2 text-blue-500"}),null===(r=q[a])||void 0===r?void 0:r.label]})})}}]}),[]),ee=(0,a.useCallback)((function(e,t){if(e){var n=t.map((function(e){return e.original})),r=[];n.forEach((function(e){r.push(e.id)})),h(d(r))}else h(d([]))}),[h]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(C.wQ,{ref:i,columns:X,data:G,loading:Y,pagingData:Q,onPaginationChange:function(e){var t=S()(Q);t.pageIndex=e,h((0,x.N3)(t))},onSelectChange:function(e){var t=S()(Q);t.pageSize=Number(e),t.pageIndex=1,h((0,x.N3)(t))},onSort:function(e){var t=S()(Q),n=(0,L.TD)(e.key);t.sort_field=n,t.order=e.order,h((0,x.N3)(t))},onCheckBoxChange:function(e,t){h(e?f([t.id]):v(t.id))},onIndeterminateCheckBoxChange:ee,selectable:!0}),(0,_.jsxs)(g.Vq,{isOpen:c,onClose:function(){return o(!1)},children:[(0,_.jsx)("h6",{style:(0,D.Z)({fontStyle:"normal",fontSize:700},"fontSize","18px"),children:"Active"!==m.md_curr_status?"Activate":"Deactivate"}),(0,_.jsx)("hr",{className:"text-gary-500 mt-4 mb-4"}),(0,_.jsx)("p",{children:"Active"!==m.md_curr_status?"Are you sure you want to activate this currency ?":"Are you sure you want to deactivate this currency ?"}),(0,_.jsxs)("div",{className:"mt-6 text-end",children:[(0,_.jsx)(g.zx,{style:{backgroundColor:"#4D4D4D",color:"white"},className:"mr-3",onClick:function(){return o(!1)},children:"No"}),(0,_.jsx)(g.zx,{variant:"solid",onClick:function(){return J()},children:"Yes"})]})]})]})};(0,h.fn)("CurrencyList",p);var B=function(){var e=(0,b.v9)((function(e){return e.auth.user})).permissionsList,t=(0,a.useState)(e.includes("MSDCURADD")),n=(0,r.Z)(t,2),s=n[0],c=(n[1],(0,a.useState)(e.includes("MSDCUREDI"))),o=(0,r.Z)(c,2),i=o[0],l=(o[1],(0,a.useState)(e.includes("MSDCURVIE"))),u=(0,r.Z)(l,2),d=u[0],f=(u[1],(0,a.useState)(e.includes("MSDCURDEA"))),v=(0,r.Z)(f,2),m=v[0],x=(v[1],(0,a.useState)(e.includes("MSDCURCLO"))),p=(0,r.Z)(x,2),h=p[0],C=(p[1],(0,a.useState)(e.includes("MSDCURAPP"))),g=(0,r.Z)(C,2),y=g[0],j=(g[1],{canAdd:s,canEdit:i,canClone:h,canView:d,canActivate:m,canApprove:y});return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"lg:flex items-center justify-between mb-4",children:[(0,_.jsx)("h3",{className:"mb-4 lg:mb-0",children:"Currency"}),(0,_.jsx)(E,{actionPermissions:j})]}),(0,_.jsx)(P,{actionPermissions:j})]})}},20821:function(e,t,n){var r=n(26050),a=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(a,""):e}},26050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},48573:function(e,t,n){var r=n(8092),a=n(50072),s=n(42582),c=Math.max,o=Math.min;e.exports=function(e,t,n){var i,l,u,d,f,v,m=0,x=!1,p=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function C(t){var n=i,r=l;return i=l=void 0,m=t,d=e.apply(r,n)}function g(e){return m=e,f=setTimeout(b,t),x?C(e):d}function y(e){var n=e-v;return void 0===v||n>=t||n<0||p&&e-m>=u}function b(){var e=a();if(y(e))return j(e);f=setTimeout(b,function(e){var n=t-(e-v);return p?o(n,u-(e-m)):n}(e))}function j(e){return f=void 0,h&&i?C(e):(i=l=void 0,d)}function w(){var e=a(),n=y(e);if(i=arguments,l=this,v=e,n){if(void 0===f)return g(v);if(p)return clearTimeout(f),f=setTimeout(b,t),C(v)}return void 0===f&&(f=setTimeout(b,t)),d}return t=s(t)||0,r(n)&&(x=!!n.leading,u=(p="maxWait"in n)?c(s(n.maxWait)||0,t):u,h="trailing"in n?!!n.trailing:h),w.cancel=function(){void 0!==f&&clearTimeout(f),m=0,i=v=l=f=void 0},w.flush=function(){return void 0===f?d:j(a())},w}},50072:function(e,t,n){var r=n(97009);e.exports=function(){return r.Date.now()}},42582:function(e,t,n){var r=n(20821),a=n(8092),s=n(70152),c=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,i=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(s(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=o.test(e);return n||i.test(e)?l(e.slice(2),n?2:8):c.test(e)?NaN:+e}}}]);
//# sourceMappingURL=6615.e6f2391a.chunk.js.map