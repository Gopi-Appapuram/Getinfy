"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[8317],{26382:function(e,t,l){l.d(t,{Gm:function(){return j},HO:function(){return u},Jr:function(){return i},Su:function(){return c},Xe:function(){return f},e9:function(){return m},lI:function(){return g},rs:function(){return v}});var n=l(74165),a=l(15861),s=l(31114);function i(e){return r.apply(this,arguments)}function r(){return(r=(0,a.Z)((0,n.Z)().mark((function e(t){var l,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.fetchData({url:"/account/retail-customers",method:"post",data:t});case 3:return l=e.sent,e.abrupt("return",{status:"success",data:l});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function c(e){return o.apply(this,arguments)}function o(){return(o=(0,a.Z)((0,n.Z)().mark((function e(t){var l,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s.Z.fetchData({url:"/account/retail-customers",method:"put",data:t});case 3:return l=e.sent,e.abrupt("return",{status:"success",data:l});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/retail-customers",method:"get",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return p.apply(this,arguments)}function p(){return(p=(0,a.Z)((0,n.Z)().mark((function e(t,l){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/retail-customers?id=".concat(t,"&cust_status=").concat(l),method:"patch"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/currency/unq-id/drop-down/".concat(t.enterAccount),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/acc-operators/dropdown/".concat(t.enterAccount),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return b.apply(this,arguments)}function b(){return(b=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/cust-cats/unq-id-acc-type/drop-down/".concat(t.enterAccount,"/RetailCustomer"),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return _.apply(this,arguments)}function _(){return(_=(0,a.Z)((0,n.Z)().mark((function e(t){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/doc-pol?page_no=0&page_size=100&sort_feild=id&unq_id=".concat(t),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},38317:function(e,t,l){l.r(t),l.d(t,{default:function(){return Q}});var n=l(72791),a=l(74165),s=l(15861),i=l(29439),r=l(50662),c=l(7869),o=l(1413),u=l(44925),d=l(92506),m=l(16030),p=l(62797),f=l(8939),x=l(17425),v=l(39126),h=l(80184),j=["formik","onChange","refId"],b=[{label:"Right to Left",value:"RTL"},{label:"Left to Right",value:"LTR"}],g=[{label:"English",value:1},{label:"Spanish",value:2},{label:"Arabic",value:3},{label:"Portugese",value:4}],_=p.Ry().shape({custName:p.Z_().required("Please enter retail customer title").nullable(),customerType:p.Z_().required("Please select type operator").nullable(),custCompName:p.Z_().required("Please enter company name").nullable(),custIncorpDt:p.Z_().required("Please select corporate date").nullable(),custTaxId:p.Z_().required("Please enter tax id").nullable(),custTimeZone:p.Z_().required("Please select time zone").nullable(),custCurrency:p.Z_().required("Please select currency").nullable(),custLang:p.Z_().required("Please select language").nullable(),custOrient:p.Z_().required("Please enter display orientation").nullable()}),N=function(e){e.formik,e.onChange;var t=e.refId,l=(0,u.Z)(e,j),a=(0,m.v9)((function(e){var t,l;return null===(t=e.retailsList)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.currencyList})),s=(0,m.v9)((function(e){var t,l;return null===(t=e.retailsList)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.parentAccountList})),c=((0,m.v9)((function(e){var t,l;return null===(t=e.retailsList)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.productCatList})),(0,m.v9)((function(e){var t,l;return null===(t=e.retailsList)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.custmoerCatList}))),p=(0,m.v9)((function(e){return e.locale.dateFormat})),N=null===f.E||void 0===f.E?void 0:f.E.map((function(e){return{value:e.id,label:e.value}})),y=(0,n.useState)(!1),I=(0,i.Z)(y,2),C=I[0],Z=I[1],F=(0,n.useState)(""),S=(0,i.Z)(F,2),R=S[0],L=S[1],A=function(e){Z(!1)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h3",{className:"mx-4 mb-4 mt-2",children:"ACCOUNT INFO"}),(0,h.jsx)(d.J9,{innerRef:t,initialValues:l.retailIntialValues.retailAccInitValues,validationSchema:_,onSubmit:function(e,t){(0,t.setSubmitting)(!0);var n=(0,o.Z)((0,o.Z)({},l.retailState),e);l.setRetailState(n);var a=l.retailIntialValues;a.retailAccInitValues=e,l.setRetailIntialValues(a)},children:function(e){var t,l=e.values,n=e.touched,i=e.errors;e.isSubmitting;return(0,h.jsxs)(d.l0,{children:[(0,h.jsx)(r.Yb,{children:(0,h.jsxs)("div",{className:"md:grid grid-cols-4 gap-4 mx-4",children:[(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["Retail Customer Title",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:i.custName&&n.custName,errorMessage:i.custName,children:(0,h.jsx)(d.gN,{type:"text",autoComplete:"off",name:"custName",placeholder:"Enter Retail Customer Title ",component:r.II})}),(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["Operator",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:i.customerType&&n.customerType,errorMessage:i.customerType,children:(0,h.jsx)(d.gN,{name:"customerType",children:function(e){var t=e.field,n=e.form;return(0,h.jsx)(r.Ph,{placeholder:"Airtel Inc.",field:t,form:n,options:s,value:null===s||void 0===s?void 0:s.filter((function(e){return e.value===l.customerType})),onChange:function(e){return n.setFieldValue(t.name,e.value)}})}})}),(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["Company Name",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:i.custCompName&&n.custCompName,errorMessage:i.custCompName,children:(0,h.jsx)(d.gN,{type:"text",autoComplete:"off",name:"custCompName",placeholder:"Enter Company Name",component:r.II})}),(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["Incorporation Date",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:i.custIncorpDt&&n.custIncorpDt,errorMessage:i.custIncorpDt,children:(0,h.jsx)(d.gN,{name:"custIncorpDt",placeholder:"Incorporation Date",children:function(e){var t=e.field,l=e.form;return(0,h.jsx)(r.Mt,{placeholder:"Select incorporation date",field:t,form:l,value:t.value,onChange:function(e){l.setFieldValue(t.name,e)},maxDate:new Date,inputFormat:p})}})}),(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["Tax ID",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:i.custTaxId&&n.custTaxId,errorMessage:i.custTaxId,children:(0,h.jsx)(d.gN,{type:"text",autoComplete:"off",name:"custTaxId",placeholder:"Enter Tax ID",component:r.II})}),(0,h.jsx)(r.xJ,{label:(0,h.jsx)("p",{children:"Customer Category"}),children:(0,h.jsx)(d.gN,{name:"custCat",children:function(e){var t=e.field,n=e.form;return(0,h.jsx)(r.Ph,{placeholder:"Select Customer category",field:t,form:n,options:c,value:null===c||void 0===c?void 0:c.filter((function(e){return e.value===l.custCat})),onChange:function(e){return n.setFieldValue(t.name,e.value)}})}})}),(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["Time zone",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:i.custTimeZone&&n.custTimeZone,errorMessage:i.custTimeZone,children:(0,h.jsx)(d.gN,{name:"custTimeZone",children:function(e){var t=e.field,n=e.form;return(0,h.jsx)(r.Ph,{value:null===N||void 0===N?void 0:N.filter((function(e){return e.value===l.custTimeZone})),placeholder:"Select Type",field:t,form:n,options:N,onChange:function(e){return n.setFieldValue(t.name,e.value)}})}})}),(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["Currency",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:i.custCurrency&&n.custCurrency,errorMessage:i.custCurrency,children:(0,h.jsx)(d.gN,{name:"custCurrency",children:function(e){var t=e.field,n=e.form;return(0,h.jsx)(r.Ph,{value:null===a||void 0===a?void 0:a.filter((function(e){return e.value===l.custCurrency})),placeholder:"Select Type",field:t,form:n,options:a,onChange:function(e){return n.setFieldValue(t.name,e.value)}})}})}),(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["Language",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:i.custLang&&n.custLang,errorMessage:i.custLang,children:(0,h.jsx)(d.gN,{name:"custLang",children:function(e){var t=e.field,n=e.form;return(0,h.jsx)(r.Ph,{value:g.filter((function(e){return e.value===l.custLang})),placeholder:"Select Type",field:t,form:n,options:g,onChange:function(e){return n.setFieldValue(t.name,e.value)}})}})}),(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:[" Orientation",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:i.custOrient&&n.custOrient,errorMessage:i.custOrient,children:(0,h.jsx)(d.gN,{name:"custOrient",children:function(e){var t=e.field,n=e.form;return(0,h.jsx)(r.Ph,{value:b.filter((function(e){return e.value===l.custOrient})),placeholder:"Select Type",field:t,form:n,options:b,onChange:function(e){return n.setFieldValue(t.name,e.value)}})}})}),(0,h.jsx)(d.F2,{name:"fields",children:function(e){var t=e.push,n=e.remove;return(0,h.jsxs)(h.Fragment,{children:[l.fields.map((function(e,t){return(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[(0,h.jsx)("p",{style:{marginRight:"20px"},children:e.field_title}),(0,h.jsx)(r.u,{title:"Remove",children:(0,h.jsx)("span",{className:"cursor-pointer  text-".concat("rose","-800 hover:text-","rose","-800"),onClick:function(){return n(t)},style:{marginLeft:"auto"},children:(0,h.jsx)(x.qGf,{})})})]}),children:(0,h.jsx)(d.gN,{type:"text",autoComplete:"off",placeholder:"",component:r.II,name:"fields[".concat(t,"].field_value")})})})),(0,h.jsxs)(r.Vq,{isOpen:C,onClose:A,onRequestClose:A,shouldCloseOnOverlayClick:!1,shouldCloseOnEsc:!1,children:[(0,h.jsx)(r.xJ,{label:"Field Title",children:(0,h.jsx)(d.gN,{type:"text",name:"title",placeholder:"Please enter Custom Field Title",component:r.II,value:R,onChange:function(e){return L(e.target.value)}})}),(0,h.jsxs)("div",{className:"text-right mt-6",children:[(0,h.jsx)(r.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:A,children:"Cancel"}),(0,h.jsx)(r.zx,{variant:"solid",onClick:function(){return function(e,t){""!==R&&(e({field_title:R,field_value:""}),L(""),Z(!1))}(t)},children:"Okay"})]})]})]})}})]})}),(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)(r.zx,{type:"button",variant:"plain",className:"font-bold",style:{color:"#004D99"},onClick:function(){Z(!0)},icon:(0,h.jsx)(v.Y_C,{fill:"#004D99",className:""}),disabled:""==(null===(t=l.fields[l.fields.length-1])||void 0===t?void 0:t.field_value),children:"ADD CUSTOM FIELD"})})]})}})]})},y=l(54110),I=["onChange","refId"],C=p.Ry().shape({custFirstName:p.Z_().required("Please enter first name").nullable(),custLastName:p.Z_().required("Please enter last name").nullable(),custEmailId:p.Z_().required("Please enter email id").email("Please enter valid email id").nullable(),custPhone:p.Z_().min(2,"Number must be atleast 2 characters").max(20,"Max 20 characters are allowed").required("Please enter phone number").nullable()}),Z=function(e){e.onChange;var t=e.refId,l=(0,u.Z)(e,I),a=(0,n.useState)(!1),s=(0,i.Z)(a,2),c=s[0],m=s[1],p=(0,n.useState)(""),f=(0,i.Z)(p,2),j=f[0],b=f[1],g=function(e){m(!1)};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h3",{className:"mx-4 mb-4 mt-2",children:"CONTACT INFO"}),(0,h.jsx)(d.J9,{innerRef:t,initialValues:l.retailIntialValues.retailContactInitValues,validationSchema:C,onSubmit:function(e,t){(0,t.setSubmitting)(!0);var n=(0,o.Z)((0,o.Z)({},l.retailState),e);l.setRetailState(n);var a=l.retailIntialValues;a.retailContactInitValues=e,l.setRetailIntialValues(a)},children:function(e){var t,l=e.values,n=e.touched,a=e.errors;e.isSubmitting;return(0,h.jsxs)(d.l0,{children:[(0,h.jsx)(r.Yb,{children:(0,h.jsxs)("div",{className:"md:grid grid-cols-4 gap-4 mx-4",children:[(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["First Name",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:a.custFirstName&&n.custFirstName,errorMessage:a.custFirstName,children:(0,h.jsx)(d.gN,{values:l.custFirstName,type:"text",autoComplete:"off",name:"custFirstName",placeholder:"Enter First Name ",component:r.II})}),(0,h.jsx)(r.xJ,{label:"Middle Name",children:(0,h.jsx)(d.gN,{values:l.custMiddleName,type:"text",autoComplete:"off",name:"custMiddleName",placeholder:"Enter Middle Name ",component:r.II})}),(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["Last Name",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:a.custLastName&&n.custLastName,errorMessage:a.custLastName,children:(0,h.jsx)(d.gN,{values:l.custLastName,type:"text",autoComplete:"off",name:"custLastName",placeholder:"Enter Last Name ",component:r.II})}),(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["Email ID",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:a.custEmailId&&n.custEmailId,errorMessage:a.custEmailId,children:(0,h.jsx)(d.gN,{values:l.custEmailId,type:"text",autoComplete:"off",name:"custEmailId",placeholder:"Enter Email ID",component:r.II})}),(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["Phone Number",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:a.custPhone&&n.custPhone,errorMessage:a.custPhone,children:(0,h.jsx)(d.gN,{values:l.custPhone,type:"text",autoComplete:"off",name:"custPhone",placeholder:"Enter Phone Number",component:r.II})}),(0,h.jsx)(r.xJ,{label:"Alternate Phone Number",children:(0,h.jsx)(d.gN,{values:l.custAltCont,type:"text",autoComplete:"off",name:"custAltCont",placeholder:"Enter Alternate Phone Number",component:r.II})}),(0,h.jsx)(r.xJ,{label:"Fax Number",invalid:a.custFax&&n.custFax,errorMessage:a.custFax,children:(0,h.jsx)(d.gN,{values:l.custFax,type:"text",autoComplete:"off",name:"custFax",placeholder:"Enter Fax Number",component:r.II})}),(0,h.jsx)(r.xJ,{label:"Website URL",invalid:a.custWebUrl&&n.custWebUrl,errorMessage:a.custWebUrl,children:(0,h.jsx)(d.gN,{type:"text",autoComplete:"off",name:"custWebUrl",placeholder:"Enter Website URL",component:r.II,validate:y.r4})}),(0,h.jsx)(d.F2,{name:"fields",children:function(e){var t=e.push,n=e.remove;return(0,h.jsxs)(h.Fragment,{children:[l.fields.map((function(e,t){return(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("div",{style:{display:"flex",alignItems:"center",flexWrap:"wrap"},children:[(0,h.jsx)("p",{style:{marginRight:"20px"},children:e.field_title}),(0,h.jsx)(r.u,{title:"Remove",children:(0,h.jsx)("span",{className:"cursor-pointer  text-".concat("rose","-800 hover:text-","rose","-800"),onClick:function(){return n(t)},style:{marginLeft:"auto"},children:(0,h.jsx)(x.qGf,{})})})]}),children:(0,h.jsx)(d.gN,{type:"text",autoComplete:"off",placeholder:"",component:r.II,name:"fields[".concat(t,"].field_value")})})})),(0,h.jsxs)(r.Vq,{isOpen:c,onClose:g,onRequestClose:g,shouldCloseOnOverlayClick:!1,shouldCloseOnEsc:!1,children:[(0,h.jsx)(r.xJ,{label:"Field Title",children:(0,h.jsx)(d.gN,{type:"text",name:"title",placeholder:"Please enter Custom Field Title",component:r.II,value:j,onChange:function(e){return b(e.target.value)}})}),(0,h.jsxs)("div",{className:"text-right mt-6",children:[(0,h.jsx)(r.zx,{className:"ltr:mr-2 rtl:ml-2",variant:"plain",onClick:g,children:"Cancel"}),(0,h.jsx)(r.zx,{variant:"solid",onClick:function(){return function(e,t){""!==j&&(e({field_title:j,field_value:""}),b(""),m(!1))}(t)},children:"Okay"})]})]})]})}})]})}),(0,h.jsx)("div",{className:"mt-2",children:(0,h.jsx)(r.zx,{type:"button",variant:"plain",className:"font-bold",style:{color:"#004D99"},onClick:function(){m(!0)},icon:(0,h.jsx)(v.Y_C,{fill:"#004D99",className:""}),disabled:""===(null===(t=l.fields[l.fields.length-1])||void 0===t?void 0:t.field_value),children:"ADD CUSTOM FIELD"})})]})}})]})},F=["onChange","refId"],S=p.Ry().shape({custCountry:p.Z_().required("Please enter country").nullable(),custAddL1:p.Z_().min(6,"Enter address minimum of 6 characters").required("Please enter address").nullable(),custCity:p.Z_().required("Please enter city").nullable(),custState:p.Z_().required("Please enter state").nullable()}),R=function(e){e.onChange;var t=e.refId,l=(0,u.Z)(e,F);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h3",{className:"mx-4 mb-4 mt-2",children:"ADDRESS"}),(0,h.jsx)(d.J9,{innerRef:t,initialValues:l.retailIntialValues.addressFields,validationSchema:S,onSubmit:function(e,t){(0,t.setSubmitting)(!0);var n=(0,o.Z)((0,o.Z)({},l.retailState),e);l.setRetailState(n);var a=l.retailIntialValues;a.addressFields=e,l.setRetailIntialValues(a)},children:function(e){e.values;var t=e.touched,l=e.errors;e.setFieldValue,e.isSubmitting;return(0,h.jsx)(d.l0,{children:(0,h.jsxs)(r.Yb,{children:[(0,h.jsxs)("div",{className:"md:grid grid-cols-2 gap-4 mx-4",children:[(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["Address Line 1",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:l.custAddL1&&t.custAddL1,errorMessage:l.custAddL1,children:(0,h.jsx)(d.gN,{type:"text",autoComplete:"off",name:"custAddL1",placeholder:"Address Line 1",component:r.II})}),(0,h.jsx)(r.xJ,{label:"Address Line 2",children:(0,h.jsx)(d.gN,{type:"text",autoComplete:"off",name:"custAddL2",placeholder:"Address Line 2",component:r.II})})]}),(0,h.jsxs)("div",{className:"md:grid grid-cols-4 gap-4 mx-4",children:[(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["City",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:l.custCity&&t.custCity,errorMessage:l.custCity,children:(0,h.jsx)(d.gN,{type:"text",autoComplete:"off",name:"custCity",placeholder:"City",component:r.II})}),(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["State",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:l.custState&&t.custState,errorMessage:l.custState,children:(0,h.jsx)(d.gN,{type:"text",autoComplete:"off",name:"custState",placeholder:"State",component:r.II})}),(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:["Country",(0,h.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:l.custCountry&&t.custCountry,errorMessage:l.custCountry,children:(0,h.jsx)(d.gN,{type:"text",autoComplete:"off",name:"custCountry",placeholder:"State",component:r.II})}),(0,h.jsx)(r.xJ,{label:"Zip Code",children:(0,h.jsx)(d.gN,{type:"text",autoComplete:"off",name:"custZipcode",placeholder:"Zip Code",component:r.II})})]})]})})}})]})},L=(l(51581),l(9214)),A=l(54048),D=l(67267),E=function(e){e.errors,e.touched,e.values,e.setFieldValue;var t=(0,m.v9)((function(e){return e.auth.user})),l=(t.enterAccount,t.acc_user_id),u=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t,n){var s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,L.T7)(t[0],l,1);case 2:return s=e.sent,e.abrupt("return",s);case 4:case"end":return e.stop()}}),e)})));return function(t,l){return e.apply(this,arguments)}}(),p=(0,n.useState)(!1),f=(0,i.Z)(p,2),x=f[0],j=f[1],b=(0,n.useState)(null),g=(0,i.Z)(b,2),_=g[0],N=g[1],I=function(e){j(!0),N(e)};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"py-5",style:{backgroundColor:"#f5f5f5"},children:(0,h.jsxs)("div",{className:"md:grid grid-cols-2 gap-4",children:[(0,h.jsxs)(c.lG,{children:[(0,h.jsx)("h3",{className:" mb-4 mt-4 mx-4",children:"UPLOAD FILES"}),(0,h.jsx)(d.J9,{innerRef:e.refId,initialValues:e.retailIntialValues,onSubmit:function(t,l){(0,l.setSubmitting)(!0);var n=(0,o.Z)((0,o.Z)({},e.retailState),{},{uploadFiles:t.uploadFiles});e.setRetailState(n);var a=e.retailIntialValues;a.uploadFiles=t.uploadFiles,e.setRetailIntialValues(a)},children:function(e){var t,l=e.values,n=(e.touched,e.errors,e.isSubmitting,e.setFieldValue);return(0,h.jsx)(d.l0,{children:(0,h.jsx)(r.Yb,{children:(0,h.jsx)("div",{className:"md:grid grid-cols-2 gap-4 mx-4",children:null===l||void 0===l||null===(t=l.uploadFiles)||void 0===t?void 0:t.map((function(e,t){var a,s;try{s=null===e||void 0===e?void 0:e.doc_type}catch(i){console.error("Invalid JSON:",e.doc_type)}return(0,h.jsx)(r.xJ,{label:(0,h.jsxs)("p",{children:[null===e||void 0===e?void 0:e.doc_name," ",(0,h.jsx)("span",{style:{color:"red"},children:null!==(a=s)&&void 0!==a&&a.is_mandatory?"*":""})]}),children:(0,h.jsx)("div",{className:"md:grid grid-cols-1 gap-3",children:(0,h.jsx)(c.lG,{children:(0,h.jsxs)("div",{children:[(0,h.jsx)(r.gq,{draggable:!0,beforeUpload:u,onChange:function(l,a,s,i){n("uploadFiles[".concat(t,"].file_url"),null===s||void 0===s?void 0:s.data.fileUnqId),n("uploadFiles[".concat(t,"].file_name"),null===s||void 0===s?void 0:s.data.fileName),n("uploadFiles[".concat(t,"].file_type"),"upload"),n("uploadFiles[".concat(t,"].doc_name"),null===e||void 0===e?void 0:e.doc_name)},className:"border-gray-200 w-[500] h-[0]",style:{minHeight:"3rem"},name:"uploadFiles[".concat(t,"].file_url"),children:(0,h.jsx)("div",{className:"my-10 text-center",children:(0,h.jsxs)("p",{className:"font-semibold",children:[(0,h.jsxs)("span",{className:"text-gray-400 dark:text-white",children:[l.uploadFiles[t].file_url?"File Uploaded":"No Files Uploaded"," ,"," "]}),(0,h.jsx)("span",{className:"text-blue-700",children:"Browse"})]})})}),l.uploadFiles[t].file_url&&(0,h.jsxs)("div",{className:"upload-file  cursor-pointer truncate",children:[(0,h.jsx)("div",{className:"upload-file-info",onClick:function(){return I(l.uploadFiles[t])},children:(0,h.jsx)("h6",{className:"upload-file-name",children:l.uploadFiles[t].file_name.substring(0,15)})}),(0,h.jsx)(D.Z,{className:"upload-file-remove ",onClick:function(){n("uploadFiles[".concat(t,"].file_url"),""),n("uploadFiles[".concat(t,"].file_name"),""),n("uploadFiles[".concat(t,"].file_type"),"upload"),n("uploadFiles[".concat(t,"].doc_name"),null===e||void 0===e?void 0:e.doc_name)}})]})]})})})},t)}))})})})}})]}),(0,h.jsxs)(c.lG,{children:[(0,h.jsx)("h3",{className:"mb-4 mt-4 mx-4",children:"ADDITIONAL FILES"}),(0,h.jsx)(d.J9,{innerRef:e.refIdAdd,initialValues:null===e||void 0===e?void 0:e.retailIntialValues,onSubmit:function(t,l){var n;if((0,l.setSubmitting)(!0),null===(n=e.retailIntialValues.uploadFiles)||void 0===n?void 0:n.filter((function(e){return!0===e.doc_type.is_mandatory})).every((function(e){return""!==e.file_name}))){var a=(0,o.Z)((0,o.Z)({},e.retailState),{},{additionalFiles:t.additionalFiles});e.setRetailState(a);var s=e.retailIntialValues;s.additionalFiles=t.additionalFiles,e.setRetailIntialValues(s),"ADD"==e.mode?e.setStep(e.step+1):e.setStep(e.step+2)}else(0,y.By)("warning","Please upload the required documents")},children:function(e){var t=e.values,l=(e.touched,e.errors,e.isSubmitting,e.setFieldValue);return(0,h.jsx)(d.l0,{children:(0,h.jsx)(d.F2,{name:"additionalFiles",children:function(e){var n=e.push,a=e.remove;return(0,h.jsxs)(h.Fragment,{children:[(null===t||void 0===t?void 0:t.additionalFiles)&&(null===t||void 0===t?void 0:t.additionalFiles.map((function(e,s){var i,c;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"md:grid grid-cols-2 gap-2 mx-4 my-1",children:[(0,h.jsx)("div",{children:(0,h.jsx)(d.gN,{type:"text",autoComplete:"off",name:"additionalFiles[".concat(s,"].doc_name"),placeholder:"Enter Title",component:r.II})}),(0,h.jsxs)("div",{children:[(0,h.jsx)(r.gq,{draggable:!0,className:"border-gray-200 w-[500] h-[0] px-6",style:{minHeight:"3rem"},beforeUpload:u,onChange:function(e,t,n,a){l("additionalFiles[".concat(s,"].file_url"),null===n||void 0===n?void 0:n.data.fileUnqId),l("additionalFiles[".concat(s,"].file_name"),null===n||void 0===n?void 0:n.data.fileName),l("additionalFiles[".concat(s,"].file_type"),"additional")},children:(0,h.jsx)("div",{className:"my-10 text-center",children:(0,h.jsxs)("p",{className:"font-semibold",children:[(0,h.jsxs)("span",{className:"text-gray-400 dark:text-white",children:[(null===t||void 0===t||null===(i=t.additionalFiles[s])||void 0===i?void 0:i.file_url)?"File Uploaded":"No Files Uploaded"," ,"," "]}),(0,h.jsx)("span",{className:"text-blue-700",children:"Browse"})]})})}),(null===t||void 0===t||null===(c=t.additionalFiles[s])||void 0===c?void 0:c.file_url)&&(0,h.jsxs)("div",{className:"upload-file truncate",children:[(0,h.jsx)("div",{className:"upload-file-info",onClick:function(){return I(t.additionalFiles[s])},children:(0,h.jsx)("h6",{className:"upload-file-name",children:t.additionalFiles[s].file_name.substring(0,15)})}),(0,h.jsx)(D.Z,{className:"upload-file-remove ",onClick:function(){l("additionalFiles[".concat(s,"].file_url"),""),l("additionalFiles[".concat(s,"].file_name"),""),l("additionalFiles[".concat(s,"].file_type"),"")}})]})]})]},s),(0,h.jsxs)("div",{className:"grid grid-cols-2",children:[(0,h.jsx)(r.zx,{variant:"plain",type:"button",className:"font-bold m-2",style:{color:"#004D99"},icon:(0,h.jsx)(v.Y_C,{fill:"#004D99"}),onClick:function(){return n({file_name:"",file_url:"",file_type:""})},children:"ADD FILE"}),(0,h.jsx)(r.zx,{variant:"plain",type:"button",className:"font-bold m-2",style:{color:"#FF0000"},disabled:0===s,icon:(0,h.jsx)(v.XBT,{fill:"#FF0000"}),onClick:function(){return a(s)},children:"DELETE FILE"})]})]})}))),(0,h.jsx)(r.Vq,{isOpen:x,onClose:function(){return j(!1)},children:(0,h.jsxs)("div",{className:"p-5",children:[(0,h.jsx)("img",{src:"".concat(A.Z.apiPrefix,"/media/uniqid/").concat(null===_||void 0===_?void 0:_.file_url),alt:"Content"}),(0,h.jsx)(r.zx,{onClick:function(){return window.open("".concat(A.Z.apiPrefix,"/media/uniqid/").concat(null===_||void 0===_?void 0:_.file_url),"_blank")},className:"mt-2",variant:"solid",children:"Download"})]})})]})}})})}})]})]})})})},V=(0,n.forwardRef)((function(e,t){var l=(0,n.useState)({RetailAccountInfo:{values:null,validated:!1},RetailContactInfo:{values:null,validated:!1},RetailAddressInfo:{values:null,validated:!1},RetailUploladFileInfo:{values:null,validated:!1},RetailAdditionalFileInfo:{values:null,validated:!1}}),r=(0,i.Z)(l,2),u=r[0],d=r[1],m=n.useRef(),p=n.useRef(),f=n.useRef(),x=n.useRef(),v=n.useRef();function j(){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)((0,a.Z)().mark((function e(){var t,l,n,s,i,r,c,o,u,d,h;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!1,e.next=3,null===(t=m.current)||void 0===t?void 0:t.validateForm().then((function(e){e&&Object.keys(e).length>0&&(m.current.setTouched(e,!0),r=!0)}));case 3:return e.next=5,null===(l=p.current)||void 0===l?void 0:l.validateForm().then((function(e){e&&Object.keys(e).length>0&&(p.current.setTouched(e,!0),r=!0)}));case 5:return e.next=7,null===(n=f.current)||void 0===n?void 0:n.validateForm().then((function(e){e&&Object.keys(e).length>0&&(f.current.setTouched(e,!0),r=!0)}));case 7:return e.next=9,null===(s=x.current)||void 0===s?void 0:s.validateForm().then((function(e){e&&Object.keys(e).length>0&&(x.current.setTouched(e,!0),r=!0)}));case 9:return e.next=11,null===(i=v.current)||void 0===i?void 0:i.validateForm().then((function(e){e&&Object.keys(e).length>0&&(v.current.setTouched(e,!0),r=!0)}));case 11:if(r){e.next=22;break}return e.next=14,null===(c=m.current)||void 0===c?void 0:c.submitForm();case 14:return e.next=16,null===(o=p.current)||void 0===o?void 0:o.submitForm();case 16:return e.next=18,null===(u=f.current)||void 0===u?void 0:u.submitForm();case 18:return e.next=20,null===(d=x.current)||void 0===d?void 0:d.submitForm();case 20:return e.next=22,null===(h=v.current)||void 0===h?void 0:h.submitForm();case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,n.useImperativeHandle)(t,(function(){return{handleSubmitFromParent:function(){j()}}})),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"p-5",style:{backgroundColor:"#F5F5F5"},children:[(0,h.jsxs)(c.lG,{className:"h-full",bodyClass:"h-full",divider:!0,children:[(0,h.jsx)("div",{className:"border-b pb-6 mx-4",children:(0,h.jsx)(N,{handleSubmit:j,onChange:function(e){d((0,o.Z)((0,o.Z)({},u),{},{RetailAccountInfo:e}))},refId:m,retailState:e.retailState,setRetailState:e.setRetailState,retailIntialValues:e.retailIntialValues,setRetailIntialValues:e.setRetailIntialValues})}),(0,h.jsx)("div",{className:"border-b pb-6 mx-4",children:(0,h.jsx)(Z,{handleSubmit:j,onChange:function(e){d((0,o.Z)((0,o.Z)({},u),{},{RetailContactInfo:e}))},refId:p,retailState:e.retailState,setRetailState:e.setRetailState,retailIntialValues:e.retailIntialValues,setRetailIntialValues:e.setRetailIntialValues})}),(0,h.jsx)(R,{handleSubmit:j,onChange:function(e){d((0,o.Z)((0,o.Z)({},u),{},{RetailAddressInfo:e}))},refId:f,retailState:e.retailState,setRetailState:e.setRetailState,setStep:e.setStep,step:e.step,retailIntialValues:e.retailIntialValues,setRetailIntialValues:e.setRetailIntialValues})]}),(0,h.jsx)(c.lG,{className:"h-full",bodyClass:"h-full",children:(0,h.jsx)(E,{handleSubmit:j,onChange:function(e){d((0,o.Z)((0,o.Z)({},u),{},{RetailUploladFileInfo:e}))},onChangeAdd:function(e){d((0,o.Z)((0,o.Z)({},u),{},{RetailAdditionalFileInfo:e}))},refId:x,refIdAdd:v,retailState:e.retailState,setRetailState:e.setRetailState,setStep:e.setStep,step:e.step,retailIntialValues:e.retailIntialValues,setRetailIntialValues:e.setRetailIntialValues,mode:e.mode})})]})})})),T=V,P=l(82569),k=l(16856),w=l(11087),U=l(97892),O=l.n(U),M=[{label:"Right to Left",value:"RTL"},{label:"Left to Right",value:"LTR"}],q=[{label:"English",value:1},{label:"Spanish",value:2},{label:"Arabic",value:3},{label:"Portugese",value:4}],J=[{label:"Premium",value:"1"},{label:"Platinum",value:"2"},{label:"Gold",value:"3"},{label:"Silver",value:"3"}];var z=function(e){var t,l,a,s,c,o,u=e.retailState,d=(e.step,e.setStep),p=e.message,x=e.mode,v=(0,n.useState)(!1),j=(0,i.Z)(v,2),b=j[0],g=j[1],_=(0,n.useState)(null),N=(0,i.Z)(_,2),I=N[0],C=N[1],Z=(0,m.v9)((function(e){var t,l;return null===(t=e.retailsList)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.currencyList})),F=(0,m.v9)((function(e){var t,l;return null===(t=e.retailsList)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.parentAccountList})),S=(0,m.v9)((function(e){var t,l;return null===(t=e.retailsList)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.custmoerCatList})),R=(0,m.v9)((function(e){return e.locale.dateFormat})),L=null===f.E||void 0===f.E?void 0:f.E.map((function(e){return{value:e.id,label:e.value}}));console.log(u,"retailState");var D=function(e){g(!0),C(e)};return(0,h.jsxs)(h.Fragment,{children:[p&&(0,h.jsx)(r.bZ,{className:"mb-4",type:"danger",showIcon:!0,children:Array.isArray(p)?p.join(", "):p}),(0,h.jsxs)(r.Zb,{className:"mx-3 mb-4 mt-1",children:[(0,h.jsxs)("div",{className:"md:grid grid-cols-2",children:[(0,h.jsxs)("h6",{className:"mx-2 mb-4 mt-1 font-bold text-cyan-500",children:["RETAIL CUSTOMER DETAILS"," "]}),(0,h.jsx)("div",{className:" text-base  font-bold flex justify-end",children:(0,h.jsx)("button",{onClick:function(){d(0)},children:(0,h.jsxs)("div",{className:"flex",children:[(0,h.jsx)(k.U$P,{className:"mt-1"}),(0,h.jsx)("p",{className:"ml-2",children:"EDIT"})]})})})]}),(0,h.jsxs)("div",{className:"md:grid grid-cols-6",children:[(0,h.jsxs)("div",{className:"col-span-2 md:gird mx-2",children:[(0,h.jsx)("div",{className:"text-base  font-bold underline  decoration-2 mb-2",children:"Accounts Info"}),(0,h.jsxs)("div",{className:"col-span-6 md:grid grid-cols-2 gap-2",children:[(0,h.jsx)("p",{className:"mt-2 text-base",children:null===u||void 0===u?void 0:u.custName}),(0,h.jsx)("p",{className:"mt-2 text-base",children:null===u||void 0===u?void 0:u.custCompName}),(0,h.jsx)("p",{className:"mt-2 text-base",children:(0,h.jsx)("p",{children:null===(t=O()(null===u||void 0===u?void 0:u.custIncorpDtt,R))||void 0===t?void 0:t.format(R)})}),(0,h.jsxs)("p",{className:"mt-2 text-base",children:["Tax: ",null===u||void 0===u?void 0:u.custTaxId]}),(0,h.jsx)("p",{className:"mt-2 text-base",children:(0,y.ZP)(null===u||void 0===u?void 0:u.customerType,F)}),(0,h.jsx)("p",{className:"mt-2 text-base",children:(0,y.ZP)(null===u||void 0===u?void 0:u.custTimeZone,L)}),(0,h.jsx)("p",{className:"mt-2 text-base",children:(0,y.ZP)(null===u||void 0===u?void 0:u.custCurrency,Z)}),(0,h.jsx)("p",{className:"mt-2 text-base",children:(0,y.ZP)(null===u||void 0===u?void 0:u.custLang,q)}),(0,h.jsx)("p",{className:"mt-2 text-base",children:(0,y.ZP)(null===u||void 0===u?void 0:u.custOrient,M)}),(0,h.jsx)("p",{className:"mt-2 text-base",children:(0,y.ZP)(null===u||void 0===u?void 0:u.custCat,J)}),(0,h.jsx)("p",{className:"mt-2 text-base",children:(0,y.ZP)(null===u||void 0===u?void 0:u.custCat,S)})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-base  font-bold underline  decoration-2 mb-2",children:"Contact Info"}),(0,h.jsxs)("div",{className:"md:grid grid-cols-1 gap-2",children:[(0,h.jsxs)("p",{className:"mt-2 text-base",children:["CXO :",null===u||void 0===u?void 0:u.custFirstName]}),(0,h.jsx)("p",{className:"mt-2 text-base",children:null===u||void 0===u?void 0:u.custEmailId}),(0,h.jsx)("p",{className:"mt-2 text-base",children:null===u||void 0===u?void 0:u.custWebUrl}),(0,h.jsx)("p",{className:"mt-2 text-base",children:null===u||void 0===u?void 0:u.custPhone}),(0,h.jsx)("p",{className:"mt-2 text-base",children:null===u||void 0===u?void 0:u.custMiddleName}),(0,h.jsx)("p",{className:"mt-2 text-base",children:null===u||void 0===u?void 0:u.custLastName})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-base  font-bold underline  decoration-2 mb-2",children:"Address"}),(0,h.jsxs)("div",{className:"md:grid grid-cols-1 gap-2",children:[(0,h.jsx)("p",{className:"mt-2 text-base",children:null===u||void 0===u?void 0:u.custAddL1}),(0,h.jsx)("p",{className:"mt-2 text-base",children:null===u||void 0===u?void 0:u.custAddL2}),(0,h.jsx)("p",{className:"mt-2 text-base",children:null===u||void 0===u?void 0:u.custCity}),(0,h.jsx)("p",{className:"mt-2 text-base",children:null===u||void 0===u?void 0:u.custState}),(0,h.jsx)("p",{className:"mt-2 text-base",children:null===u||void 0===u?void 0:u.custCountry}),(0,h.jsx)("p",{className:"mt-2 text-base",children:null===u||void 0===u?void 0:u.custZipcode})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:"text-base  font-bold underline  decoration-2 mb-2",children:"Files"}),null===u||void 0===u?void 0:u.uploadFiles.map((function(e){if(""!==e.file_name)return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"md:grid grid-cols-1 gap-2",onClick:function(){return D(e)},children:(0,h.jsx)("p",{className:"mt-2 text-base underline text-sky-500 cursor-pointer",children:e.doc_name})})})})),null===u||void 0===u?void 0:u.additionalFiles.map((function(e){if(""!==e.file_name)return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{className:"md:grid grid-cols-1 gap-2",onClick:function(){return D(e)},children:(0,h.jsx)("p",{className:"mt-2 text-base underline text-sky-500 cursor-pointer",children:e.doc_name})})})}))]})]})]}),"ADD"==x&&(0,h.jsxs)(r.Zb,{className:"mx-3 mb-4 mt-1",children:[(0,h.jsxs)("div",{className:"md:grid grid-cols-2",children:[(0,h.jsxs)("h6",{className:"mx-2 mb-4 mt-1 font-bold text-cyan-500",children:["USER INFO"," "]}),"ADD"==x&&(0,h.jsx)("div",{className:" text-base  font-bold flex justify-end",children:(0,h.jsx)(w.rU,{onClick:function(){d(0)},children:(0,h.jsxs)("div",{className:"flex",children:[(0,h.jsx)(k.U$P,{className:"mt-1"}),(0,h.jsx)("p",{className:"ml-2",children:"EDIT"})]})})})]}),(0,h.jsxs)("div",{className:"md:grid grid-cols-12",children:[(0,h.jsxs)("div",{className:"col-span-2 md:gird mx-2",children:[(0,h.jsx)("p",{className:"text-base underline font-bold mb-2",children:"FirstName"}),(0,h.jsx)("p",{className:"text-base",children:null===u||void 0===u||null===(l=u.retailUserInitValues)||void 0===l?void 0:l.firstName})]}),(0,h.jsxs)("div",{className:"col-span-2 md:gird mx-2",children:[(0,h.jsx)("p",{className:"text-base underline font-bold mb-2",children:"LastName"}),(0,h.jsx)("p",{className:"text-base",children:null===u||void 0===u||null===(a=u.retailUserInitValues)||void 0===a?void 0:a.lastName})]}),(0,h.jsxs)("div",{className:"col-span-2 md:gird mx-2",children:[(0,h.jsx)("p",{className:"text-base underline font-bold mb-2",children:"Email ID:"}),(0,h.jsx)("p",{className:"text-base",children:null===u||void 0===u||null===(s=u.retailUserInitValues)||void 0===s?void 0:s.emailId})]}),(0,h.jsxs)("div",{className:"col-span-2 md:gird mx-2",children:[(0,h.jsx)("p",{className:"text-base underline font-bold mb-2",children:"Order Approver EmailID:"}),(0,h.jsx)("p",{className:"text-base",children:null===u||void 0===u||null===(c=u.retailUserInitValues)||void 0===c?void 0:c.ordemailId})]}),(0,h.jsxs)("div",{className:"col-span-2 md:gird mx-2",children:[(0,h.jsx)("p",{className:"text-base underline font-bold mb-2",children:"Phone Number"}),(0,h.jsx)("p",{className:"text-base",children:null===u||void 0===u||null===(o=u.retailUserInitValues)||void 0===o?void 0:o.phoneNumber})]})]})]}),(0,h.jsx)(r.Vq,{isOpen:b,onClose:function(){return g(!1)},children:(0,h.jsxs)("div",{className:"p-5",children:[(0,h.jsx)("img",{src:"".concat(A.Z.apiPrefix,"/media/uniqid/").concat(null===I||void 0===I?void 0:I.file_url),alt:"Content"}),(0,h.jsx)(r.zx,{onClick:function(){return window.open("".concat(A.Z.apiPrefix,"/media/uniqid/").concat(null===I||void 0===I?void 0:I.file_url),"_blank")},className:"mt-2",variant:"solid",children:"Download"})]})})]})},W=l(57689),G=l(26382),Y=l(67202),H=l(9496),B=l(44630),X=l(763),$=l(37450),K=function(){var e,t,l=(0,m.I0)(),o=(0,m.v9)((function(e){return e.auth.user})),u=o.enterAccount,d=(o.password,o.rememberMe,o.usernameOrEmail,o.acc_mno_id,(0,W.TH)()),p=null===(e=d.state)||void 0===e?void 0:e.data,f=null!==(t=d.state)&&void 0!==t&&t.mode?d.state.mode:"ADD",x=(0,W.s0)(),v=(0,n.useState)(0),j=(0,i.Z)(v,2),b=j[0],g=j[1],_=(0,n.useRef)(),N=(0,n.useRef)(),I={retailAccInitValues:{retailId:"",custName:"",customerType:"",custCompName:"",custIncorpDt:"",custTaxId:"",custTimeZone:"",custCurrency:"",custLang:"",custOrient:"",custCat:"",fields:[]},retailContactInitValues:{custFirstName:"",custMiddleName:"",custLastName:"",custEmailId:"",custAltCont:"",custFax:"",custWebUrl:"",fields:[]},addressFields:{custCountry:"",custAddL1:"",custAddL2:"",custCity:"",custState:"",custZipcode:""},retailUserInitValues:{roleId:"",firstName:"",lastName:"",middleName:"",emailId:"",phoneNumber:"",ordemailId:""},uploadFiles:[],additionalFiles:[{file_name:"",file_url:"",file_type:"",dgl_acc_mno_id:null}]};(0,n.useEffect)((function(){l((0,H.hy)(u))}),[]);var C=(0,m.v9)((function(e){var t,l;return null===(t=e.retailsList)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.fileList}));(0,n.useEffect)((function(){var e;null!==C&&void 0!==C&&null!==(e=C.res)&&void 0!==e&&e.length?function(){for(var e=[],t=0;t<(null===C||void 0===C?void 0:C.res.length);t++)"Retail Customer"===(null===C||void 0===C?void 0:C.res[t].acc_type)&&function(){var l=JSON.parse(null===C||void 0===C?void 0:C.res[t].doc_type);l.map((function(t,n){e.push({doc_type:l[n],doc_name:l[n].doc_type_name,file_name:"",file_url:"",file_type:"upload"})}))}();I.uploadFiles=e,R(I)}():R(I)}),[C]);var Z=(0,n.useState)(I),F=(0,i.Z)(Z,2),S=F[0],R=F[1],L=(0,n.useState)({}),A=(0,i.Z)(L,2),D=A[0],E=A[1],V=(0,B.Z)(),k=(0,i.Z)(V,2),U=k[0],O=k[1],M=function(e){g(e<0?0:e>3?3:e)},q=function(){M("EDIT"==f?b-2:b-1)},J=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(){var t,l,n,s,i,r,c,o,u;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,X.concat)(null===D||void 0===D?void 0:D.uploadFiles,null===D||void 0===D?void 0:D.additionalFiles),"ADD"!==f){e.next=12;break}return t=(t=t.map((function(e){if(""!=(null===e||void 0===e?void 0:e.file_url))return{doc_name:null===e||void 0===e?void 0:e.doc_name,file_name:null===e||void 0===e?void 0:e.file_name,file_url:null===e||void 0===e?void 0:e.file_url,file_type:null===e||void 0===e?void 0:e.file_type}}))).filter((function(e){return void 0!==e&&null!==e})),n={dgl_acc_mno_id:D.customerType,cust_name:D.custName,cust_parent:D.customerType,cust_comp_name:D.custCompName,cust_incorp_dt:D.custIncorpDt,cust_tax_id:D.custTaxId,cust_time_zone:D.custTimeZone,cust_currency:D.custCurrency,cust_lang:D.custLang,cust_orient:D.custOrient,dgl_md_cust_cat_id:D.custCat,dgl_cust_custom_fields:D.fields,cust_first_name:D.custFirstName,cust_middle_name:D.custMiddleName,cust_last_name:D.custLastName,cust_email_id:D.custEmailId,cust_phone_number:D.custPhone,cust_alt_cont:D.custAltCont,cust_fax:D.custFax,cust_web_url:D.custWebUrl,cust_order_approver_email_id:null===D||void 0===D||null===(l=D.retailUserInitValues)||void 0===l?void 0:l.ordemailId,cust_add_l1:D.custAddL1,cust_add_l2:D.custAddL2,cust_city:D.custCity,cust_state:D.custState,cust_country:D.custCountry,cust_zipcode:D.custZipcode,cust_is_business_unit:!0,cust_pref_pg:1,bill_cycle:"MONTHLY",bill_due_tenor:"2",credit_limit:5.3451,cust_status:"ACTIVE",dgl_cust_files:t,dgl_cust_roles:[{role_name:"actor"+Math.floor(1e4+9e4*Math.random()),role_desc:"Action",permissions:"json string",status:1}],dgl_cust_users:[{first_name:D.retailUserInitValues.firstName,last_name:D.retailUserInitValues.lastName,middle_name:D.retailUserInitValues.middleName,email:D.retailUserInitValues.emailId,phone:D.retailUserInitValues.phoneNumber,status:1,cust_type:"RetailCustomer",add_line1:"hyderabad",add_line2:"Banglore",profile_img:"profile_img",cust_password:"12345"}]},e.next=7,(0,G.Jr)(n);case 7:"success"===(s=e.sent).status&&((0,y.By)("success","Created successfully "),x("/account-menu-item-view-6")),"failed"===s.status&&O((0,y.ld)(s)),e.next=22;break;case 12:if("EDIT"!==f){e.next=22;break}return t=(t=t.map((function(e){if(""!==(null===e||void 0===e?void 0:e.file_url))return{id:e.id,doc_name:null===e||void 0===e?void 0:e.doc_name,file_name:null===e||void 0===e?void 0:e.file_name,file_url:null===e||void 0===e?void 0:e.file_url,file_type:null===e||void 0===e?void 0:e.file_type}}))).filter((function(e){return void 0!==e&&null!==e})),o={dgl_acc_mno_id:D.customerType,cust_name:D.custName,cust_parent:D.customerType,cust_comp_name:D.custCompName,cust_incorp_dt:D.custIncorpDt,cust_tax_id:D.custTaxId,cust_time_zone:D.custTimeZone,cust_currency:D.custCurrency,cust_lang:D.custLang,cust_orient:D.custOrient,dgl_md_cust_cat_id:D.custCat,dgl_cust_custom_fields:D.fields,cust_first_name:D.custFirstName,cust_middle_name:D.custMiddleName,cust_last_name:D.custLastName,cust_email_id:D.custEmailId,cust_phone_number:D.custPhone,cust_alt_cont:D.custAltCont,cust_fax:D.custFax,cust_web_url:D.custWebUrl,cust_order_approver_email_id:null===D||void 0===D||null===(i=D.retailUserInitValues)||void 0===i?void 0:i.ordemailId,cust_add_l1:D.custAddL1,cust_add_l2:D.custAddL2,cust_city:D.custCity,cust_state:D.custState,cust_country:D.custCountry,cust_zipcode:D.custZipcode,cust_is_business_unit:!0,cust_pref_pg:1,bill_cycle:"MONTHLY",bill_due_tenor:"2",credit_limit:5.3451,cust_status:"ACTIVE",dgl_cust_files:t,dgl_cust_roles:[{id:null===p||void 0===p||null===(r=p.dgl_cust_roles[0])||void 0===r?void 0:r.id,role_name:"actor"+Math.floor(1e4+9e4*Math.random()),role_desc:"Action",permissions:"json string",status:1,dgl_customer_id:null,role_unq_id:null===p||void 0===p||null===(c=p.dgl_cust_roles[0])||void 0===c?void 0:c.role_unq_id}],dgl_cust_users:null===p||void 0===p?void 0:p.dgl_cust_users,id:null===p||void 0===p?void 0:p.id},console.log(o),e.next=19,(0,G.Su)(o);case 19:"success"===(u=e.sent).status&&((0,y.By)("success","Updated successfully"),x("/account-menu-item-view-6")),"failed"===u.status&&O((0,y.ld)(u));case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,n.useEffect)((function(){if(p){var e=(0,Y.Er)(S,p);null===e||void 0===e||e.uploadFiles.map((function(e){var t=null===p||void 0===p?void 0:p.dgl_cust_files.find((function(t){return t.doc_name===e.doc_name}));t&&(e.file_name=t.file_name,e.file_url=t.file_url,e.file_type=t.file_type,e.doc_name=t.doc_name,e.id=t.id)})),E(e)}}),[S,p]),(0,n.useEffect)((function(){l((0,H.zC)({enterAccount:u})),l((0,H.Nq)({enterAccount:u})),l((0,H.fY)({enterAccount:u}))}),[l,u]);var K=[{name:"Accounts"},{name:"Reatil Customers",link:"/account-menu-item-view-6"},{name:"Create  Reatil Customers"}];return"EDIT"===f&&(K=[{name:"Accounts"},{name:"Reatil Customers",link:"/account-menu-item-view-6"},{name:null===p||void 0===p?void 0:p.cust_name,link:"/account-menu-item-view-6",state:p},{name:"Edit Reatil Customers"}]),S&&(0,h.jsxs)("div",{children:[(0,h.jsx)($.Z,{list:K}),"ADD"==f?(0,h.jsxs)(r.Rg,{current:b,children:[(0,h.jsx)(r.Rg.Item,{title:"RETAIL CUSTMOER DETAILS"}),(0,h.jsx)(r.Rg.Item,{title:"MASTER USER"}),(0,h.jsx)(r.Rg.Item,{title:"PREVIEW"})]}):(0,h.jsxs)(r.Rg,{current:b,children:[(0,h.jsx)(r.Rg.Item,{title:"RETAIL CUSTMOER DETAILS"}),(0,h.jsx)(r.Rg.Item,{title:"PREVIEW"})]}),(0,h.jsxs)("div",{className:"mt-6  bg-gray-50 dark:bg-gray-700 rounded ",children:[0===b&&(0,h.jsx)(T,{ref:_,retailState:D,setStep:g,step:b,setRetailState:E,retailIntialValues:S,setRetailIntialValues:R,mode:f}),1===b&&(0,h.jsx)(P.Z,{ref:N,retailState:D,setStep:g,step:b,setRetailState:E,retailIntialValues:S,setRetailIntialValues:R}),2===b&&(0,h.jsx)(c.lG,{className:"h-full",bodyClass:"h-full",children:(0,h.jsx)(z,{retailState:D,step:b,setStep:g,message:U,mode:f})})]}),(0,h.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,h.jsx)("div",{children:b>0&&(0,h.jsx)(r.zx,{className:"mx-2   ",style:{backgroundColor:"#4D4D4D",fontStyle:"normal",fontSize:"18px",color:"white"},onClick:q,type:"button",children:"Previous"})}),(0,h.jsxs)("div",{className:"flex",children:[b>=0&&(0,h.jsx)(w.rU,{className:"block lg:inline-block md:mb-0 ",to:"/account-menu-item-view-6",children:(0,h.jsx)(r.zx,{className:"mx-2",onClick:q,variant:"solid",style:{color:"white",fontStyle:"normal",fontSize:"18px",backgroundColor:"#4D4D4D"},children:"Cancel"})}),b<2&&(0,h.jsx)(r.zx,{onClick:function(){var e,t;0===b&&(null===(e=_.current)||void 0===e||e.handleSubmitFromParent());1===b&&(null===(t=N.current)||void 0===t||t.handleSubmitFromParent())},disabled:2===b,variant:"solid",style:{fontStyle:"normal",fontSize:"18px",color:"white"},children:2===b?"Completed":"Next"}),2===b&&(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(r.zx,{onClick:J,variant:"solid",style:{fontStyle:"normal",fontSize:"18px",color:"white"},children:"Submit for Approval"})})]})]})]})};function Q(){return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{children:(0,h.jsx)(K,{})})})}},82569:function(e,t,l){l.d(t,{Z:function(){return j}});var n=l(74165),a=l(1413),s=l(15861),i=l(29439),r=l(72791),c=l(44925),o=l(50662),u=l(92506),d=l(62797),m=l(80184),p=["onChange","refId"],f=d.Ry().shape({firstName:d.Z_().required("Please enter fisrt name").nullable(),lastName:d.Z_().required("Please enter last name").nullable(),emailId:d.Z_().email("Please enter valid email id").required("Please enter email id").nullable(),phoneNumber:d.Z_().min(5,"Number must be atleast 5 characters").max(20,"Max 20 characters are allowed").required("Please enter phone number").nullable(),ordemailId:d.Z_().email("Please enter valid email id").required("Please enter email id").nullable()}),x=function(e){e.onChange;var t=e.refId,l=(0,c.Z)(e,p);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h3",{className:"mx-2 mb-4 mt-2",children:"MASTER USER"}),(0,m.jsx)(u.J9,{innerRef:t,initialValues:l.retailIntialValues.retailUserInitValues,validationSchema:f,onSubmit:function(e,t){(0,t.setSubmitting)(!0);var n=(0,a.Z)((0,a.Z)({},l.retailState),{},{retailUserInitValues:e});l.setRetailState(n);var s=l.retailIntialValues;s.retailUserInitValues=e,l.setRetailIntialValues(s),l.setStep(l.step+1)},children:function(e){e.values;var t=e.touched,l=e.errors;e.isSubmitting;return(0,m.jsx)(u.l0,{children:(0,m.jsx)(o.Yb,{children:(0,m.jsxs)("div",{className:"md:grid grid-cols-4 gap-4 mx-4",children:[(0,m.jsx)(o.xJ,{label:(0,m.jsxs)("p",{children:["First Name",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:l.firstName&&t.firstName,errorMessage:l.firstName,children:(0,m.jsx)(u.gN,{type:"text",autoComplete:"off",name:"firstName",placeholder:"Enter First Name",component:o.II})}),(0,m.jsx)(o.xJ,{label:"middleName",children:(0,m.jsx)(u.gN,{type:"text",autoComplete:"off",name:"middleName",placeholder:"Enter Middle  Name",component:o.II})}),(0,m.jsx)(o.xJ,{label:(0,m.jsxs)("p",{children:["Last Name",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:l.lastName&&t.lastName,errorMessage:l.lastName,children:(0,m.jsx)(u.gN,{type:"text",autoComplete:"off",name:"lastName",placeholder:"Enter Last  Name",component:o.II})}),(0,m.jsx)(o.xJ,{label:(0,m.jsxs)("p",{children:["Email ID",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:l.emailId&&t.emailId,errorMessage:l.emailId,children:(0,m.jsx)(u.gN,{type:"text",autoComplete:"off",name:"emailId",placeholder:"Enter Email ID",component:o.II})}),(0,m.jsx)(o.xJ,{label:(0,m.jsxs)("p",{children:["Order Approver Email ID",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:l.ordemailId&&t.ordemailId,errorMessage:l.ordemailId,children:(0,m.jsx)(u.gN,{type:"text",autoComplete:"off",name:"ordemailId",placeholder:"Enter Order Approver Email ID",component:o.II})}),(0,m.jsx)(o.xJ,{label:(0,m.jsxs)("p",{children:["Phone Number",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:l.phoneNumber&&t.phoneNumber,errorMessage:l.phoneNumber,children:(0,m.jsx)(u.gN,{type:"text",autoComplete:"off",name:"phoneNumber",placeholder:"Enter Phone Number",component:o.II})})]})})})}})]})},v=l(7869),h=(0,r.forwardRef)((function(e,t){var l=(0,r.useState)({RetailUserInfo:{values:null,validated:!1}}),c=(0,i.Z)(l,2),o=c[0],u=c[1],d=r.useRef();function p(){return f.apply(this,arguments)}function f(){return(f=(0,s.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.current.submitForm();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.useEffect((function(){o.RetailUserInfo.validated&&alert("Ready to save")}),[o]),(0,r.useImperativeHandle)(t,(function(){return{handleSubmitFromParent:function(){p()}}})),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{style:{backgroundColor:"#F5F5F5"},className:" p-5",children:(0,m.jsx)(v.lG,{className:"h-full",bodyClass:"h-full",children:(0,m.jsx)("div",{className:"border-b pb-6 ",children:(0,m.jsx)(x,{handleSubmit:p,onChange:function(e){u((0,a.Z)((0,a.Z)({},o),{},{RetailUserInfo:e}))},refId:d,retailState:e.retailState,setRetailState:e.setRetailState,setStep:e.setStep,step:e.step,retailIntialValues:e.retailIntialValues,setRetailIntialValues:e.setRetailIntialValues})})})})})})),j=h},9496:function(e,t,l){l.d(t,{AU:function(){return o},N3:function(){return v},Nq:function(){return d},fY:function(){return m},hy:function(){return p},zC:function(){return u}});var n,a=l(4942),s=l(74165),i=l(15861),r=l(95273),c=l(26382),o=(0,r.hg)("retailsList/data/getOrders",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.HO)(t);case 2:return l=e.sent,e.abrupt("return",l.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=(0,r.hg)("salesProductList/data/getCurrency",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Xe)(t);case 2:return l=e.sent,e.abrupt("return",l.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=(0,r.hg)("salesProductList/data/getParentAccount",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.rs)(t);case 2:return l=e.sent,e.abrupt("return",l.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=(0,r.hg)("salesProductList/data/getCustCategory",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.Gm)(t);case 2:return l=e.sent,e.abrupt("return",l.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,r.hg)("retailsList/data/getUploadFileType",function(){var e=(0,i.Z)((0,s.Z)().mark((function e(t){var l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.lI)(t);case 2:return l=e.sent,e.abrupt("return",l.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=(0,r.oM)({name:"retailsList/data",initialState:{loading:!1,orderList:[],tableData:{total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}},currencyList:[],custmoerCatList:[],parentAccountList:[]},reducers:{setOrderList:function(e,t){e.orderList=t.payload},setTableData:function(e,t){e.tableData=t.payload},setCurrencyData:function(e,t){e.currencyList=t.payload},setParentAccountData:function(e,t){e.parentAccountList=t.payload},setCustmoerCattData:function(e,t){e.custmoerCatList=t.payload}},extraReducers:(n={},(0,a.Z)(n,o.fulfilled,(function(e,t){e.orderList=t.payload,e.tableData.total=t.payload.total,e.loading=!1})),(0,a.Z)(n,o.pending,(function(e){e.loading=!0})),(0,a.Z)(n,u.fulfilled,(function(e,t){var l;e.currencyList=null===(l=t.payload.response)||void 0===l?void 0:l.map((function(e){return{value:e.id,label:e.cur_title}})),e.loading=!1})),(0,a.Z)(n,u.pending,(function(e){e.loading=!0})),(0,a.Z)(n,d.fulfilled,(function(e,t){var l;e.parentAccountList=null===(l=t.payload)||void 0===l?void 0:l.map((function(e){return{value:e.id,label:e.acc_name}})),e.loading=!1})),(0,a.Z)(n,d.pending,(function(e){e.loading=!0})),(0,a.Z)(n,m.fulfilled,(function(e,t){var l;e.custmoerCatList=null===(l=t.payload.response)||void 0===l?void 0:l.map((function(e){return{value:e.id,label:e.cust_cat_title}})),e.loading=!1})),(0,a.Z)(n,m.pending,(function(e){e.loading=!0})),(0,a.Z)(n,p.fulfilled,(function(e,t){e.fileList=t.payload,e.loading=!1})),(0,a.Z)(n,p.pending,(function(e){e.loading=!0})),n)}),x=f.actions,v=(x.setOrderList,x.setTableData);x.setCurrencyData,x.setParentAccountData,x.setCustmoerCattData;t.ZP=f.reducer}}]);
//# sourceMappingURL=8317.ad22c8df.chunk.js.map