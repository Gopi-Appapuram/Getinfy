"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[6327],{26327:function(e,n,t){t.r(n),t.d(n,{default:function(){return xe}});var s=t(72791),a=t(87781),r=t(93433),c=t(95273),l=t(92546),i=(0,c.oM)({name:"myaccountList/state",initialState:{selectedRows:[],selectedRow:[],deleteMode:""},reducers:{setSelectedRows:function(e,n){e.selectedRows=n.payload},setSelectedRow:function(e,n){e.selectedRow=n.payload},addRowItem:function(e,n){var t=n.payload,s=(0,l.Vk)(e);if(!s.selectedRows.includes(t))return{selectedRows:[].concat((0,r.Z)(s.selectedRows),(0,r.Z)(t))}},removeRowItem:function(e,n){var t=n.payload,s=(0,l.Vk)(e);if(s.selectedRows.includes(t))return{selectedRows:s.selectedRows.filter((function(e){return e!==t}))}},setDeleteMode:function(e,n){e.deleteMode=n.payload}}}),o=i.actions,d=o.setSelectedRows,u=(o.setSelectedRow,o.addRowItem),m=o.removeRowItem,x=(o.toggleDeleteConfirmation,o.setDeleteMode,i.reducer),v=t(78315),h=(0,a.UY)({state:x,data:v.ZP}),f=t(69564),p=t(7869),g=t(50662),j=t(58617),b=t(11087),N=t(80184),C=function(){return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(g.zx,{size:"sm",className:"block md:inline-block ltr:md:ml-2 rtl:md:mr-2 md:mb-0 mb-4",icon:(0,N.jsx)(j.Yv7,{}),onClick:function(){},children:"Filter"})})},y=t(16030),w=t(48573),k=t.n(w),I=t(58121),_=t.n(I),A=function(){var e=(0,y.I0)(),n=(0,s.useRef)(),t=(0,y.v9)((function(e){return e.myaccountList.data.tableData})),a=(0,y.v9)((function(e){return e.auth.user})),r=a.enterAccount,c=(a.password,a.rememberMe,a.usernameOrEmail,k()((function(e){var n=_()(t);n.page_no=t.pageIndex-1,n.page_size=t.pageSize,n.unq_id=r,n.sort_field=t.sort_field,"string"===typeof e&&e.length>1&&l(n);"string"===typeof e&&0===e.length&&l(n)}),500));var l=function(n){e((0,v.N3)(n)),e((0,v.AU)(n))};return(0,N.jsx)(g.II,{ref:n,className:"lg:w-52",size:"sm",placeholder:"Search",prefix:(0,N.jsx)(j.O6C,{className:"text-lg"}),onChange:function(e){c(e.target.value)}})},E=t(16856),z=function(){var e=(0,y.v9)((function(e){return e.auth.user})),n=e.enterAccount,t=(e.password,e.rememberMe,e.usernameOrEmail,(0,y.I0)()),a=(0,y.v9)((function(e){var n;return null===(n=e.myaccountList.data.docPolicyList)||void 0===n?void 0:n.res}));return(0,s.useEffect)((function(){t((0,v.tJ)({page_no:0,page_size:10,sort_field:"id",unq_id:n}))}),[]),(0,N.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center",children:[(0,N.jsx)(A,{}),(0,N.jsx)(C,{}),(0,N.jsx)(b.rU,{className:"block lg:inline-block md:mx-2 md:mb-0 mb-4",target:"_blank",download:!0,children:(0,N.jsx)(g.zx,{block:!0,size:"sm",icon:(0,N.jsx)(j.H_7,{}),children:"Export"})}),(0,N.jsx)(b.rU,{className:"block lg:inline-block md:mx-2 md:mb-0 mb-4",target:"_blank",download:!0,children:(0,N.jsx)(g.zx,{block:!0,size:"sm",icon:(0,N.jsx)(E.cgG,{}),children:"Columns"})}),(0,N.jsx)(b.rU,{className:"block lg:inline-block md:mb-0 mb-4",to:"/accounts-new-document",children:(0,N.jsx)(g.zx,{block:!0,variant:"solid",disabled:!(a&&a.length<5),size:"sm",icon:(0,N.jsx)(j.yEd,{}),children:"Create"})})]})},S=function(){return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(g.zx,{size:"sm",className:"block md:inline-block ltr:md:ml-2 rtl:md:mr-2 md:mb-0 mb-4",icon:(0,N.jsx)(j.Yv7,{}),onClick:function(){},children:"Filter"})})},T=function(){var e=(0,y.I0)(),n=(0,y.v9)((function(e){return e.auth.user})),t=n.enterAccount,a=(n.password,n.rememberMe,n.usernameOrEmail,(0,s.useRef)()),r=(0,y.v9)((function(e){return e.myaccountList.data.tableData})),c=k()((function(e){var n=_()(r);n.page_no=r.pageIndex-1,n.page_size=r.pageSize,n.unq_id=t,n.sort_field=r.sort_field,"string"===typeof e&&e.length>1&&l(n);"string"===typeof e&&0===e.length&&l(n)}),500);var l=function(n){e((0,v.N3)(n)),e((0,v.AU)(n))};return(0,N.jsx)(g.II,{ref:a,className:"lg:w-52",size:"sm",placeholder:"Search",prefix:(0,N.jsx)(j.O6C,{className:"text-lg"}),onChange:function(e){c(e.target.value)}})},D=function(){return(0,N.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center",children:[(0,N.jsx)(T,{}),(0,N.jsx)(S,{}),(0,N.jsx)(b.rU,{className:"block lg:inline-block md:mx-2 md:mb-0 mb-4",target:"_blank",download:!0,children:(0,N.jsx)(g.zx,{block:!0,size:"sm",icon:(0,N.jsx)(j.H_7,{}),children:"Export"})}),(0,N.jsx)(b.rU,{className:"block lg:inline-block md:mx-2 md:mb-0 mb-4",target:"_blank",download:!0,children:(0,N.jsx)(g.zx,{block:!0,size:"sm",icon:(0,N.jsx)(E.cgG,{}),children:"Columns"})}),(0,N.jsx)(b.rU,{to:"/accounts-new-user-roles",className:"block lg:inline-block md:mb-0 mb-4",children:(0,N.jsx)(g.zx,{block:!0,variant:"solid",size:"sm",icon:(0,N.jsx)(j.yEd,{}),children:"Create"})})]})},V=function(){return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(g.zx,{size:"sm",className:"block md:inline-block ltr:md:ml-2 rtl:md:mr-2 md:mb-0 mb-4",icon:(0,N.jsx)(j.Yv7,{}),onClick:function(){},children:"Filter"})})},F=function(){var e=(0,y.I0)(),n=(0,s.useRef)(),t=(0,y.v9)((function(e){return e.myaccountList.data.tableData})),a=k()((function(e){var n=_()(t);n.page_no=t.pageIndex-1,n.page_size=t.pageSize,n.unq_id=c,n.sort_field=t.sort_field,"string"===typeof e&&e.length>1&&l(n);"string"===typeof e&&0===e.length&&l(n)}),500),r=(0,y.v9)((function(e){return e.auth.user})),c=r.enterAccount;r.password,r.rememberMe,r.usernameOrEmail;var l=function(n){e((0,v.N3)(n)),e((0,v.AU)(n))};return(0,N.jsx)(g.II,{ref:n,className:"lg:w-52",size:"sm",placeholder:"Search",prefix:(0,N.jsx)(j.O6C,{className:"text-lg"}),onChange:function(e){a(e.target.value)}})},R=function(){return(0,N.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center",children:[(0,N.jsx)(F,{}),(0,N.jsx)(V,{}),(0,N.jsx)(b.rU,{className:"block lg:inline-block md:mx-2 md:mb-0 mb-4",target:"_blank",download:!0,children:(0,N.jsx)(g.zx,{block:!0,size:"sm",icon:(0,N.jsx)(j.H_7,{}),children:"Export"})}),(0,N.jsx)(b.rU,{className:"block lg:inline-block md:mx-2 md:mb-0 mb-4",target:"_blank",download:!0,children:(0,N.jsx)(g.zx,{block:!0,size:"sm",icon:(0,N.jsx)(E.cgG,{}),children:"Columns"})}),(0,N.jsx)(b.rU,{to:"/accounts-new-users",className:"block lg:inline-block md:mb-0 mb-4",children:(0,N.jsx)(g.zx,{block:!0,variant:"solid",size:"sm",icon:(0,N.jsx)(j.yEd,{}),children:"Create"})})]})},L=t(74165),q=t(15861),U=t(29439),P=t(23532),Z=t(57689),M=t(78820),O=t(17425),B=t(39126),G=t(88287),K=t(54110),H={ACTIVE:{label:"Active",dotClass:"bg-black-400",textClass:"text-black-400",backgroundColor:"bg-[#F5F5F5]"},PENDING_APPROVAL:{label:"Pending Approval",dotClass:"bg-blue-400",textClass:"text-black-400",backgroundColor:"bg-[#F0F7FF]"},IN_ACTIVE:{label:"Inactive",dotClass:"bg-blue-400",textClass:"text-black-400",backgroundColor:"bg-[#F5F5F5]"}},Q=function(){var e=(0,s.useRef)(null),n=(0,y.I0)(),t=(0,s.useState)(!1),a=(0,U.Z)(t,2),r=a[0],c=a[1],l=(0,s.useState)(""),i=(0,U.Z)(l,2),o=i[0],x=i[1],h=(0,y.v9)((function(e){return e.auth.user})),f=h.enterAccount,b=(h.password,h.rememberMe,h.usernameOrEmail,(0,y.v9)((function(e){return e.myaccountList.data.tableData}))),C=b.pageIndex,w=b.pageSize,k=b.sort,I=b.query,A=(b.total,b.sort_field),z=b.order,S=(0,y.v9)((function(e){var n,t;return null===e||void 0===e||null===(n=e.myaccountList)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.loading})),T=(0,y.v9)((function(e){var n,t;return null===(n=e.myaccountList.data.userRoleAndPermitList)||void 0===n||null===(t=n.response)||void 0===t?void 0:t.res})),D=(0,y.v9)((function(e){var n,t;return null===(n=e.myaccountList.data.userRoleAndPermitList)||void 0===n||null===(t=n.response)||void 0===t?void 0:t.total}));(0,s.useEffect)((function(){var e=function(){var e=(0,q.Z)((0,L.Z)().mark((function e(){return(0,L.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n((0,v.AU)({enterAccount:f,page_no:C-1,page_size:w,sort_field:A||"id",order:z}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n(d([])),e()}),[r,n,I,f,C,w,A,z]),(0,s.useEffect)((function(){var n;e&&(null===(n=e.current)||void 0===n||n.resetSelected())}),[T]);var V=(0,s.useMemo)((function(){return{pageIndex:C,pageSize:w,sort:k,query:I,total:D}}),[C,w,k,I,D]),F=function(){var e=(0,q.Z)((0,L.Z)().mark((function e(){var n;return(0,L.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="ACTIVE"===o.status?"IN_ACTIVE":"ACTIVE",e.next=3,(0,G.k9)(o.id,n);case 3:e.sent.data.success&&("ACTIVE"===n?(c(!1),(0,K.By)("success","Activated successfully")):(c(!1),(0,K.By)("success","Deactivated successfully")));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){var n=e.row,t=((0,y.I0)(),(0,P.Z)().textTheme),a=(0,Z.s0)(),r=(0,s.useCallback)((function(){a("/app/sales/Item-details/".concat(n.id))}),[a,n]),l=(0,s.useCallback)((function(){a("/accounts-new-user-roles",{state:{data:n,mode:"EDIT"}})}),[a,n]),i=(0,s.useCallback)((function(){a("/accounts-new-user-roles",{state:{data:n,mode:"ADD"}})}),[a,n]),o="ACTIVE"!=n.status?"green":"rose",d="ACTIVE"!=n.status?O.vUq:O.qGf;return(0,N.jsxs)("div",{className:"text-lg",children:[(0,N.jsx)(g.u,{title:"Edit",children:(0,N.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(t),onClick:l,children:(0,N.jsx)(E.U$P,{})})}),(0,N.jsx)(g.u,{title:"Clone",children:(0,N.jsx)("span",{className:"cursor-pointer p-1  hover:".concat(t),onClick:i,children:(0,N.jsx)(M.$OG,{})})}),(0,N.jsx)(g.u,{title:"View",children:(0,N.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(t),onClick:r,children:(0,N.jsx)(j.Vvo,{})})}),(0,N.jsx)(g.u,{title:"".concat("ACTIVE"!=n.status?"Activate":"Deactivate"),children:(0,N.jsx)("span",{className:"cursor-pointer p-1 text-".concat(o,"-800 hover:text-").concat(o,"-800"),onClick:function(){c(!0),x(n)},children:(0,N.jsx)(d,{})})})]})},Q=(0,s.useMemo)((function(){return[{header:"Actions",id:"action",cell:function(e){return(0,N.jsx)(R,{row:e.row.original})}},{header:"Role ID",accessorKey:"role_unq_id"},{header:"Role Name",accessorKey:"role_name"},{header:"Current Status",accessorKey:"status",cell:function(e){var n,t,s,a=e.row.original.status;return(0,N.jsx)("div",{className:"flex items-center",children:(0,N.jsxs)("span",{className:"flex whitespace-nowrap ml-2 rtl:mr-2 capitalize font-semibold rounded-full border ".concat(null===(n=H[a])||void 0===n?void 0:n.backgroundColor," mt-4 px-2 py-1 text-").concat(null===(t=H[a])||void 0===t?void 0:t.dotClass),children:["ACTIVE"===a&&(0,N.jsx)(O.vUq,{className:"mt-1 mr-2 text-[#3B8C59]"}),"IN_ACTIVE"===a&&(0,N.jsx)(O.qGf,{className:"mt-1 mr-2 text-[#FF0000]"}),"PENDING_APPROVAL"===a&&(0,N.jsx)(B.Pao,{className:"mt-1 mr-2 text-blue-500"}),null===(s=H[a])||void 0===s?void 0:s.label]})})}}]}),[]),Y=(0,s.useCallback)((function(e,t){if(e){var s=t.map((function(e){return e.original})),a=[];s.forEach((function(e){a.push(e.id)})),n(d(a))}else n(d([]))}),[n]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(p.wQ,{ref:e,columns:Q,data:T,loading:S,pagingData:V,onPaginationChange:function(e){var t=_()(V);t.pageIndex=e,n((0,v.N3)(t))},onSelectChange:function(e){var t=_()(V);t.pageSize=Number(e),t.pageIndex=1,n((0,v.N3)(t))},onSort:function(e){var t=_()(V),s=(0,K.TD)(e.key);t.sort_field=s,t.order=e.order,n((0,v.N3)(t))},onCheckBoxChange:function(e,t){n(e?u([t.id]):m(t.id))},onIndeterminateCheckBoxChange:Y,selectable:!0}),(0,N.jsxs)(g.Vq,{isOpen:r,onClose:function(){return c(!1)},children:[(0,N.jsx)("h6",{style:{fontStyle:"normal",fontWeight:700,fontSize:"18px"},children:"ACTIVE"===o.status?"Deactivate":"Activate"}),(0,N.jsx)("hr",{className:"text-gary-500 mt-4 mb-4"}),(0,N.jsx)("p",{style:{fontStyle:"normal",fontWeight:400,fontSize:"15px"},children:"ACTIVE"===o.status?"Are you sure you want to deactivate this user roles & permissions ?":"Are you sure you want to Activate this user roles & permissions ?"}),(0,N.jsxs)("div",{className:"mt-6 text-end",children:[(0,N.jsx)(g.zx,{style:{backgroundColor:"#4D4D4D",color:"white",borderRadius:"2px"},className:"mr-3",onClick:function(){return c(!1)},children:"No"}),(0,N.jsx)(g.zx,{variant:"solid",onClick:function(){return F()},children:"Yes"})]})]})]})},Y=t(4942),J=(t(30948),t(97892)),W=t.n(J),$={ACTIVE:{label:"Active",dotClass:"bg-black-500",textClass:"text-black-500",backgroundColor:"bg-[#F5F5F5]"},SUBMITTED:{label:"Submitted",dotClass:"bg-blue-500",textClass:"text-black-500",backgroundColor:"bg-[#F0F7FF]"},IN_ACTIVE:{label:"Inactive",dotClass:"bg-red-500",textClass:"text-red-500",backgroundColor:"bg- #F5F5F5"}},X=function(){var e=(0,s.useState)(!1),n=(0,U.Z)(e,2),t=n[0],a=n[1],r=(0,s.useRef)(null),c=(0,s.useState)(""),l=(0,U.Z)(c,2),i=l[0],o=l[1],x=(0,y.I0)(),h=(0,y.v9)((function(e){return e.myaccountList.data.tableData})),f=h.pageIndex,b=h.pageSize,C=h.sort,w=h.query,k=(h.total,h.sort_field),I=h.order,A=(0,y.v9)((function(e){return e.myaccountList.data.loading})),z=(0,y.v9)((function(e){var n,t,s;return null===(n=e.myaccountList)||void 0===n||null===(t=n.data)||void 0===t||null===(s=t.usersList)||void 0===s?void 0:s.res})),S=(0,y.v9)((function(e){return e.myaccountList.data.usersList.total})),T=(0,y.v9)((function(e){return e.auth.user})),D=T.enterAccount,V=(T.unq_id,T.acc_user_id,T.acc_unq_id),F=(0,y.v9)((function(e){var n,t;return null===(n=e.myaccountList)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.userRoles})),R=((0,s.useCallback)((function(){}),[]),function(e){var n=e.row,t=((0,y.I0)(),(0,P.Z)().textTheme),s=(0,Z.s0)(),r="ACTIVE"!==n.status?"green":"rose",c="ACTIVE"!==n.status?O.vUq:O.qGf;return(0,N.jsxs)("div",{className:"text-lg",children:[(0,N.jsx)(g.u,{title:"Edit",children:(0,N.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(t),onClick:function(){V===(null===n||void 0===n?void 0:n.acc_user_unq_id)?(0,K.By)("warning","you can not edit this user"):s("/accounts-new-users",{state:{data:n,mode:"EDIT"}})},children:(0,N.jsx)(E.U$P,{})})}),(0,N.jsx)(g.u,{title:"View",children:(0,N.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(t),onClick:function(){V===(null===n||void 0===n?void 0:n.acc_user_unq_id)&&(0,K.By)("warning","you can not view this user")},children:(0,N.jsx)(j.Vvo,{})})}),(0,N.jsx)(g.u,{title:"".concat("ACTIVE"!=n.status?"Activate":"Deactivate"),children:(0,N.jsx)("span",{className:"cursor-pointer p-1 text-".concat(r,"-800 hover:text-").concat(r,"-800"),onClick:function(){V===(null===n||void 0===n?void 0:n.acc_user_unq_id)?((0,K.By)("warning","you can not deactivate this user"),a(!1),o(n)):(a(!0),o(n))},children:(0,N.jsx)(c,{})})})]})}),M=(0,s.useMemo)((function(){return{pageIndex:f,pageSize:b,sort:C,query:w,total:S}}),[f,b,C,w,S]),H=function(){var e=(0,q.Z)((0,L.Z)().mark((function e(){var n;return(0,L.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="ACTIVE"===i.status?"IN_ACTIVE":"ACTIVE",e.next=3,(0,G.oE)(i.id,n);case 3:e.sent.data.success&&("ACTIVE"===n?(a(!1),(0,K.By)("success","Activated successfully")):(a(!1),(0,K.By)("success","Deactivated successfully")));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){x(d([]));var e=function(){var e=(0,q.Z)((0,L.Z)().mark((function e(){return(0,L.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x((0,v.Fp)({page_no:f-1,page_size:b,sort_field:k||"id",order:I,unq_id:D}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),x((0,v.Jm)({enterAccount:D}))}),[t,x,w,D,f,b,k,I]),(0,s.useEffect)((function(){var e;r&&(null===(e=r.current)||void 0===e||e.resetSelected())}),[z]);var Q=(0,s.useMemo)((function(){return[{header:"Actions",id:"action",cell:function(e){var n;return(0,N.jsx)(R,{row:null===e||void 0===e||null===(n=e.row)||void 0===n?void 0:n.original})}},{header:"User Id",accessorKey:"acc_user_unq_id"},{header:"User Role",accessorKey:"dgl_roles_id",cell:function(e){var n=e.row.original.dgl_roles_id;return(0,N.jsx)("span",{children:(0,K.ZP)(n,F)})}},{header:"Email Id",accessorKey:"email"},{header:"Phone Number",accessorKey:"phone"},{header:"Status",accessorKey:"status",flex:1,cell:function(e){var n,t,s,a=e.row.original.status;return(0,N.jsx)("div",{className:"flex items-center",children:(0,N.jsxs)("span",{className:"flex ml-2 rtl:mr-2 capitalize font-semibold rounded-full border ".concat(null===(n=$[a])||void 0===n?void 0:n.backgroundColor," mt-4 px-2 py-1 text-").concat(null===(t=$[a])||void 0===t?void 0:t.dotClass),children:["ACTIVE"===a&&(0,N.jsx)(O.vUq,{className:"mt-1 mr-2 text-[#3B8C59]"}),"IN_ACTIVE"===a&&(0,N.jsx)(O.qGf,{className:"mt-1 mr-2 text-[#FF0000]"}),"SUBMITTED"===a&&(0,N.jsx)(B.LHN,{className:"mt-1 mr-2 text-blue-500"}),null===(s=$[a])||void 0===s?void 0:s.label]})})}}]}),[F]),J=(0,s.useCallback)((function(e,n){if(e){var t=n.map((function(e){return e.original})),s=[];t.forEach((function(e){s.push(e.id)})),x(d(s))}else x(d([]))}),[x]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(p.wQ,{ref:r,columns:Q,data:z,loading:A,pagingData:M,onPaginationChange:function(e){var n=_()(M);n.pageIndex=e,x((0,v.N3)(n))},onSelectChange:function(e){var n=_()(M);n.pageSize=Number(e),n.pageIndex=1,x((0,v.N3)(n))},onSort:function(e){var n=_()(M),t=(0,K.TD)(e.key);n.sort_field=t,n.order=e.order,x((0,v.N3)(n))},onCheckBoxChange:function(e,n){x(e?u([n.id]):m(n.id))},onIndeterminateCheckBoxChange:J,selectable:!0}),(0,N.jsxs)(g.Vq,{isOpen:t,onClose:function(){return a(!1)},children:[(0,N.jsx)("h6",{style:(0,Y.Z)({fontStyle:"normal",fontSize:700},"fontSize","18px"),children:"ACTIVE"!=i.status?"Activate":"Deactivate"}),(0,N.jsx)("hr",{className:"text-gary-500 mt-4 mb-4"}),(0,N.jsx)("p",{children:"ACTIVE"!=i.status?"Are you sure you want to activate this user ? ":"Are you sure you want to deactivate this user ? "}),(0,N.jsxs)("div",{className:"mt-6 text-end",children:[(0,N.jsx)(g.zx,{style:{backgroundColor:"#4D4D4D",color:"white"},className:"mr-3",onClick:function(){return a(!1)},children:"No"}),(0,N.jsx)(g.zx,{variant:"solid",onClick:function(){return H()},children:"Yes"})]})]})]})},ee={ACTIVE:{label:"Active",dotClass:"bg-black-400",textClass:"text-black-400",backgroundColor:"bg-[#F5F5F5]"},PENDING_APPROVAL:{label:"Pending Approval",dotClass:"bg-blue-400",textClass:"text-black-400",backgroundColor:"bg-[#F0F7FF]"},IN_ACTIVE:{label:"Inactive",dotClass:"bg-blue-400",textClass:"text-black-400",backgroundColor:"bg-[#F5F5F5]"}},ne=function(){var e=(0,s.useRef)(null),n=(0,y.I0)(),t=(0,s.useState)(!1),a=(0,U.Z)(t,2),r=a[0],c=a[1],l=(0,s.useState)(""),i=(0,U.Z)(l,2),o=i[0],x=i[1],h=(0,y.v9)((function(e){return e.myaccountList.data.tableData})),f=h.pageIndex,b=h.pageSize,C=h.sort,w=h.query,k=(h.total,h.sort_field),I=h.order,A=(0,y.v9)((function(e){return e.auth.user})),z=A.enterAccount,S=(A.password,A.rememberMe,A.usernameOrEmail,(0,y.v9)((function(e){return e.myaccountList.data.loading}))),T=(0,y.v9)((function(e){var n;return null===(n=e.myaccountList.data.docPolicyList)||void 0===n?void 0:n.res})),D=(0,y.v9)((function(e){var n;return null===(n=e.myaccountList.data.docPolicyList)||void 0===n?void 0:n.total})),V=(0,s.useCallback)((function(){}),[]);(0,s.useEffect)((function(){n(d([])),n((0,v.tJ)({page_no:f-1,page_size:b,sort_field:k||"id",unq_id:z,order:I})),V()}),[r,n,w,z,f,b,k,V,I]),(0,s.useEffect)((function(){var n;e&&(null===(n=e.current)||void 0===n||n.resetSelected())}),[T]);var F=(0,s.useMemo)((function(){return{pageIndex:f,pageSize:b,sort:C,query:w,total:D}}),[f,b,C,w,D]),R=function(){var e=(0,q.Z)((0,L.Z)().mark((function e(){var n;return(0,L.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="ACTIVE"===o.status?"IN_ACTIVE":"ACTIVE",e.next=3,(0,G.Xh)(o.id,n);case 3:e.sent.data.success&&("ACTIVE"===n?(c(!1),(0,K.By)("success","Activated successfully")):(c(!1),(0,K.By)("success","Deactivated successfully")));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(e){var n=e.row,t=((0,y.I0)(),(0,P.Z)().textTheme),a=(0,Z.s0)(),r=(0,s.useCallback)((function(){a("/app/sales/Item-details/".concat(n.id))}),[a,n]),l=(0,s.useCallback)((function(){a("/accounts-new-document",{state:{data:n,mode:"EDIT"}})}),[a,n]),i=((0,s.useCallback)((function(){a("/accounts-new-document",{state:{data:n,mode:"ADD"}})})),"ACTIVE"!=n.status?"green":"rose"),o="ACTIVE"!=n.status?O.vUq:O.qGf;return(0,N.jsxs)("div",{className:"text-lg",children:[(0,N.jsx)(g.u,{title:"Edit",children:(0,N.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(t),onClick:l,children:(0,N.jsx)(E.U$P,{})})}),(0,N.jsx)(g.u,{title:"View",children:(0,N.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(t),onClick:r,children:(0,N.jsx)(j.Vvo,{})})}),(0,N.jsx)(g.u,{title:"".concat("ACTIVE"!=n.status?"Activate":"Deactivate"),children:(0,N.jsx)("span",{className:"cursor-pointer p-1 text-".concat(i,"-800 hover:text-").concat(i,"-800"),onClick:function(){c(!0),x(n)},children:(0,N.jsx)(o,{})})})]})},H=(0,s.useMemo)((function(){return[{header:"Actions",id:"action",cell:function(e){return(0,N.jsx)(M,{row:e.row.original})}},{header:"Policy Title",accessorKey:"policy_name"},{header:"Applied to",accessorKey:"acc_type"},{header:"Current Status",accessorKey:"status",cell:function(e){var n,t,s,a=e.row.original.status;return(0,N.jsx)("div",{className:"flex items-center",children:(0,N.jsxs)("span",{className:"flex whitespace-nowrap ml-2 rtl:mr-2 capitalize font-semibold rounded-full border ".concat(null===(n=ee[a])||void 0===n?void 0:n.backgroundColor," mt-4 px-2 py-1 text-").concat(null===(t=ee[a])||void 0===t?void 0:t.dotClass),children:["ACTIVE"===a&&(0,N.jsx)(O.vUq,{className:"mt-1 mr-2 text-[#3B8C59]"}),"IN_ACTIVE"===a&&(0,N.jsx)(O.qGf,{className:"mt-1 mr-2 text-[#FF0000]"}),"PENDING_APPROVAL"===a&&(0,N.jsx)(B.Pao,{className:"mt-1 mr-2 text-blue-500"}),null===(s=ee[a])||void 0===s?void 0:s.label]})})}}]}),[]),Q=(0,s.useCallback)((function(e,t){if(e){var s=t.map((function(e){return e.original})),a=[];s.forEach((function(e){a.push(e.id)})),n(d(a))}else n(d([]))}),[n]);return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(p.wQ,{ref:e,columns:H,data:T,loading:S,pagingData:F,onPaginationChange:function(e){var t=_()(F);t.pageIndex=e,n((0,v.N3)(t))},onSelectChange:function(e){var t=_()(F);t.pageSize=Number(e),t.pageIndex=1,n((0,v.N3)(t))},onSort:function(e){var t=_()(F),s=(0,K.TD)(e.key);t.sort_field=s,t.order=e.order,n((0,v.N3)(t))},onCheckBoxChange:function(e,t){n(e?u([t.id]):m(t.id))},onIndeterminateCheckBoxChange:Q,selectable:!0}),(0,N.jsxs)(g.Vq,{isOpen:r,onClose:function(){return c(!1)},children:[(0,N.jsx)("h6",{style:{fontStyle:"normal",fontWeight:700,fontSize:"18px"},children:"ACTIVE"===o.status?"Deactivate":"Activate"}),(0,N.jsx)("hr",{className:"text-gary-500 mt-4 mb-4"}),(0,N.jsx)("p",{style:{fontStyle:"normal",fontWeight:400,fontSize:"15px"},children:"ACTIVE"===o.status?"Are you sure you want to deactivate this document policy ?":"Are you sure you want to Activate this document policy  ?"}),(0,N.jsxs)("div",{className:"mt-6 text-end",children:[(0,N.jsx)(g.zx,{style:{backgroundColor:"#4D4D4D",color:"white",borderRadius:"2px"},className:"mr-3",onClick:function(){return c(!1)},children:"No"}),(0,N.jsx)(g.zx,{variant:"solid",onClick:function(){return R()},children:"Yes"})]})]})]})},te=t(85880),se=function(e){var n,t=(0,Z.s0)(),a=(0,y.I0)(),r=(0,y.v9)((function(e){return e.auth.user})),c=r.enterAccount,l=(r.password,r.rememberMe,r.usernameOrEmail,r.acc_mno_parent_unq_id),i=(0,y.v9)((function(e){return e.myaccountList.data.tableData})),o=i.pageIndex,d=i.pageSize,u=i.sort,m=i.query,x=(i.total,(0,y.v9)((function(e){var n,t;return null===(n=e.myaccountList)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.userRoles}))),h=(0,y.v9)((function(e){var n;return null===(n=e.myaccountList.data.accountList)||void 0===n?void 0:n.response})),f=(0,y.v9)((function(e){var n,t;return null===(n=e.myaccountList.data.userRoleAndPermitList)||void 0===n||null===(t=n.response)||void 0===t?void 0:t.res})),p=(0,y.v9)((function(e){var n,t;return null===(n=e.myaccountList)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.usersList.res})),j=((0,y.v9)((function(e){var n,t;return null===(n=e.salesOrderList)||void 0===n||null===(t=n.data)||void 0===t?void 0:t.parentAccountList})),(0,y.v9)((function(e){return e.locale.dateFormat})));(0,s.useEffect)((function(){a((0,v.Jm)({enterAccount:c}))}),[a,c]),(0,s.useEffect)((function(){a((0,v.jg)({enterAccount:c})),a((0,v.AU)({enterAccount:c,page_no:o-1,page_size:3})),a((0,v.Fp)({page_no:o-1,page_size:6,sort_field:"id",unq_id:c}))}),[a,c,o,d,u,m]);return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{style:{backgroundColor:"#F5F5F5"},className:" grid grid-cols-3 p-5",children:[(0,N.jsxs)("div",{className:"col-span-2",children:[(0,N.jsx)("div",{className:"card mb-4",children:(0,N.jsx)("div",{className:"flex gap-4 mx-4 p-4",children:(0,N.jsx)("div",{className:"mt-2 ml-2 pb-2",children:(0,N.jsxs)("div",{className:"mt-2 ml-2 pb-2",children:[(0,N.jsx)("h3",{className:"font-bold ",children:null===h||void 0===h?void 0:h.acc_name}),(0,N.jsxs)("p",{children:[null===h||void 0===h?void 0:h.acc_unq_id," "]})]})})})}),(0,N.jsxs)("div",{className:"card mt-2 p-4",children:[(0,N.jsx)("h5",{children:"ACCOUNT DETAILS"}),(0,N.jsxs)("div",{className:"grid grid-cols-3 mt-4",children:[(0,N.jsxs)("div",{className:"flex gap-4 p-2",children:[(0,N.jsx)("div",{className:" bg-gray-50 rounded border h-8 w-8 p-2 mt-2",children:(0,N.jsx)(te.Mdg,{className:"h-4 w-4"})}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h6",{children:"Parent Account"}),(0,N.jsx)("p",{children:null===h||void 0===h?void 0:h.acc_name})]})]}),(0,N.jsxs)("div",{className:"flex gap-4 p-2 mb-4",children:[(0,N.jsx)("div",{className:" bg-gray-50 rounded border h-8 w-8 p-2 mt-2",children:(0,N.jsx)(B.aaG,{className:"h-4 w-4"})}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h6",{children:"Tax ID"}),(0,N.jsx)("p",{children:null===h||void 0===h?void 0:h.acc_tax_id})]})]}),(0,N.jsxs)("div",{className:" flex gap-4 p-2",children:[(0,N.jsx)("div",{className:" bg-gray-50 rounded border h-8 w-8 p-2 mt-2",children:(0,N.jsx)(E.ixJ,{className:"h-4 w-4"})}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h6",{children:"Email ID"}),(0,N.jsx)("p",{children:null===h||void 0===h?void 0:h.acc_email_id})]})]}),(0,N.jsxs)("div",{className:" flex gap-4 p-2",children:[(0,N.jsx)("div",{className:"bg-gray-50 rounded border h-8 w-8 p-2 mt-2",children:(0,N.jsx)(te.Mdg,{className:"h-4 w-4"})}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h6",{children:"Global MNO"}),(0,N.jsx)("p",{children:l})]})]}),(0,N.jsxs)("div",{className:" flex gap-4 p-2 mb-4",children:[(0,N.jsx)("div",{className:"bg-gray-50 rounded border h-8 w-8 p-2 mt-2",children:(0,N.jsx)(te.Mdg,{className:"h-4 w-4"})}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h6",{children:"Company Name"}),(0,N.jsx)("p",{children:null===h||void 0===h?void 0:h.acc_comp_name})]})]}),(0,N.jsxs)("div",{className:" flex gap-4 p-2",children:[(0,N.jsx)("div",{className:"bg-gray-50 rounded border h-8 w-8 p-2 mt-2",children:(0,N.jsx)(E.IXo,{className:"h-4 w-4"})}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h6",{children:"Phone Number"}),(0,N.jsx)("p",{children:null===h||void 0===h?void 0:h.acc_phone})]})]}),(0,N.jsxs)("div",{className:" flex gap-4 p-2",children:[(0,N.jsx)("div",{className:" bg-gray-50 rounded border h-8 w-8 p-2 mt-2",children:(0,N.jsx)(E.FFD,{className:"h-4 w-4"})}),(0,N.jsxs)("div",{children:[(0,N.jsx)("h6",{children:"InCorporation Date"}),(0,N.jsx)("p",{children:null===(n=W()(null===h||void 0===h?void 0:h.acc_incorp_dt,j))||void 0===n?void 0:n.format(j)})]})]})]})]}),f&&(0,N.jsxs)("div",{className:"card mt-4 mb-2",children:[(0,N.jsx)("h5",{className:"mx-4 pt-4",children:"USER ROLE AND PERIMSSIONS"}),null===f||void 0===f?void 0:f.map((function(e){return(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("div",{className:"mt-2 pb-2 border-b-2",children:(0,N.jsxs)("div",{className:"p-2 flex justify-between",children:[(0,N.jsxs)("div",{className:"flex",children:[(0,N.jsx)(g.qE,{className:"ml-2 mt-1 rounded-full bg-indigo-100 text-indigo-600 dark:bg-indigo-500/20 dark:text-indigo-100",children:e.role_name.charAt(0).toUpperCase()}),(0,N.jsxs)("div",{className:"mx-4",children:[(0,N.jsx)("h6",{children:e.role_name}),(0,N.jsx)("div",{className:"flex gap-2",children:e.role_unq_id})]})]}),(0,N.jsx)("div",{className:"text-base text-black font-bold flex mr-4 mt-3 gap-1"})]})})})}))]})]}),p&&(0,N.jsxs)("div",{className:"card ml-4 p-4",children:[(0,N.jsx)("h5",{children:"USER DETAILS"}),p&&(null===p||void 0===p?void 0:p.map((function(e){return(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("div",{className:"my-4 pb-4 flex justify-between border-b-2",children:[(0,N.jsx)("div",{className:"grid gap-1",children:(0,N.jsxs)("div",{className:"flex pt-4",children:[(0,N.jsxs)("div",{className:"flex flex-col",children:[(0,N.jsxs)("h6",{className:"mr-3",children:[null===e||void 0===e?void 0:e.first_name," ",null===(null===e||void 0===e?void 0:e.middle_name)?e.middle_name:null," ",null===e||void 0===e?void 0:e.last_name]}),(0,N.jsx)("h6",{children:(0,K.ZP)(e.dgl_roles_id,x)})]}),(0,N.jsx)("p",{style:{marginTop:"2px"},children:e.phone})]})}),(0,N.jsxs)("div",{className:"mt-4",children:[(0,N.jsx)("div",{className:"text-base text-black font-bold flex justify-end mr-2"}),(0,N.jsxs)("div",{className:"mt-2 px-2 py-1 flex rounded-full border  bg-gray-50",children:["ACTIVE"===e.status?(0,N.jsx)(O.vUq,{className:"mt-1 mr-1 text-green-700"}):(0,N.jsx)(O.qGf,{className:"mt-1 mr-1 text-rose-700"}),(0,N.jsx)("p",{className:"text-sm font-black",children:"ACTIVE"===e.status?"Active":"Inactive"})]})]})]})})}))),(0,N.jsx)(b.rU,{className:"block lg:inline-block md:mb-0 mb-4 w-full",to:"/account-menu-item-view-1/users",onClick:function(){t("/account-menu-item-view-1/".concat("userRoles"))},children:(0,N.jsxs)(g.zx,{className:"w-full flex justify-center",variant:"solid",children:["See All",(0,N.jsx)(M.mGl,{className:"ml-4 mt-1"})]})})]})]})})},ae=(t(58393),t(33875)),re=t(74569),ce=t.n(re),le=t(54048);var ie=function(){var e=(0,s.useState)(),n=(0,U.Z)(e,2),t=n[0],a=n[1],r=(0,y.v9)((function(e){return e.auth.user})),c=r.enterAccount,l=(r.password,r.rememberMe,r.usernameOrEmail,(0,y.v9)((function(e){return e.auth.session}))),i=l.token,o=(l.signedIn,l.accUnqId);(0,s.useEffect)((function(){u(c)}),[]);var d=ce().create({baseURL:le.Z.apiPrefix,headers:{Authorization:"Bearer ".concat(i),USER:o}}),u=function(){var e=(0,q.Z)((0,L.Z)().mark((function e(n){return(0,L.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.get("/account/hierarchy/".concat(n,"/ACCOUNT")).then((function(e){var n=e.data;a(n)})).catch((function(e){console.error("Error loading children:",e)}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),m=function(e){console.log(" node toggled "),e.data&&e.data.collapsed};return(0,N.jsx)("div",{style:{width:"100%",height:"500px"},children:t&&(0,N.jsx)(ae.m,{data:t,onNodeClick:m,onNodeToggle:m,translate:{x:window.innerWidth/2-250,y:window.innerHeight/2-250},separation:{siblings:1,nonSiblings:1.5},nodeSvgShape:{shape:"rect"},orientation:"Vertical",renderCustomNodeElement:function(e){var n=e.nodeDatum;return(0,N.jsxs)("g",{onClick:function(){return m(n)},children:[(0,N.jsx)("circle",{r:20,fill:"#ffbf00"}),(0,N.jsx)("text",{textAnchor:"middle",y:40,style:{fontSize:"12px",color:"blue"},children:n.name})]})}})})},oe=g.mQ.TabNav,de=g.mQ.TabList,ue=g.mQ.TabContent,me=function(){var e=(0,Z.s0)(),n=(0,Z.TH)(),t=n.pathname.substring(n.pathname.lastIndexOf("/")+1);console.log("pathpath",t),(0,s.useEffect)((function(){e("/account-menu-item-view-1/".concat(t))}),[]);var a=(0,s.useMemo)((function(){return t?(e("/account-menu-item-view-1/".concat(t)),t):(e("/account-menu-item-view-1/".concat("accounts")),"accounts")}),[t]);return(0,N.jsx)("div",{children:(0,N.jsxs)(g.mQ,{value:a,defaultValue:"accounts",onChange:function(n){return function(n){e("/account-menu-item-view-1/".concat(n))}(n)},children:[(0,N.jsxs)(de,{children:[(0,N.jsx)(oe,{value:"accounts",children:"Account Details"}),(0,N.jsx)(oe,{value:"documents",children:"Document Policy"}),(0,N.jsx)(oe,{value:"userRoles",children:"User Roles & Permissions"}),(0,N.jsx)(oe,{value:"users",children:"Users"}),(0,N.jsx)(oe,{value:"hierarchy",children:"Hierarchy"})]}),(0,N.jsxs)("div",{className:"p-4",children:[(0,N.jsxs)(ue,{value:"accounts",children:[(0,N.jsx)("div",{className:"lg:flex items-center justify-between mb-4",children:(0,N.jsx)("h3",{className:"mb-4 lg:mb-0",children:"Account Details"})}),(0,N.jsx)(se,{})]}),(0,N.jsxs)(ue,{value:"documents",children:[(0,N.jsxs)("div",{className:"lg:flex items-center justify-between mb-4",children:[(0,N.jsx)("h3",{className:"mb-4 lg:mb-0",children:"Document Policy"}),(0,N.jsx)(z,{})]}),(0,N.jsx)(ne,{})]}),(0,N.jsxs)(ue,{value:"userRoles",children:[(0,N.jsxs)("div",{className:"lg:flex items-center justify-between mb-4",children:[(0,N.jsx)("h3",{className:"mb-4 lg:mb-0",children:"User Roles & Permissions"}),(0,N.jsx)(D,{})]}),(0,N.jsx)(Q,{})]}),(0,N.jsxs)(ue,{value:"users",children:[(0,N.jsxs)("div",{className:"lg:flex items-center justify-between mb-4",children:[(0,N.jsx)("h3",{className:"mb-4 lg:mb-0",children:"Users"}),(0,N.jsx)(R,{})]}),(0,N.jsx)(X,{})]}),(0,N.jsxs)(ue,{value:"hierarchy",children:[(0,N.jsx)("h3",{className:"mb-4 lg:mb-0",children:"Hierarchy"}),(0,N.jsx)("div",{className:"lg:flex items-center justify-between mb-4",children:(0,N.jsx)(ie,{})})]})]})]})})};(0,f.fn)("myaccountList",h);var xe=function(){return(0,N.jsx)(p.lG,{className:"h-full",bodyClass:"h-full",children:(0,N.jsx)(me,{})})}}}]);
//# sourceMappingURL=6327.75e7c0d9.chunk.js.map