"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[6807],{21454:function(t,e,n){n.d(e,{C6:function(){return S},Cz:function(){return o},JS:function(){return m},NW:function(){return c},Y2:function(){return j},ZH:function(){return p},cO:function(){return l},hw:function(){return w},nz:function(){return v},tu:function(){return g},z6:function(){return y}});var r=n(74165),a=n(15861),s=n(31114);function c(t){return i.apply(this,arguments)}function i(){return(i=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.Z.fetchData({url:"/catalogs/dgl-cat-items-info",method:"get",params:e}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function o(t){return u.apply(this,arguments)}function u(){return(u=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.Z.fetchData({url:"catalogs/admin/items/".concat(e),method:"get"}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function l(t){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.Z.fetchData({url:"catalogs/admin/item/variant/".concat(e),method:"get"}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(t){return f.apply(this,arguments)}function f(){return(f=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.Z.fetchData({url:"/sales/orders/delete",method:"delete",data:e}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,r.Z)().mark((function t(e){var n,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.Z.fetchData({url:"/catalogs/dgl-cat-items-info",method:"post",data:e});case 3:return n=t.sent,t.abrupt("return",{status:"success",data:n});case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{status:"failed",message:(null===t.t0||void 0===t.t0||null===(a=t.t0.response)||void 0===a?void 0:a.data)||t.t0.toString()});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function v(t){return x.apply(this,arguments)}function x(){return(x=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.Z.fetchData({url:"/catalogs/cat-tp-info",method:"get",params:e}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t,e){return b.apply(this,arguments)}function b(){return(b=(0,a.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.Z.fetchData({url:"/catalogs/dgl-cat-items-info/".concat(e,"/").concat(n),method:"patch"}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.Z.fetchData({url:"/catalogs/admin/items-pageable",method:"get",params:e}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return C.apply(this,arguments)}function C(){return(C=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.Z.fetchData({url:"/account/prod-cats/unq-id/drop-down/".concat(e.unq_id),method:"get"}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){return k.apply(this,arguments)}function k(){return(k=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.Z.fetchData({url:"/catalogs/admin/templates/".concat(e.unq_id,"/").concat(e.category,"/").concat(e.type,"?tpStatus=ACTIVE"),method:"get"}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function S(t){return D.apply(this,arguments)}function D(){return(D=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.Z.fetchData({url:"/catalogs/admin/items-tax/".concat(e),method:"get"}));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},16807:function(t,e,n){n.r(e),n.d(e,{default:function(){return H}});var r,a=n(29439),s=n(72791),c=n(87781),i=n(93433),o=n(95273),u=n(92546),l=(0,o.oM)({name:"CustomerCategoryList/state",initialState:{selectedRows:[],selectedRow:[],deleteMode:""},reducers:{setSelectedRows:function(t,e){t.selectedRows=e.payload},setSelectedRow:function(t,e){t.selectedRow=e.payload},addRowItem:function(t,e){var n=e.payload,r=(0,u.Vk)(t);if(!r.selectedRows.includes(n))return{selectedRows:[].concat((0,i.Z)(r.selectedRows),(0,i.Z)(n))}},removeRowItem:function(t,e){var n=e.payload,r=(0,u.Vk)(t);if(r.selectedRows.includes(n))return{selectedRows:r.selectedRows.filter((function(t){return t!==n}))}},setDeleteMode:function(t,e){t.deleteMode=e.payload}}}),d=l.actions,p=d.setSelectedRows,f=d.setSelectedRow,m=d.addRowItem,h=d.removeRowItem,v=(d.toggleDeleteConfirmation,d.setDeleteMode),x=l.reducer,g=n(4942),b=n(74165),y=n(15861),Z=n(21454),w=(0,o.hg)("CustomerCategoryList/data/getItems",function(){var t=(0,y.Z)((0,b.Z)().mark((function t(e){var n;return(0,b.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Z.NW)();case 2:return n=t.sent,t.abrupt("return",n.data.response);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),C=(0,o.oM)({name:"CustomerCategoryList/data",initialState:{loading:!1,ItemList:[],tableData:{total:0,pageIndex:1,pageSize:10,query:"",sort:{Item:"",key:""}}},reducers:{setItemList:function(t,e){t.ItemList=e.payload},setTableData:function(t,e){t.tableData=e.payload}},extraReducers:(r={},(0,g.Z)(r,w.fulfilled,(function(t,e){t.ItemList=e.payload,t.tableData.total=e.payload.total,t.loading=!1})),(0,g.Z)(r,w.pending,(function(t){t.loading=!0})),r)}),j=C.actions,k=(j.setItemList,j.setTableData),S=C.reducer,D=(0,c.UY)({state:x,data:S}),E=n(69564),A=n(7869),N=n(58617),I=n(11087),R=n(50662),z=n(80184),V=function(){return(0,z.jsx)(R.II,{className:"lg:w-52",size:"sm",placeholder:"Search",prefix:(0,z.jsx)(N.O6C,{className:"text-lg"})})},M=function(){return(0,z.jsx)(z.Fragment,{children:(0,z.jsx)(R.zx,{size:"sm",className:"block md:inline-block ltr:md:ml-2 rtl:md:mr-2 md:mb-0 mb-4",icon:(0,z.jsx)(N.Yv7,{}),onClick:function(){},children:"Filter"})})},L=function(t){var e=t.actionPermissions.canAdd;return(0,z.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center",children:[(0,z.jsx)(V,{}),(0,z.jsx)(M,{}),(0,z.jsx)(I.rU,{className:"block lg:inline-block md:mx-2 md:mb-0 mb-4",target:"_blank",download:!0,children:(0,z.jsx)(R.zx,{block:!0,size:"sm",icon:(0,z.jsx)(N.H_7,{}),children:"Export"})}),(0,z.jsx)(I.rU,{className:"block lg:inline-block md:mb-0 mb-4",to:"/add-event",children:(0,z.jsxs)(R.zx,{block:!0,variant:"solid",disabled:!e,style:{fontStyle:"normal"},className:"flex justify-center pt-[6px] gap-1",size:"sm",children:[(0,z.jsx)("p",{className:"pt-[2px]",children:(0,z.jsx)(N.yEd,{})}),"Add Event"]})})]})},T=n(16030),B=n(23532),q=n(57689),P=n(58121),F=n.n(P),U=n(16856),O=n(17425),Y={label:"Active",dotClass:"bg-black-500",textClass:"text-black-500",backgroundColor:"bg-[#F5F5F5]"},_=function(t){var e=t.actionPermissions,n=(0,s.useState)(!1),r=(0,a.Z)(n,2),c=r[0],i=r[1],o=(0,s.useRef)(null),u=(0,T.I0)(),l=function(t){var n=t.row,r=(0,T.I0)(),a=(0,B.Z)().textTheme,c=(0,q.s0)(),o=(0,s.useCallback)((function(){c("/app/sales/Item-details/".concat(n.id))}),[c,n]),u=(0,s.useCallback)((function(){c("/add-event")}),[c,n]),l={color:"grey",pointerEvents:"none"},d=(e.canAdd,e.canEdit),p=e.canView,m=e.canActivate;e.canClone,e.canApprove;return(0,z.jsxs)("div",{className:"text-lg",children:[(0,z.jsx)(R.u,{title:"Edit",children:(0,z.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(a),onClick:u,style:d?null:l,children:(0,z.jsx)(U.U$P,{})})}),(0,z.jsx)(R.u,{title:"Activate",children:(0,z.jsx)("span",{className:"cursor-pointer p-1 text-green-800 hover:text-green-800",onClick:function(){r(v("single")),r(f([n.id]))},style:m?null:l,children:(0,z.jsx)(O.vUq,{onClick:function(){return i(!0)}})})}),(0,z.jsx)(R.u,{title:"View",children:(0,z.jsx)("span",{className:"cursor-pointer p-1 text-blue-500 hover:".concat(a),onClick:o,style:p?null:l,children:(0,z.jsx)(N.Vvo,{})})})]})},d=(0,T.v9)((function(t){return t.EventsList.data.tableData})),x=d.pageIndex,g=d.pageSize,b=d.sort,y=d.query,Z=d.total,C=((0,T.v9)((function(t){var e,n;return null===t||void 0===t||null===(e=t.EventsList)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.loading})),[{event:"Event ABC",status:"Active",id:"1"},{event:"Event ABC",status:"Active",id:"2"},{event:"Event ABC",status:"Active",id:"3"},{event:"Event ABC",status:"Active",id:"4"},{event:"Event ABC",status:"Active",id:"5"},{event:"Event ABC",status:"Active",id:"6"},{event:"Event ABC",status:"Active",id:"7"}]),j=(0,s.useCallback)((function(){u(w())}),[]);(0,s.useEffect)((function(){u(p([])),j()}),[u,j,x,g,b]),(0,s.useEffect)((function(){var t;o&&(null===(t=o.current)||void 0===t||t.resetSelected())}),[C]);var S=(0,s.useMemo)((function(){return{pageIndex:x,pageSize:g,sort:b,query:y,total:Z}}),[x,g,b,y,Z]),D=(0,s.useMemo)((function(){return[{header:"Actions",id:"action",flex:1,cell:function(t){return(0,z.jsx)(l,{row:t.row.original})}},{header:"Event",accessorKey:"event"},{header:"Status",accessorKey:"prefSettleType",flex:1,cell:function(t){return(0,z.jsx)("div",{className:"flex items-center",children:(0,z.jsxs)("span",{className:"flex ml-2 rtl:mr-2 capitalize font-semibold rounded-full border bg-gray-50 mt-4 px-2 py-1 ".concat(Y.backgroundColor),children:["Active"===Y.label&&(0,z.jsx)(O.vUq,{className:"mt-1 mr-2 text-[#3B8C59]"}),Y.label]})})}}]}),[]),E=(0,s.useCallback)((function(t,e){if(t){var n=e.map((function(t){return t.original})),r=[];n.forEach((function(t){r.push(t.id)})),u(p(r))}else u(p([]))}),[u]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(A.wQ,{ref:o,columns:D,data:C,pagingData:S,onPaginationChange:function(t){var e=F()(S);e.pageIndex=t,u(k(e))},onSelectChange:function(t){var e=F()(S);e.pageSize=Number(t),e.pageIndex=1,u(k(e))},onSort:function(t){var e=F()(S);e.sort=t,u(k(e))},onCheckBoxChange:function(t,e){u(t?m([e.id]):h(e.id))},onIndeterminateCheckBoxChange:E,selectable:!0}),(0,z.jsx)(R.Vq,{isOpen:c,onClose:function(){return i(!1)},children:(0,z.jsxs)("div",{children:[(0,z.jsx)("h6",{style:{fontStyle:"normal",fontSize:"18px"},children:"Deactivate"}),(0,z.jsx)("hr",{className:"text-gray mt-4 mb-4"}),(0,z.jsx)("p",{style:{fontStyle:"normal",fontSize:"15px"},children:"Are you sure you want to deactivate this events ?"}),(0,z.jsxs)("div",{className:"text-end mt-5",children:[(0,z.jsx)(R.zx,{className:"mr-3",onClick:function(){return i(!1)},style:{backgroundColor:"#4D4D4D",color:"white"},children:"No"}),(0,z.jsx)(R.zx,{variant:"solid",onClick:function(){return i(!1)},children:"Yes"})]})]})})]})};(0,E.fn)("EventsList",D);var H=function(){var t=(0,T.v9)((function(t){return t.auth.user})).permissionsList,e=(0,s.useState)(t.includes("MSDEVNTSADD")),n=(0,a.Z)(e,2),r=n[0],c=(n[1],(0,s.useState)(t.includes("MSDEVNTSEDI"))),i=(0,a.Z)(c,2),o=i[0],u=(i[1],(0,s.useState)(t.includes("MSDEVNTSVIE"))),l=(0,a.Z)(u,2),d=l[0],p=(l[1],(0,s.useState)(t.includes("MSDEVNTSDEA"))),f=(0,a.Z)(p,2),m=f[0],h=(f[1],(0,s.useState)(t.includes("MSDEVNTSCLO"))),v=(0,a.Z)(h,2),x=v[0],g=(v[1],(0,s.useState)(t.includes("MSDEVNTSAPP"))),b=(0,a.Z)(g,2),y=b[0],Z=(b[1],{canAdd:r,canEdit:o,canClone:x,canView:d,canActivate:m,canApprove:y});return(0,z.jsxs)(A.lG,{className:"h-full",bodyClass:"h-full",children:[(0,z.jsxs)("div",{className:"lg:flex items-center justify-between mb-4",children:[(0,z.jsx)("h3",{className:"mb-4 lg:mb-0",children:"Events"}),(0,z.jsx)(L,{actionPermissions:Z})]}),(0,z.jsx)(_,{actionPermissions:Z})]})}}}]);
//# sourceMappingURL=6807.cbb38190.chunk.js.map