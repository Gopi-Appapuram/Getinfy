"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[4129],{44630:function(e,a,t){var n=t(29439),r=t(72791);a.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,a=(0,r.useState)(""),t=(0,n.Z)(a,2),s=t[0],i=t[1];return(0,r.useEffect)((function(){if(s){var a=setTimeout((function(){return i("")}),e);return function(){clearTimeout(a)}}}),[s]),[s,i]}},94129:function(e,a,t){t.r(a);var n=t(74165),r=t(15861),s=t(29439),i=t(72791),l=t(7869),c=t(50662),o=t(92506),d=t(62797),u=t(57689),m=t(11087),p=t(87025),f=t(16030),x=t(44630),h=t(53540),v=t(54110),g=t(67202),j=t(7994),_=t(37450),b=t(80184);a.default=function(){var e,a,t=(0,u.s0)(),y=d.Ry().shape({pageName:d.Z_().required("Please enter page name").nullable(),description:d.Z_().required("Please enter description").nullable(),metaTitle:d.Z_().required("Please enter meta title").nullable(),metaKeywords:d.Z_().required("Please enter meta keywords").nullable(),metaDescription:d.Z_().required("Please enter meta description").nullable()}),N={pageName:"",description:"",metaTitle:"",metaKeywords:"",metaDescription:"",acc_unq_id:""},D=(0,f.I0)(),q=(0,x.Z)(),M=(0,s.Z)(q,2),Z=M[0],k=M[1],w=(0,i.useRef)(),P=(0,u.TH)(),T=null!==(e=P.state)&&void 0!==e&&e.mode?P.state.mode:"ADD",C=null===(a=P.state)||void 0===a?void 0:a.data,E=(0,i.useState)((0,g.jF)(N,C||N)),I=(0,s.Z)(E,2),S=I[0],A=I[1],F=(0,f.v9)((function(e){return e.auth.user})),K=F.enterAccount,J=F.acc_mno_id,G=F.user_type,V=(0,f.v9)((function(e){var a,t;return null===(a=e.Pages)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.parentAccountList}));(0,i.useEffect)((function(){if(C){var e=(0,g.jF)(S,C);A(e)}}),[S,C]),(0,i.useEffect)((function(){D((0,j.Nq)({enterAccount:K}))}),[D,K]);var z=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(a){var r,s,i;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r={page_name:a.pageName,page_content:(0,h.ZP)(null===a||void 0===a?void 0:a.description).props.children,meta_title:a.metaTitle,meta_data:a.metaKeywords,meta_description:(0,h.ZP)(a.metaDescription).props.children,page_status:"IN_ACTIVE",dgl_acc_mno:J,unq_id:"GlobalMno"!==G?K:a.acc_unq_id},"ADD"!==T){e.next=8;break}return e.next=4,(0,p.qR)(r);case 4:"success"===(s=e.sent).status?(t("/masterDataMenu-pages"),(0,v.By)("success","Created successfully")):"failed"===s.status&&k((0,v.ld)(s)),e.next=16;break;case 8:if("EDIT"!==T){e.next=16;break}return r.id=C.id,r.dgl_acc_mno=null===C||void 0===C?void 0:C.dgl_acc_mno,r.unq_id="GlobalMno"!==G?K:a.acc_unq_id,e.next=14,(0,p.Xe)(r,C.id);case 14:"success"===(i=e.sent).status?(t("/masterDataMenu-pages"),(0,v.By)("success","Updated successfully")):"failed"===i.status&&k((0,v.ld)(i));case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),R=[{name:"Master Data"},{name:"Pages",link:"/masterDataMenu-pages"},{name:"Add Page"}];return"EDIT"===T&&(R=[{name:"Master Data"},{name:"Pages",link:"/masterDataMenu-pages"},{name:null===C||void 0===C?void 0:C.meta_title,link:"/masterDataMenu-pages",state:C},{name:"Edit Page"}]),(0,b.jsxs)(b.Fragment,{children:[Z&&(0,b.jsx)(c.bZ,{className:"mb-4",type:"danger",showIcon:!0,children:Z}),(0,b.jsx)("div",{children:(0,b.jsx)(_.Z,{list:R})}),(0,b.jsxs)("div",{className:"mt-5",children:[(0,b.jsxs)("h3",{className:"mb-4",children:["EDIT"===T?"Edit":"Add"," Page "]}),(0,b.jsx)(o.J9,{innerRef:w,initialValues:S,validationSchema:y,onSubmit:function(e){z(e)},children:function(e){var a=e.values,t=e.touched,s=e.errors;e.isSubmitting;return(0,b.jsxs)(o.l0,{children:[(0,b.jsx)("div",{className:" p-5",style:{backgroundColor:"#F5F5F5"},children:(0,b.jsx)(l.lG,{className:"h-full",bodyClass:"h-full",divider:!0,children:(0,b.jsx)(c.Yb,{children:(0,b.jsxs)("div",{className:"md:grid gap-4 mx-4 mt-3 pl-2",children:[(0,b.jsx)("div",{className:"md:grid grid-cols-2 gap-4",children:(0,b.jsx)(c.xJ,{label:(0,b.jsxs)("p",{children:["Operator ",(0,b.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:s.acc_unq_id&&t.acc_unq_id,errorMessage:s.acc_unq_id,children:(0,b.jsx)(o.gN,{name:"acc_unq_id",validate:function(){var e=(0,r.Z)((0,n.Z)().mark((function e(a){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("GlobalMno"!==G){e.next=9;break}return e.prev=1,e.next=4,d.Z_().required("Please select operator").validate(a);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(a){return e.apply(this,arguments)}}(),children:function(e){var t=e.field,n=e.form;return(0,b.jsx)(c.Ph,{placeholder:"Select Operator",field:t,form:n,options:V,value:"GlobalMno"!==G?null===V||void 0===V?void 0:V.filter((function(e){return e.acc_unq_id===K})):null===V||void 0===V?void 0:V.filter((function(e){return e.acc_unq_id===a.acc_unq_id})),onChange:function(e){return n.setFieldValue(t.name,e.acc_unq_id)}})}})})}),(0,b.jsx)(c.xJ,{label:(0,b.jsxs)("p",{children:[" Page Name",(0,b.jsx)("span",{style:{color:"red"},children:"*"})]}),className:" mr-6",invalid:s.pageName&&t.pageName,errorMessage:s.pageName,children:(0,b.jsx)(o.gN,{type:"text",autoComplete:"off",name:"pageName",placeholder:"Enter Name",component:c.II,style:{width:"48%"}})}),(0,b.jsx)(c.xJ,{label:(0,b.jsxs)("p",{children:["Page Content",(0,b.jsx)("span",{style:{color:"red"},children:"*"})]}),className:"",invalid:s.description&&t.description,errorMessage:s.description,children:(0,b.jsx)(o.gN,{name:"description",children:function(e){var a=e.field,t=e.form;return(0,b.jsx)(l.LD,{value:a.value,placeholder:"Enter description",onChange:function(e){return t.setFieldValue(a.name,e)}})}})}),(0,b.jsxs)("div",{className:"md:grid grid-cols-2",children:[(0,b.jsx)(c.xJ,{label:(0,b.jsxs)("p",{children:[" Meta Title",(0,b.jsx)("span",{style:{color:"red"},children:"*"})]}),className:" mr-6",invalid:s.metaTitle&&t.metaTitle,errorMessage:s.metaTitle,children:(0,b.jsx)(o.gN,{type:"text",autoComplete:"off",name:"metaTitle",placeholder:"Enter Name",component:c.II})}),(0,b.jsx)(c.xJ,{label:(0,b.jsxs)("p",{children:[" Meta Keywords",(0,b.jsx)("span",{style:{color:"red"},children:"*"})]}),className:" ml-6",invalid:s.metaKeywords&&t.metaKeywords,errorMessage:s.metaKeywords,children:(0,b.jsx)(o.gN,{type:"text",autoComplete:"off",name:"metaKeywords",placeholder:"Enter Page Tag",component:c.II})})]}),(0,b.jsx)(c.xJ,{label:(0,b.jsxs)("p",{children:["Meta Description",(0,b.jsx)("span",{style:{color:"red"},children:"*"})]}),className:"",invalid:s.metaDescription&&t.metaDescription,errorMessage:s.metaDescription,children:(0,b.jsx)(o.gN,{name:"metaDescription",children:function(e){var a=e.field,t=e.form;return(0,b.jsx)(l.LD,{value:a.value,placeholder:"Enter description",onChange:function(e){return t.setFieldValue(a.name,e)}})}})})]})})})}),(0,b.jsxs)("div",{className:" pt-4 text-right w-full flex justify-end",children:[(0,b.jsx)(m.rU,{className:"block lg:inline-block md:mb-0 mb-4",to:"/masterDataMenu-pages",children:(0,b.jsx)(c.zx,{type:"button",className:"mx-2",style:{backgroundColor:"#4D4D4D",fontStyle:"normal",fontSize:"18px"},variant:"solid",children:"Cancel"})}),(0,b.jsx)(c.zx,{type:"submit",variant:"solid",style:{fontStyle:"normal",fontSize:"18px"},children:"Submit for Approval"})]})]})}})]})]})}}}]);
//# sourceMappingURL=4129.1722c306.chunk.js.map