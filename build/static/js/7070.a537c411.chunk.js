"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[7070],{67615:function(e,t,n){n.d(t,{E9:function(){return u},HO:function(){return s},Jx:function(){return N},T7:function(){return _},YE:function(){return h},a:function(){return p},dJ:function(){return y},jt:function(){return f},lI:function(){return V},pd:function(){return o},pq:function(){return b},sn:function(){return g}});var i=n(74165),l=n(15861),a=n(31114);function s(e){return r.apply(this,arguments)}function r(){return(r=(0,l.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.fetchData({url:"/account/enterprise-customers",method:"get",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(e){return c.apply(this,arguments)}function c(){return(c=(0,l.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.fetchData({url:"/enterprise/sales/orders/delete",method:"delete",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=(0,l.Z)((0,i.Z)().mark((function e(t){var n,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.fetchData({url:"/account/enterprise-customers",method:"post",data:t});case 3:return n=e.sent,e.abrupt("return",{status:"success",data:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l?void 0:l.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function f(e,t){return m.apply(this,arguments)}function m(){return(m=(0,l.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.fetchData({url:"/account/enterprise-customers?id=".concat(t,"&cust_status=").concat(n),method:"patch"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return v.apply(this,arguments)}function v(){return(v=(0,l.Z)((0,i.Z)().mark((function e(t){var n,l;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.Z.fetchData({url:"/account/enterprise-customers",method:"put",data:t});case 3:return n=e.sent,e.abrupt("return",{status:"success",data:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(l=e.t0.response)||void 0===l?void 0:l.data)||e.t0.toString()});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function h(e){return x.apply(this,arguments)}function x(){return(x=(0,l.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.fetchData({url:"/account/enterprise-customers/parent/".concat(t.accMnoParentId),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return j.apply(this,arguments)}function j(){return(j=(0,l.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.fetchData({url:"/account/acc-operators/dropdown/".concat(t.enterAccount),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e){return I.apply(this,arguments)}function I(){return(I=(0,l.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.fetchData({url:"/account/currency/unq-id/drop-down/".concat(t.enterAccount),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return C.apply(this,arguments)}function C(){return(C=(0,l.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.fetchData({url:"/account/cust-cats/unq-id-cust-type/drop-down/".concat(t.enterAccount,"/EnterpriseCustomer"),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,l.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.fetchData({url:"/account/contract-types/unq-id-acc-type/drop-down/".concat(t.enterAccount,"/EnterpriseCustomer"),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e){return S.apply(this,arguments)}function S(){return(S=(0,l.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.Z.fetchData({url:"/account/doc-pol?page_no=0&page_size=100&sort_feild=id&unq_id=".concat(t),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e,t,n){return P.apply(this,arguments)}function P(){return(P=(0,l.Z)((0,i.Z)().mark((function e(t,n,l){var s,r,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(s=new FormData).append("file",t),e.next=5,a.Z.fetchData({url:"/media/".concat(n,"/").concat(l),method:"post",data:s,headers:{"Content-Type":"multipart/form-data"}});case 5:return r=e.sent,e.abrupt("return",{status:"success",data:r.data});case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(o=e.t0.response)||void 0===o?void 0:o.data)||e.t0.toString()});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}},44630:function(e,t,n){var i=n(29439),l=n(72791);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=(0,l.useState)(""),n=(0,i.Z)(t,2),a=n[0],s=n[1];return(0,l.useEffect)((function(){if(a){var t=setTimeout((function(){return s("")}),e);return function(){clearTimeout(t)}}}),[a]),[a,s]}},57070:function(e,t,n){n.r(t),n.d(t,{default:function(){return K}});var i=n(72791),l=n(4942),a=n(37762),s=n(74165),r=n(15861),o=n(29439),c=n(50662),u=n(1413),d=n(92506),f=n(16030),m=n(80184),p=(n(26181),n(57051),n(62797)),v=(p.Ry().shape({country:p.Z_().required("Please select country"),addressLine1:p.Z_().required("Please enter your address"),addressLine2:p.Z_(),city:p.Z_().required("Please enter your city"),state:p.Z_().required("Please enter your state"),zipCode:p.Z_().required("Please enter zip code"),sameCorrespondenceAddress:p.Xg(),correspondenceAddress:p.Ry().when("sameCorrespondenceAddress",{is:!1,then:p.Ry().shape({country:p.Z_().required("Please select country"),addressLine1:p.Z_().required("Please enter your address"),addressLine2:p.Z_(),city:p.Z_().required("Please enter your city"),state:p.Z_().required("Please enter your state"),zipCode:p.Z_().required("Please enter zip code")}),otherwise:function(e){return e}})}),n(7869)),h=n(44925),x=n(58617),g=n(2121),j=n(67615),b=n(67267),I=n(54048),y=n(54110),C=["onChange","refId"],N=p.Ry().shape({pCategory:p.Z_().trim().required("Please select category"),solTitle:p.Z_().trim().required("Please enter title"),solDesc:p.Z_().trim().required("Please enter description"),solKeywords:p.Z_().trim().required("Please enter keywords")}),Z=function(e){e.onChange;var t,n=e.refId,l=(0,h.Z)(e,C),a=(0,f.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.solutionsList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.templateProductList})),u=(0,f.I0)(),p=(0,f.v9)((function(e){return e.auth.user})),Z=p.enterAccount,V=(p.password,p.rememberMe,p.usernameOrEmail,p.user_type),S=p.acc_mno_parent_unq_id,_=p.acc_user_id;(0,i.useEffect)((function(){u((0,g.s7)({enterAccount:"Provider"===V?S:Z}))}),[u,Z]);var P=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t,n){var i,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t[0],["image/jpeg","image/png"].includes(i.type)){e.next=5;break}return(0,y.By)("warning","JPG/PNG files are allowed only!"),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,(0,j.T7)(i,_,2);case 8:return l=e.sent,e.abrupt("return",l);case 12:return e.prev=12,e.t0=e.catch(5),console.error("Error during file upload:",e.t0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}(),D=(0,i.useState)(!1),w=(0,o.Z)(D,2),T=w[0],k=w[1],F=(0,i.useState)(null),J=(0,o.Z)(F,2),z=J[0],E=J[1],L=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t){var n,i,a;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=t.imageFile){e.next=3;break}return(0,y.By)("warning","Upload file is Mandatory"),e.abrupt("return");case 3:n={acc_id:Z,sol_title:t.solTitle.trim(),sol_desc:t.solDesc,sol_keywords:t.solKeywords,sol_text_banner:t.solTextBanner,sol_img_url:t.imageFile,sol_geo_tag:"",sol_thumbnail:"Sample1.jpg",sol_status:1},i=n,l.setSolutionState(i),(a=l.solutionIntialValues).basics=t,l.setSolutionIntialValues(a),l.setStep(l.step+1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(d.J9,{innerRef:n,initialValues:null===l||void 0===l||null===(t=l.solutionIntialValues)||void 0===t?void 0:t.basics,validationSchema:N,onSubmit:function(e,t){(0,t.setSubmitting)(!0),L(e)},children:function(e){var t=e.values,n=e.touched,i=e.handleSubmit,l=e.errors,s=(e.isSubmitting,e.setFieldValue);return(0,m.jsxs)(d.l0,{onSubmit:i,autoComplete:"off",children:[(0,m.jsxs)(c.Yb,{children:[(0,m.jsxs)("div",{className:"p-2",children:[(0,m.jsxs)("div",{className:"md:grid grid-cols-3 gap-3 mx-4",children:[(0,m.jsx)(c.xJ,{label:(0,m.jsxs)("p",{children:["Product Category ",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:l.pCategory&&n.pCategory,errorMessage:l.pCategory,children:(0,m.jsx)(d.gN,{name:"pCategory",children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Ph,{placeholder:"Select Product Category",field:n,form:i,options:a||[],value:null===a||void 0===a?void 0:a.filter((function(e){return e.value===t.pCategory})),onChange:function(e){return i.setFieldValue(n.name,e.value)}})}})}),(0,m.jsx)(c.xJ,{label:(0,m.jsxs)("p",{children:["Solution Title ",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:l.solTitle&&n.solTitle,errorMessage:l.solTitle,children:(0,m.jsx)(d.gN,{value:null===t||void 0===t?void 0:t.solTitle,type:"text",autoComplete:"off",name:"solTitle",placeholder:"Enter Solution Title",component:c.II})})]}),(0,m.jsx)("div",{className:"md:grid grid-cols-2 gap-3 mx-4",children:(0,m.jsx)(c.xJ,{label:(0,m.jsxs)("p",{children:["Description ",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:l.solDesc&&n.solDesc,errorMessage:l.solDesc,children:(0,m.jsx)(d.gN,{name:"solDesc",children:function(e){var t=e.field,n=e.form;return(0,m.jsx)(v.LD,{value:t.value,onChange:function(e){return n.setFieldValue(t.name,e)}})}})})}),(0,m.jsx)("div",{className:"md:grid grid-cols-2 gap-3 mx-4",children:(0,m.jsx)(c.xJ,{label:(0,m.jsxs)("p",{children:["Keyword To Search Solution ",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:l.solKeywords&&n.solKeywords,errorMessage:l.solKeywords,children:(0,m.jsx)(d.gN,{name:"solKeywords",children:function(e){var t=e.field,n=e.form;return(0,m.jsx)(v.LD,{value:t.value,onChange:function(e){return n.setFieldValue(t.name,e)}})}})})}),(0,m.jsx)("div",{className:"md:grid grid-cols-2 gap-3 mx-4",children:(0,m.jsx)(c.xJ,{label:(0,m.jsx)("p",{children:"Add Text Banner "}),invalid:l.solTextBanner&&n.solTextBanner,errorMessage:l.solTextBanner,children:(0,m.jsx)(d.gN,{name:"solTextBanner",children:function(e){var t=e.field,n=e.form;return(0,m.jsx)(v.LD,{value:t.value,onChange:function(e){return n.setFieldValue(t.name,e)}})}})})})]}),(0,m.jsx)("div",{className:"p-2",children:(0,m.jsxs)(v.lG,{children:[(0,m.jsxs)("h5",{className:"mb-4 mt-2 mx-4",children:["UPLOAD IMAGE",(0,m.jsx)("span",{style:{color:"red"},children:" *"})]}),(0,m.jsxs)(c.xJ,{label:"",children:[(0,m.jsx)(d.gN,{name:"imageFile",children:function(e){e.field,e.form;return(0,m.jsx)("div",{className:"mx-4",children:(0,m.jsx)(c.gq,{beforeUpload:P,draggable:!0,className:"border-blue-500 bg-blue-50 w-96 h-36",onChange:function(e,t,n,i){var l;s("imageFile",null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.fileUnqId)},children:(0,m.jsxs)("div",{className:"my-10 text-center",children:[(0,m.jsx)("div",{className:"text-6xl mb-4 flex justify-center",children:(0,m.jsx)(x.qX3,{className:"h-10",style:{color:"#2563eb"}})}),(0,m.jsxs)("p",{className:"font-semibold",children:[(0,m.jsxs)("span",{className:"text-gray-800 dark:text-white",children:["Upload Files Here or"," "]}),(0,m.jsx)("span",{className:"text-blue-500",children:"browse"})]}),(0,m.jsx)("p",{className:"mt-1 opacity-60 dark:text-white",children:"JPG/PNG are allowed"})]})})})}}),(null===t||void 0===t?void 0:t.imageFile)&&(0,m.jsxs)("div",{className:"upload-file cursor-pointer",children:[(0,m.jsx)("div",{className:"upload-file-info",onClick:function(){return e=null===t||void 0===t?void 0:t.imageFile,k(!0),void E(e);var e},children:(0,m.jsx)("h6",{className:"upload-file-name",children:null===t||void 0===t?void 0:t.imageFile.substring(0,15)})}),(0,m.jsx)(b.Z,{className:"upload-file-remove ",onClick:function(){s("imageFile","")}})]})]})]})})]}),(0,m.jsx)(c.Vq,{isOpen:T,onClose:function(){return k(!1)},children:(0,m.jsxs)("div",{className:"p-5",children:[(0,m.jsx)("img",{src:"".concat(I.Z.apiPrefix,"/media/uniqid/").concat(z),alt:"Content"}),(0,m.jsx)(c.zx,{onClick:function(){return window.open("".concat(I.Z.apiPrefix,"/media/uniqid/").concat(z),"_blank")},className:"mt-2",variant:"solid",children:"Download"})]})})]})}})})},V=n(56498),S=(0,i.forwardRef)((function(e,t){var n=(0,i.useState)({SolutionBasicDetails:{values:null,validated:!1}}),l=(0,o.Z)(n,2),a=l[0],c=l[1],d=i.useRef();function f(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.current.submitForm();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return i.useEffect((function(){a.SolutionBasicDetails.validated&&alert("Ready to save")}),[a]),(0,i.useImperativeHandle)(t,(function(){return{handleSubmitFromParent:function(){f()}}})),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h3",{className:"mx-2 mb-4 mt-2",children:"Basic Details"}),(0,m.jsx)("div",{className:"p-3",style:{backgroundColor:"#F5F5F5"},children:(0,m.jsx)(v.lG,{className:"h-full m-2",bodyClass:"h-full",children:(0,m.jsx)(Z,{handleSubmit:f,onChange:function(e){c((0,u.Z)((0,u.Z)({},a),{},{SolutionBasicDetails:e}))},refId:d,solutionState:e.solutionState,setSolutionState:e.setSolutionState,solutionIntialValues:e.solutionIntialValues,setSolutionIntialValues:e.setSolutionIntialValues,step:e.step,setStep:e.setStep})})})]})})),_=S;Math.floor(16777215*Math.random()).toString(16);var P=n(11087),D=n(16856),w=[{label:"Product",value:"P"},{label:"Data Plan",value:"D"},{label:"Service Plan",value:"S"}];var T=function(e){var t,n,i=e.solutionIntialValues,l=e.setStep,a=(e.solutionState,(0,f.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.solutionsList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.templateProductList})));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h3",{className:"mx-4 mb-4 mt-2",children:"Preview"}),(0,m.jsxs)(c.Zb,{className:"mx-3 mb-4 mt-1",children:[(0,m.jsxs)("div",{className:"md:grid grid-cols-1 mb-4",children:[(0,m.jsxs)("h6",{className:"mx-2 mb-4 mt-1 font-bold",children:["SOLUTION CREATION"," "]}),(0,m.jsx)("div",{className:" text-base text-black font-bold flex justify-end",children:(0,m.jsx)(P.rU,{onClick:function(){l(0)},children:(0,m.jsxs)("div",{className:"flex",children:[(0,m.jsx)(D.U$P,{className:"mt-1"}),(0,m.jsx)("p",{className:"ml-2",children:"EDIT"})]})})})]}),(0,m.jsxs)("div",{className:"md:grid grid-cols-7 mt-4",children:[(0,m.jsxs)("div",{className:"col-span-1 md:gird mx-2",children:[(0,m.jsx)("div",{className:"md:grid grid-cols-1 text-base text-black font-bold decoration-2 mb-2",children:"Product Category"}),(0,m.jsx)("div",{className:"col-span-6 md:grid grid-cols-1 gap-2",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:(0,y.ZP)(null===i||void 0===i||null===(t=i.basics)||void 0===t?void 0:t.pCategory,a)})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-base text-black font-bold decoration-2 mb-2",children:"Solution Title"}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:i.basics.solTitle})})]}),(0,m.jsxs)("div",{className:"col-span-1 md:gird mx-2",children:[(0,m.jsx)("div",{className:"text-base text-black font-bold decoration-2 mb-2",children:"Description"}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:i.basics.solDesc.replace(/<[^>]*>?/gm,"")})})]})]}),null===i||void 0===i||null===(n=i.solCreate)||void 0===n?void 0:n.initialValues.map((function(e,t){var n;return(0,y.ZP)(null===e||void 0===e?void 0:e.cItemType,null===e||void 0===e?void 0:e.chooseItems)&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"md:grid grid-cols-7 mt-5",children:[(0,m.jsxs)("div",{className:"col-span-1 md:gird mx-2",children:[(0,m.jsx)("div",{className:"text-base text-black font-bold decoration-2 mb-2",children:"Item Type"}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:(0,y.ZP)(null===e||void 0===e?void 0:e.solItemType,w)})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-base text-black font-bold decoration-2 mb-2",children:"Item"}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:(0,y.ZP)(null===e||void 0===e?void 0:e.cItemType,null===e||void 0===e?void 0:e.chooseItems)})})]})]}),(0,m.jsx)("div",{style:{marginLeft:150},children:null===e||void 0===e||null===(n=e.solItems)||void 0===n?void 0:n.map((function(t,n){return(null===t||void 0===t?void 0:t.solPrice)&&(0,m.jsxs)("div",{className:"md:grid grid-cols-7 mt-5",children:[(0,m.jsxs)("div",{className:"col-span-1 md:gird mx-2",children:[(0,m.jsx)("div",{className:"text-base text-black font-bold decoration-2 mb-2",children:"Varient"}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:(0,y.ZP)(null===t||void 0===t?void 0:t.solVariant,null===e||void 0===e?void 0:e.chooseVarients)})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-base text-black font-bold decoration-2 mb-2",children:"Price in USD"}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:null===t||void 0===t?void 0:t.solPrice})})]}),(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"text-base text-black font-bold decoration-2 mb-2",children:"Discount"}),(0,m.jsx)("div",{className:"md:grid grid-cols-1 gap-2",children:(0,m.jsx)("p",{className:"mt-2 text-base",children:null===t||void 0===t?void 0:t.solDiscount})})]})]})}))})]})}))]})]})},k=n(57689),F=n(39126),J=n(44630),z=["onChange","refId"],E=[{label:"Product",value:"P"},{label:"Data Plan",value:"D"},{label:"Service Plan",value:"S"}],L=p.Ry().shape({initialValues:p.IX().of(p.Ry().shape({solItemType:p.Z_().required("Item Type is required"),cItemType:p.Z_().required("Item  is required"),solItems:p.IX().of(p.Ry().shape({solVariant:p.Z_().required("Variant is required"),solPrice:p.Z_().required("Variant Price is required")}))}))}),q=function(e){e.onChange;var t=e.refId,n=(0,h.Z)(e,z),l=(0,f.I0)(),a=(0,i.useState)(!1),p=(0,o.Z)(a,2),j=(p[0],p[1],(0,i.useState)({bool:!1,field:"",index:""})),b=(0,o.Z)(j,2),I=(b[0],b[1],(0,f.v9)((function(e){return e.auth.user}))),y=(I.enterAccount,I.password,I.rememberMe,I.usernameOrEmail,(0,f.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.solutionsList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.itemsByItemTypeP}))),C=(0,f.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.solutionsList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.itemsByItemTypeD})),N=(0,f.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.solutionsList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.itemsByItemTypeS})),Z=((0,f.v9)((function(e){var t,n;return null===e||void 0===e||null===(t=e.solutionsList)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.varients})),(0,i.useState)([])),S=(0,o.Z)(Z,2),_=(S[0],S[1],(0,J.Z)()),P=(0,o.Z)(_,2);P[0],P[1];(0,i.useEffect)((function(){var e,t,i,a,s,r;l((0,g.B2)({catId:null===n||void 0===n||null===(e=n.solutionIntialValues)||void 0===e||null===(t=e.basics)||void 0===t?void 0:t.pCategory,itemType:"P"})),l((0,g.NQ)({catId:null===n||void 0===n||null===(i=n.solutionIntialValues)||void 0===i||null===(a=i.basics)||void 0===a?void 0:a.pCategory,itemType:"D"})),l((0,g.FX)({catId:null===n||void 0===n||null===(s=n.solutionIntialValues)||void 0===s||null===(r=s.basics)||void 0===r?void 0:r.pCategory,itemType:"S"}))}),[]);var D=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t,n,i,l,a){var r,o,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=T(l,a),t.setFieldValue("initialValues[".concat(a,"].chooseItems"),r),t.setFieldValue(n.name,i.value),e.next=5,(0,V.dj)(i.value);case 5:o=e.sent,c=[],"success"===o.status&&(c=o.data.data.response.map((function(e){return{value:e.id,label:e.item_var_title}}))),t.setFieldValue("initialValues[".concat(a,"].chooseVarients"),c),t.setFieldValue("initialValues[".concat(a,"].solItems"),[{solVariant:"",solParentVariant:"",solPrice:"",solDiscount:"",isDep:!0,defaultSolPrice:""}]);case 10:case"end":return e.stop()}}),e)})));return function(t,n,i,l,a){return e.apply(this,arguments)}}(),w=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(t,n,i,l,a,r,o){var c,u,d,f,m,p,v;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===l||void 0===l||null===(c=l.initialValues[a])||void 0===c||null===(u=c.solItems)||void 0===u?void 0:u.some((function(e){return e.solVariant===i.value}))){e.next=10;break}return t.setFieldValue(n.name,i.value),e.next=5,(0,V.dj)(l.initialValues[a].cItemType);case 5:null===(p=e.sent)||void 0===p||null===(d=p.data)||void 0===d||null===(f=d.data)||void 0===f||null===(m=f.response)||void 0===m||m.map((function(e,t){e.id==i.value&&(v=e.var_def_price)})),t.setFieldValue("initialValues[".concat(a,"].solItems[").concat(r,"].defaultSolPrice"),Number(v)),t.setFieldValue("initialValues[".concat(a,"].solItems[").concat(r,"].solPrice"),Number(v)),t.setFieldValue("initialValues[".concat(a,"].solItems[").concat(r,"].solDiscount"),0);case 10:case"end":return e.stop()}}),e)})));return function(t,n,i,l,a,s,r){return e.apply(this,arguments)}}(),T=function(e,t){return"P"==e.initialValues[t].solItemType?y:"D"==e.initialValues[t].solItemType?C:"S"==e.initialValues[t].solItemType?N:[]};return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"bg-gray-50 p-5",style:{backgroundColor:"#f5f5f5"},children:(0,m.jsx)(d.J9,{innerRef:t,initialValues:n.solutionIntialValues.solCreate,validationSchema:L,onSubmit:function(e,t){(0,t.setSubmitting)(!0),function(e){var t,i,l=n.solutionIntialValues;l.solCreate.initialValues=e.initialValues,n.setSolutionIntialValues(l);var a={dgl_rel_prod_cat_ids:[{rel_prod_cat_id:null===n||void 0===n||null===(t=n.solutionIntialValues)||void 0===t||null===(i=t.basics)||void 0===i?void 0:i.pCategory,prod_cat_status:0}],dgl_cat_sol_items:[{sol_display_item_var_price:e.solPrice,sol_item_parent_item:e.solParentVariant,sol_item_is_dep:!0,is_paid_provider:!1,dgl_cat_sol_info:null,item:{id:e.cItemType},item_var:{id:e.solVariant}}],dgl_cat_sol_configs:[{sol_config_title:"SolConfig3",sol_config_details:"json string3"}]},s=(0,u.Z)((0,u.Z)({},n.solutionState),a);n.setSolutionState(s),n.setStep(n.step+1)}(e)},children:function(e){var t=e.values,n=e.touched,i=e.errors;e.isSubmitting,e.setFieldValue;return(0,m.jsx)(d.l0,{children:(0,m.jsx)(c.Yb,{children:(0,m.jsx)(d.F2,{name:"initialValues",children:function(e){var l,a=e.push,s=e.remove;return(0,m.jsx)("div",{children:null===(l=t.initialValues)||void 0===l?void 0:l.map((function(e,l){var r,o,u,f,p,h,g,j,b;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(v.lG,{className:"h-full",bodyClass:"h-full",divider:!0,children:[(0,m.jsxs)("div",{className:"md:grid grid-cols-3 gap-6 mx-4 mt-4",children:[(0,m.jsxs)(c.xJ,{label:(0,m.jsxs)("p",{children:["Choose Item Type ",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),children:[(0,m.jsx)(d.gN,{name:"initialValues[".concat(l,"].solItemType"),children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Ph,{placeholder:"Select Item Type",field:n,form:i,options:E,value:null===E||void 0===E?void 0:E.filter((function(e){return e.value===t.initialValues[l].solItemType})),onChange:function(e){return function(e,t,n,i,l){e.setFieldValue(t.name,n.value)}(i,n,e)}})}}),(null===(r=i.initialValues)||void 0===r||null===(o=r[l])||void 0===o?void 0:o.solItemType)&&(null===(u=n.initialValues)||void 0===u||null===(f=u[l])||void 0===f?void 0:f.solItemType)&&(0,m.jsx)("div",{className:"error-message",children:i.initialValues[l].solItemType})]}),(0,m.jsxs)(c.xJ,{label:(0,m.jsxs)("p",{children:["Choose Item ",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:i.cItemType&&n.cItemType,errorMessage:i.cItemType,children:[(0,m.jsx)(d.gN,{name:"initialValues[".concat(l,"].cItemType"),children:function(e){var n,i=e.field,a=e.form;return(0,m.jsx)(c.Ph,{placeholder:"Select Item",field:i,form:a,options:T(t,l),value:null===(n=T(t,l))||void 0===n?void 0:n.filter((function(e){return e.value===t.initialValues[l].cItemType})),onChange:function(e){return D(a,i,e,t,l)}})}}),(null===(p=i.initialValues)||void 0===p||null===(h=p[l])||void 0===h?void 0:h.cItemType)&&(null===(g=n.initialValues)||void 0===g||null===(j=g[l])||void 0===j?void 0:j.cItemType)&&(0,m.jsx)("div",{className:"error-message",children:i.initialValues[l].cItemType})]})]}),(null===t||void 0===t||null===(b=t.initialValues[l])||void 0===b?void 0:b.cItemType)&&(0,m.jsx)(d.F2,{name:"initialValues[".concat(l,"].solItems"),children:function(e){var a,s,r=e.push,o=e.remove;return(0,m.jsx)("div",{children:null===(a=t.initialValues[l])||void 0===a||null===(s=a.solItems)||void 0===s?void 0:s.map((function(e,a){var s,u,f,p,v,h,g,j,b,I,y,C,N,Z,V,S;return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"md:grid grid-cols-6 gap-6 mx-4 mt-4",children:[(0,m.jsxs)("div",{className:"flex col-start-1 col-end-3",children:[(0,m.jsx)(c.xJ,{className:"w-24",style:{paddingTop:"35%"},children:(0,m.jsx)(d.gN,{name:"initialValues[".concat(l,"].solItems[").concat(a,"].isDep"),children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Y8,{style:{marginRight:"-100px"},value:"initialValues[".concat(l,"].solItems[").concat(a,"].isDep"),id:"initialValues[".concat(l,"].solItems[").concat(a,"].isDep"),checked:t.initialValues[l].solItems[a].isDep,onChange:function(e){return function(e,t,n,i,l,a){var s,r;l.setFieldValue(a.name,!0),null===t||void 0===t||null===(s=t.initialValues[n])||void 0===s||null===(r=s.solItems)||void 0===r||r.map((function(e,t){i!=t&&l.setFieldValue("initialValues[".concat(n,"].solItems[").concat(t,"].isDep"),!1)}))}(0,t,l,a,i,n)}},"initialValues[".concat(l,"].solItems[").concat(a,"].isDep"))}})}),(0,m.jsxs)(c.xJ,{className:"w-44",label:(0,m.jsxs)("p",{children:["Choose Variant ",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),children:[(0,m.jsx)(d.gN,{name:"initialValues[".concat(l,"].solItems[").concat(a,"].solVariant"),children:function(e){var n,i,s,r=e.field,o=e.form;return(0,m.jsx)(c.Ph,{placeholder:"Select variant",field:r,form:o,options:(null===(n=t.initialValues[l])||void 0===n?void 0:n.chooseVarients)||[],value:null===(i=t.initialValues[l])||void 0===i||null===(s=i.chooseVarients)||void 0===s?void 0:s.filter((function(e){var n;return e.value===(null===(n=t.initialValues[l])||void 0===n?void 0:n.solItems[a].solVariant)})),onChange:function(e){var n;return w(o,r,e,t,l,a,null===(n=t.initialValues[l])||void 0===n?void 0:n.chooseVarients)}})}}),(null===(s=i.initialValues)||void 0===s||null===(u=s[l])||void 0===u||null===(f=u.solItems)||void 0===f||null===(p=f[a])||void 0===p?void 0:p.solVariant)&&(null===(v=n.initialValues)||void 0===v||null===(h=v[l])||void 0===h||null===(g=h.solItems)||void 0===g||null===(j=g[a])||void 0===j?void 0:j.solVariant)&&(0,m.jsx)("div",{style:{color:"red"},children:i.initialValues[l].solItems[a].solVariant})]})]}),(0,m.jsxs)(c.xJ,{className:"ml-2 w-40",label:(0,m.jsxs)("p",{children:["Price in USD ",(0,m.jsx)("span",{style:{color:"red"},children:"*"})]}),children:[(0,m.jsx)(d.gN,{name:"initialValues[".concat(l,"].solItems[").concat(a,"].solPrice"),children:function(e){e.field;var n,i,s=e.form;return(0,m.jsx)(c.II,{placeholder:"Price",value:null===t||void 0===t||null===(n=t.initialValues[l])||void 0===n||null===(i=n.solItems[a])||void 0===i?void 0:i.solPrice,onChange:function(e){return function(e,t,n,i,l,a){var s,r;t.setFieldValue("initialValues[".concat(i,"].solItems[").concat(n,"].solPrice"),l.target.value),t.setFieldValue("initialValues[".concat(i,"].solItems[").concat(n,"].solDiscount"),-((null===a||void 0===a||null===(s=a.initialValues[i])||void 0===s||null===(r=s.solItems[n])||void 0===r?void 0:r.defaultSolPrice)-Number(l.target.value))/100*100)}(0,s,a,l,e,t)}})}}),(null===(b=i.initialValues)||void 0===b||null===(I=b[l])||void 0===I||null===(y=I.solItems)||void 0===y||null===(C=y[a])||void 0===C?void 0:C.solPrice)&&(null===(N=n.initialValues)||void 0===N||null===(Z=N[l])||void 0===Z||null===(V=Z.solItems)||void 0===V||null===(S=V[a])||void 0===S?void 0:S.solPrice)&&(0,m.jsx)("div",{style:{color:"red"},children:i.initialValues[l].solItems[a].solPrice})]}),(0,m.jsx)(c.xJ,{label:"Discount",children:(0,m.jsx)(d.gN,{type:"text",disabled:!0,autoComplete:"off",placeholder:"Enter Price",component:c.II,name:"initialValues[".concat(l,"].solItems[").concat(a,"].solDiscount"),suffix:"%"})}),(0,m.jsxs)("div",{className:"mt-6",children:[(0,m.jsx)(c.zx,{className:"border-cyan-500",shape:"circle",size:"md",icon:(0,m.jsx)(x.b9W,{}),type:"button",onClick:function(){return r({solVariant:"",solParentVariant:"",solPrice:t.initialValues[l].itemPrice,solDiscount:"",isDep:""})}}),t.initialValues[l].solItems.length>1&&(0,m.jsx)(c.zx,{className:"ml-4 border-red-500",shape:"circle",size:"md",icon:(0,m.jsx)(x.bQR,{}),type:"button",onClick:function(){return o(a)}})]})]})})}))})}})]}),(0,m.jsxs)("div",{className:"mt-4 text-right lg:flex items-center justify-end",children:[(0,m.jsx)(c.zx,{variant:"plain",type:"button",className:"font-bold mb-4",style:{color:"#004D99"},icon:(0,m.jsx)(F.Y_C,{fill:"#004D99"}),onClick:function(){return a({solItemType:"",cItemType:"",solItems:[{solVariant:"",solParentVariant:"",solPrice:"",solDiscount:""}],paymentProvAvailable:!1,emiCheck:!1,emiArr:[{noOfEmis:"",emiValuePerMonth:""}],chooseItems:[],chooseVarients:[]})},children:"ADD NEW ITEM"}),t.initialValues.length>1&&(0,m.jsx)(c.zx,{variant:"plain",type:"button",className:"font-bold mb-4",style:{color:"#990000"},icon:(0,m.jsx)(F.Y_C,{fill:"#990000"}),onClick:function(){return s(l)},children:"DELETE"})]})]})}))})}})})})}})})})},B=(0,i.forwardRef)((function(e,t){var n=(0,i.useState)({SolutionBasicDetails:{values:null,validated:!1}}),l=(0,o.Z)(n,2),a=l[0],c=l[1],d=i.useRef();function f(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.current.submitForm();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.useImperativeHandle)(t,(function(){return{handleSubmitFromParent:function(){f()}}})),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h3",{className:"mx-4 mb-4",children:"Create Solution"}),(0,m.jsx)(q,{handleSubmit:f,onChange:function(e){c((0,u.Z)((0,u.Z)({},a),{},{SolutionBasicDetails:e}))},refId:d,solutionCreate:e.solutionCreate,setSolutionCreate:e.setSolutionCreate,solutionState:e.solutionState,setSolutionState:e.setSolutionState,step:e.step,solutionIntialValues:e.solutionIntialValues,setSolutionIntialValues:e.setSolutionIntialValues,setStep:e.setStep})]})})),M=B,R=[{label:"Airtel Inc.",value:"M"},{label:"Airtel Inc.",value:"F"},{label:"Airtel India",value:"O"}],A=function(e){return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(v.lG,{className:"h-full",bodyClass:"h-full",children:[(0,m.jsx)("h3",{className:"mx-2 mb-4",children:"Create Config"}),(0,m.jsx)(d.J9,{initialValues:{},onSubmit:function(e,t){(0,t.setSubmitting)(!0)},children:function(e){var t=e.values,n=e.touched,i=e.errors;e.isSubmitting;return(0,m.jsx)(d.l0,{children:(0,m.jsxs)(c.Yb,{children:[(0,m.jsx)("div",{className:"md:grid grid-cols-2 gap-6  mt-4",children:(0,m.jsx)(c.xJ,{label:"Title",children:(0,m.jsx)(d.gN,{type:"text",autoComplete:"off",name:"titleConfigSolution",placeholder:"Enter Config Title",component:c.II})})}),(0,m.jsxs)(v.lG,{className:"h-full p-4 bg-gray-50",style:{backgroundColor:"#f5f5f5"},bodyClass:"h-full",divider:!0,children:[(0,m.jsx)(c.zx,{onClick:function(){},className:"mt-5 mb-5",variant:"solid",children:"IF"}),(0,m.jsx)(c.xJ,{label:"",className:"",children:(0,m.jsx)(v.lG,{className:"h-full pl-36",bodyClass:"h-full",divider:!0,children:(0,m.jsxs)("div",{className:"",children:[(0,m.jsxs)("div",{className:"md:grid grid-cols-6 gap-4  mt-4 ",children:[(0,m.jsx)(c.xJ,{label:"",invalid:i.labelIfConfig&&n.labelIfConfig,errorMessage:i.labelIfConfig,children:(0,m.jsx)(d.gN,{name:"labelIfConfig",children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Ph,{isDisabled:!0,placeholder:"Select",field:n,form:i,options:R,value:R.filter((function(e){return e.value===t.labelIfConfig})),onChange:function(e){return i.setFieldValue(n.name,e.value)}})}})}),(0,m.jsx)(c.xJ,{label:"",invalid:i.interactionIfConfig&&n.interactionIfConfig,errorMessage:i.interactionIfConfig,children:(0,m.jsx)(d.gN,{name:"interactionIfConfig",children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Ph,{isDisabled:!0,placeholder:"Select Interaction",field:n,form:i,options:R,value:R.filter((function(e){return e.value===t.interactionIfConfig})),onChange:function(e){return i.setFieldValue(n.name,e.value)}})}})}),(0,m.jsx)(c.xJ,{label:"",invalid:i.valueIfConfig&&n.valueIfConfig,errorMessage:i.valueIfConfig,children:(0,m.jsx)(d.gN,{name:"valueIfConfig",children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Ph,{isDisabled:!0,placeholder:"Select Value",field:n,form:i,options:R,value:R.filter((function(e){return e.value===t.valueIfConfig})),onChange:function(e){return i.setFieldValue(n.name,e.value)}})}})}),(0,m.jsx)(c.xJ,{label:"",children:(0,m.jsx)(d.gN,{type:"text",autoComplete:"off",name:"configIfFirst",placeholder:"",component:c.II})}),(0,m.jsx)(c.xJ,{label:"",children:(0,m.jsx)(d.gN,{type:"text",autoComplete:"off",name:"configIfFirst",placeholder:"",component:c.II})}),(0,m.jsxs)(c.xJ,{className:"ml-8",children:[(0,m.jsx)(c.zx,{className:"border-red-500",shape:"circle",size:"md",icon:(0,m.jsx)(x.bQR,{}),onClick:""}),(0,m.jsx)(c.zx,{className:"ml-4 border-cyan-500",shape:"circle",size:"md",icon:(0,m.jsx)(x.b9W,{}),onClick:""})]})]}),(0,m.jsxs)("div",{className:"md:grid grid-cols-6 gap-4  mt-4  ",children:[(0,m.jsx)(c.xJ,{label:"",invalid:i.labelIfConfig&&n.labelIfConfig,errorMessage:i.labelIfConfig,children:(0,m.jsx)(d.gN,{name:"labelIfConfig",children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Ph,{isDisabled:!0,placeholder:"Select",field:n,form:i,options:R,value:R.filter((function(e){return e.value===t.labelIfConfig})),onChange:function(e){return i.setFieldValue(n.name,e.value)}})}})}),(0,m.jsx)(c.xJ,{label:"",invalid:i.interactionIfConfig&&n.interactionIfConfig,errorMessage:i.interactionIfConfig,children:(0,m.jsx)(d.gN,{name:"interactionIfConfig",children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Ph,{isDisabled:!0,placeholder:"Select Interaction",field:n,form:i,options:R,value:R.filter((function(e){return e.value===t.interactionIfConfig})),onChange:function(e){return i.setFieldValue(n.name,e.value)}})}})}),(0,m.jsx)(c.xJ,{label:"",invalid:i.valueIfConfig&&n.valueIfConfig,errorMessage:i.valueIfConfig,children:(0,m.jsx)(d.gN,{name:"valueIfConfig",children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Ph,{isDisabled:!0,placeholder:"Select Value",field:n,form:i,options:R,value:R.filter((function(e){return e.value===t.valueIfConfig})),onChange:function(e){return i.setFieldValue(n.name,e.value)}})}})}),(0,m.jsx)(c.xJ,{label:"",children:(0,m.jsx)(d.gN,{type:"text",autoComplete:"off",name:"configIfFirst",placeholder:"",component:c.II})}),(0,m.jsx)(c.xJ,{label:"",children:(0,m.jsx)(d.gN,{type:"text",autoComplete:"off",name:"configIfFirst",placeholder:"",component:c.II})}),(0,m.jsxs)(c.xJ,{className:"ml-8",children:[(0,m.jsx)(c.zx,{className:"border-red-500",shape:"circle",size:"md",icon:(0,m.jsx)(x.bQR,{}),onClick:""}),(0,m.jsx)(c.zx,{className:"ml-4 border-cyan-500",shape:"circle",size:"md",icon:(0,m.jsx)(x.b9W,{}),onClick:""})]})]})]})})})]}),(0,m.jsxs)(v.lG,{className:"h-full p-4 bg-gray-50",style:{backgroundColor:"#F5F5F5"},bodyClass:"h-full",divider:!0,children:[(0,m.jsx)(c.zx,{onClick:function(){},className:"mt-5 mb-5",variant:"solid",children:"THEN"}),(0,m.jsx)(c.xJ,{label:"",children:(0,m.jsxs)(v.lG,{className:"h-full pl-36",bodyClass:"h-full",divider:!0,children:[(0,m.jsxs)("div",{className:"md:grid grid-cols-6 gap-4  mt-4  ",children:[(0,m.jsx)(c.xJ,{label:"",invalid:i.labelIfConfig&&n.labelIfConfig,errorMessage:i.labelIfConfig,children:(0,m.jsx)(d.gN,{name:"labelIfConfig",children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Ph,{isDisabled:!0,placeholder:"Select",field:n,form:i,options:R,value:R.filter((function(e){return e.value===t.labelIfConfig})),onChange:function(e){return i.setFieldValue(n.name,e.value)}})}})}),(0,m.jsx)(c.xJ,{label:"",invalid:i.interactionIfConfig&&n.interactionIfConfig,errorMessage:i.interactionIfConfig,children:(0,m.jsx)(d.gN,{name:"interactionIfConfig",children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Ph,{isDisabled:!0,placeholder:"Select Interaction",field:n,form:i,options:R,value:R.filter((function(e){return e.value===t.interactionIfConfig})),onChange:function(e){return i.setFieldValue(n.name,e.value)}})}})}),(0,m.jsx)(c.xJ,{label:"",invalid:i.valueIfConfig&&n.valueIfConfig,errorMessage:i.valueIfConfig,children:(0,m.jsx)(d.gN,{name:"valueIfConfig",children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Ph,{isDisabled:!0,placeholder:"Select Value",field:n,form:i,options:R,value:R.filter((function(e){return e.value===t.valueIfConfig})),onChange:function(e){return i.setFieldValue(n.name,e.value)}})}})}),(0,m.jsx)(c.xJ,{label:"",children:(0,m.jsx)(d.gN,{type:"text",autoComplete:"off",name:"configIfFirst",placeholder:"",component:c.II})}),(0,m.jsx)(c.xJ,{label:"",children:(0,m.jsx)(d.gN,{type:"text",autoComplete:"off",name:"configIfFirst",placeholder:"",component:c.II})}),(0,m.jsxs)(c.xJ,{className:"ml-8",children:[(0,m.jsx)(c.zx,{className:"border-red-500",shape:"circle",size:"md",icon:(0,m.jsx)(x.bQR,{}),onClick:""}),(0,m.jsx)(c.zx,{className:"ml-4 border-cyan-500",shape:"circle",size:"md",icon:(0,m.jsx)(x.b9W,{}),onClick:""})]})]}),(0,m.jsxs)("div",{className:"md:grid grid-cols-6 gap-4  mt-4  ",children:[(0,m.jsx)(c.xJ,{label:"",invalid:i.labelIfConfig&&n.labelIfConfig,errorMessage:i.labelIfConfig,children:(0,m.jsx)(d.gN,{name:"labelIfConfig",children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Ph,{isDisabled:!0,placeholder:"Select",field:n,form:i,options:R,value:R.filter((function(e){return e.value===t.labelIfConfig})),onChange:function(e){return i.setFieldValue(n.name,e.value)}})}})}),(0,m.jsx)(c.xJ,{label:"",invalid:i.interactionIfConfig&&n.interactionIfConfig,errorMessage:i.interactionIfConfig,children:(0,m.jsx)(d.gN,{name:"interactionIfConfig",children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Ph,{isDisabled:!0,placeholder:"Select Interaction",field:n,form:i,options:R,value:R.filter((function(e){return e.value===t.interactionIfConfig})),onChange:function(e){return i.setFieldValue(n.name,e.value)}})}})}),(0,m.jsx)(c.xJ,{label:"",invalid:i.valueIfConfig&&n.valueIfConfig,errorMessage:i.valueIfConfig,children:(0,m.jsx)(d.gN,{name:"valueIfConfig",children:function(e){var n=e.field,i=e.form;return(0,m.jsx)(c.Ph,{isDisabled:!0,placeholder:"Select Value",field:n,form:i,options:R,value:R.filter((function(e){return e.value===t.valueIfConfig})),onChange:function(e){return i.setFieldValue(n.name,e.value)}})}})}),(0,m.jsx)(c.xJ,{label:"",children:(0,m.jsx)(d.gN,{type:"text",autoComplete:"off",name:"configIfFirst",placeholder:"",component:c.II})}),(0,m.jsx)(c.xJ,{label:"",children:(0,m.jsx)(d.gN,{type:"text",autoComplete:"off",name:"configIfFirst",placeholder:"",component:c.II})}),(0,m.jsxs)(c.xJ,{className:"ml-8",children:[(0,m.jsx)(c.zx,{className:"border-red-500",shape:"circle",size:"md",icon:(0,m.jsx)(x.bQR,{}),onClick:""}),(0,m.jsx)(c.zx,{className:"ml-4 border-cyan-500",shape:"circle",size:"md",icon:(0,m.jsx)(x.b9W,{}),onClick:""})]})]})]})}),(0,m.jsx)(c.XZ,{children:(0,m.jsx)("p",{className:"mr-6 color-black",children:"Allowed Multiple Usages"})})]})]})})}})]}),(0,m.jsxs)("div",{className:"mt-4 text-right lg:flex items-center justify-end",children:[(0,m.jsx)(c.zx,{variant:"plain",className:"font-bold",style:{color:"#004D99"},icon:(0,m.jsx)(F.Y_C,{fill:"#004D99"}),children:"ADD NEW FIELD"}),(0,m.jsx)(c.zx,{variant:"plain",className:"font-bold",style:{color:"#990000"},icon:(0,m.jsx)(F.Y_C,{fill:"#990000"}),children:"DELETE"})]})]})},O=n(67202),U=n(37450),G=function(){var e,t,n,u=(0,k.TH)(),d=null===(e=u.state)||void 0===e?void 0:e.data,p=null===(t=u.state)||void 0===t?void 0:t.mode,v=(0,i.useState)(),h=(0,o.Z)(v,2),x=h[0],g=h[1],j=(0,i.useState)(),b=(0,o.Z)(j,2),I=b[0],C=b[1],N={basics:{pCategory:"",solTitle:"",solDesc:"",solKeywords:"",solTextBanner:"",imageFile:""},basicOther:{zipCode:"",upload:""},solCreate:{initialValues:[{solItemType:"",cItemType:"",solItems:[{solVariant:"",solParentVariant:"",solPrice:"",solDiscount:"",isDep:!1,defaultSolPrice:""}],paymentProvAvailable:!1,emiCheck:!1,emiArr:[{noOfEmis:"",emiValuePerMonth:""}],chooseItems:[],chooseVarients:[]}]}},Z=[{name:"Catalouge"},{name:"Solutions",link:"/catalouge-menu-item-view-3"},{name:"Create Item"}];"EDIT"===p&&(Z=[{name:"Catalouge"},{name:"Solutions",link:"/catalouge-menu-item-view-3"},{name:null===d||void 0===d?void 0:d.sol_title,link:"/catalouge-menu-item-view-3",state:d},{name:"Edit"}]);var S=(0,f.v9)((function(e){return e.auth.user})),D=S.unq_id,w=(S.role_name,(0,i.useState)(N)),F=(0,o.Z)(w,2),J=F[0],z=F[1];(0,i.useEffect)((function(){function e(){return(e=(0,r.Z)((0,s.Z)().mark((function e(){var t;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d){e.next=7;break}return e.next=3,(0,O.KM)(N,d);case 3:t=e.sent,z(t),e.next=8;break;case 7:z(N);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[d]);var E=(0,i.useState)(0),L=(0,o.Z)(E,2),q=L[0],B=L[1],R=(0,i.useRef)(),G=(0,i.useRef)(),K=(0,k.s0)(),W=function(e){B(e<0?0:e>3?3:e)},Y=function(){var e=(0,r.Z)((0,s.Z)().mark((function e(){var t,n,i,l,r,o,c,u,d,f,m,v,h,x,g,j;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(J),c={acc_id:D,sol_title:null===J||void 0===J||null===(t=J.basics)||void 0===t?void 0:t.solTitle,sol_desc:null===J||void 0===J||null===(n=J.basics)||void 0===n?void 0:n.solDesc,sol_keywords:null===J||void 0===J||null===(i=J.basics)||void 0===i?void 0:i.solKeywords,sol_text_banner:null===J||void 0===J||null===(l=J.basics)||void 0===l?void 0:l.solTextBanner,sol_img_url:null===J||void 0===J||null===(r=J.basics)||void 0===r?void 0:r.imageFile,sol_geo_tag:"",sol_thumbnail:"Sample1.jpg",sol_status:"ACTIVE",dgl_rel_prod_cat_ids:[{rel_prod_cat_id:null===J||void 0===J||null===(o=J.basics)||void 0===o?void 0:o.pCategory,prod_cat_status:0}],dgl_cat_sol_configs:[{sol_config_title:"SolConfig3",sol_config_details:"json string3"}]},[],u=J.solCreate,d=[],f=(0,a.Z)(u.initialValues);try{for(f.s();!(m=f.n()).done;){v=m.value,h=(0,a.Z)(v.solItems);try{for(h.s();!(x=h.n()).done;)g=x.value,j={sol_display_item_var_price:g.solPrice,sol_item_parent_item:"",sol_item_is_dep:null===g||void 0===g?void 0:g.isDep,is_paid_provider:!1,item:{id:v.cItemType},item_var:{id:g.solVariant}},d.push(j)}catch(s){h.e(s)}finally{h.f()}}}catch(s){f.e(s)}finally{f.f()}if(c.dgl_cat_sol_items=d,console.log(c),"EDIT"!=p){e.next=16;break}return e.next=12,(0,V.$5)(c);case 12:e.sent.data.success&&((0,y.By)("success","Updated successfully"),K("/catalouge-menu-item-view-3")),e.next=20;break;case 16:return e.next=18,(0,V.Av)(c);case 18:e.sent.data.success&&((0,y.By)("success","Created successfully"),K("/catalouge-menu-item-view-3"));case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){return W(q-1)};return(0,m.jsxs)("div",{children:[(0,m.jsx)(U.Z,{list:Z}),(0,m.jsxs)(c.Rg,{current:q,children:[(0,m.jsx)(c.Rg.Item,{title:"BASIC DETAILS"}),(0,m.jsx)(c.Rg.Item,{title:"CREATE SOLUTION"}),(0,m.jsx)(c.Rg.Item,{title:"CONFIG SOLUTION"}),(0,m.jsx)(c.Rg.Item,{title:"PREVIEW"})]}),(0,m.jsxs)("div",{className:"mt-6 rounded ",children:[0==q&&Object.keys(J).length&&(0,m.jsx)(_,{ref:R,solutionState:x,setSolutionState:g,step:q,setStep:B,solutionIntialValues:J,setSolutionIntialValues:z}),1==q&&Object.keys(J).length&&(0,m.jsx)(M,{ref:G,solutionCreate:I,setSolutionCreate:C,solutionState:x,setSolutionState:g,solutionIntialValues:J,setSolutionIntialValues:z,step:q,setStep:B}),2==q&&Object.keys(J).length&&(0,m.jsx)(A,{}),3==q&&Object.keys(J).length&&(0,m.jsx)(T,{solutionIntialValues:J,solutionState:x,step:q,setStep:B})]}),(0,m.jsxs)("div",{className:"flex justify-between mt-12",children:[(0,m.jsx)("div",{children:q>0&&(0,m.jsx)(c.zx,{className:"mx-2   ",style:(n={backgroundColor:"#4D4D4D",fontStyle:"normal",fontSize:500},(0,l.Z)(n,"fontSize","18px"),(0,l.Z)(n,"color","white"),n),onClick:X,type:"button",children:"Previous"})}),(0,m.jsxs)("div",{className:"flex",children:[q>=0&&(0,m.jsx)(P.rU,{className:"block lg:inline-block md:mb-0 mb-4",to:"/catalouge-menu-item-view-3",children:(0,m.jsx)(c.zx,{className:"mx-2",onClick:X,variant:"solid",style:{backgroundColor:"#4D4D4D"},children:"Cancel"})}),q<3&&(0,m.jsx)(c.zx,{onClick:function(){var e;0==q&&(null===(e=R.current)||void 0===e||e.handleSubmitFromParent());1==q&&G.current.handleSubmitFromParent(),2==q&&W(q+1)},disabled:3===q,variant:"solid",children:3===q?"Completed":"Next"}),3===q&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(c.zx,{onClick:Y,variant:"solid",children:"Submit for Approval"})})]})]})]})};function K(){return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"mt-5",children:(0,m.jsx)(G,{})})})}},2121:function(e,t,n){n.d(t,{B2:function(){return f},FX:function(){return p},N3:function(){return j},NQ:function(){return m},Sz:function(){return u},hw:function(){return h},s7:function(){return d}});var i,l=n(4942),a=n(74165),s=n(15861),r=n(95273),o=n(56498),c=n(50726),u=(0,r.hg)("solutionsList/data/getItems",function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.NW)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=(0,r.hg)("solutionsList/data/getProductCategorys",function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.XW)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f=(0,r.hg)("solutionsList/data/getItemsByItemTypeP",function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.e)(t.catId,t.itemType);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=(0,r.hg)("solutionsList/data/getItemsByItemTypeD",function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.e)(t.catId,t.itemType);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,r.hg)("solutionsList/data/getItemsByItemTypeS",function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.e)(t.catId,t.itemType);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=(0,r.hg)("solutionsList/data/getVarientsByItem",function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.dj)(t);case 2:if("success"!==(n=e.sent).status){e.next=5;break}return e.abrupt("return",n.data.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),h=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.ZH)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=(0,r.oM)({name:"solutionsList/data",initialState:{loading:!1,ItemList:[],tableData:{total:0,pageIndex:1,pageSize:10,query:"",sort:{order:"",key:""}},templateProductList:[],itemsByItemTypeP:[],itemsByItemTypeD:[],itemsByItemTypeS:[],varients:[]},reducers:{setItemList:function(e,t){e.ItemList=t.payload},setTableData:function(e,t){e.tableData=t.payload}},extraReducers:(i={},(0,l.Z)(i,u.fulfilled,(function(e,t){e.ItemList=t.payload,e.tableData.total=t.payload.total,e.loading=!1})),(0,l.Z)(i,u.pending,(function(e){e.loading=!0})),(0,l.Z)(i,d.fulfilled,(function(e,t){var n,i;e.templateProductList=null===t||void 0===t||null===(n=t.payload)||void 0===n||null===(i=n.response)||void 0===i?void 0:i.map((function(e){return{value:e.id,label:e.prod_cat_title}})),e.loading=!1})),(0,l.Z)(i,f.fulfilled,(function(e,t){var n;e.itemsByItemTypeP=null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.response.map((function(e){return{value:e.id,label:e.title}})),e.loading=!1})),(0,l.Z)(i,p.fulfilled,(function(e,t){var n;e.itemsByItemTypeS=null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.response.map((function(e){return{value:e.id,label:e.title}})),e.loading=!1})),(0,l.Z)(i,m.fulfilled,(function(e,t){var n;e.itemsByItemTypeD=null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.response.map((function(e){return{value:e.id,label:e.title}})),e.loading=!1})),(0,l.Z)(i,v.fulfilled,(function(e,t){var n;e.varients=null===t||void 0===t||null===(n=t.payload)||void 0===n?void 0:n.response.map((function(e){return{value:e.id,label:e.item_var_title}})),e.loading=!1})),i)}),g=x.actions,j=(g.setItemList,g.setTableData);t.ZP=x.reducer}}]);
//# sourceMappingURL=7070.a537c411.chunk.js.map