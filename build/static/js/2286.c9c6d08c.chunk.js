"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[2286],{44630:function(e,r,n){var t=n(29439),a=n(72791);r.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,r=(0,a.useState)(""),n=(0,t.Z)(r,2),s=n[0],l=n[1];return(0,a.useEffect)((function(){if(s){var r=setTimeout((function(){return l("")}),e);return function(){clearTimeout(r)}}}),[s]),[s,l]}},82286:function(e,r,n){n.r(r),n.d(r,{default:function(){return C}});var t=n(72791),a=n(74165),s=n(15861),l=n(29439),i=n(7869),c=n(50662),u=n(92506),o=n(57689),d=n(11087),m=n(44630),v=n(54110),f=n(59947),x=n(67202),p=n(62797),h=n(16030),b=n(12861),y=n(37450),_=n(80184),j=p.Ry().shape({curTitle:p.Z_().trim().required("Please enter currency name").nullable(),curSymbol:p.Z_().required("Please enter currency symbol").nullable(),curConvRate:p.Z_().required("Please enter conversion rate").nullable()}),g=function(){var e,r,n={curTitle:"",curSymbol:"",curConvRate:"",oneUsd:"",acc_unq_id:""},g=(0,h.I0)(),C=(0,m.Z)(),S=(0,l.Z)(C,2),D=S[0],k=S[1],N=(0,t.useState)(),Z=(0,l.Z)(N,2),q=(Z[0],Z[1],(0,t.useRef)()),M=(0,o.TH)(),w=null!==(e=M.state)&&void 0!==e&&e.mode?M.state.mode:"ADD",T=null===(r=M.state)||void 0===r?void 0:r.data,I=(0,o.s0)(),E=(0,h.v9)((function(e){var r,n;return null===(r=e.CurrencyList)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.currAccountList})),R=(0,h.v9)((function(e){var r;return null===e||void 0===e||null===(r=e.auth)||void 0===r?void 0:r.user})),A=R.enterAccount,F=(R.password,R.rememberMe,R.usernameOrEmail,R.acc_mno_parent_unq_id,R.unq_id,R.user_type),G=(0,t.useState)(T?(0,x.C6)(n,T):n),J=(0,l.Z)(G,2),P=J[0],U=(J[1],function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r){var n,t,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={is_default:!0,cur_title:r.curTitle.trim(),md_curr_status:"ACTIVE",cur_symbol:r.curSymbol,cur_conv_rate:r.curConvRate,one_usd:r.oneUsd,unq_id:"GlobalMno"!==F?A:r.acc_unq_id},"ADD"!==w){e.next=9;break}return e.next=4,(0,f.w_)(n);case 4:"success"===(t=e.sent).status&&((0,v.By)("success","Created successfully "),I("/masterDataMenu-item-view-5")),"failed"===t.status&&k((0,v.ld)(t)),e.next=16;break;case 9:if("EDIT"!==w){e.next=16;break}return n.id=T.id,e.next=13,(0,f.a9)(n);case 13:"success"===(s=e.sent).status&&((0,v.By)("success","Updated successfully "),I("/masterDataMenu-item-view-5")),"failed"===s.status&&k((0,v.ld)(s));case 16:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}());(0,t.useEffect)((function(){g((0,b.I_)({enterAccount:A}))}),[g,A]);var z=[{name:"Master Data"},{name:"Currency",link:"/masterDataMenu-item-view-5"},{name:"Add Currency"}];return"EDIT"===w&&(z=[{name:"Master Data"},{name:"Currency",link:"/masterDataMenu-item-view-5"},{name:null===T||void 0===T?void 0:T.cur_title,link:"/masterDataMenu-item-view-5",state:T},{name:"Edit Currency"}]),(0,_.jsxs)(_.Fragment,{children:[D&&(0,_.jsx)(c.bZ,{className:"mb-4",type:"danger",showIcon:!0,children:D}),(0,_.jsx)(y.Z,{list:z}),(0,_.jsxs)("h3",{className:"mb-5",children:["EDIT"===w?"Edit ":"Create ","Currency Conversion"]}),(0,_.jsx)("div",{className:"mt-6 rounded ",children:(0,_.jsx)(u.J9,{innerRef:q,initialValues:P,validationSchema:j,onSubmit:function(e,r){(0,r.setSubmitting)(!0),U(e)},children:function(e){var r=e.values,n=e.touched,t=e.errors;e.isSubmitting;return(0,_.jsxs)(u.l0,{children:[(0,_.jsx)("div",{style:{backgroundColor:"#F5F5F5",padding:"15px",marginTop:"10px"},children:(0,_.jsx)(c.Yb,{children:(0,_.jsxs)(i.lG,{className:"h-full ",bodyClass:"h-full",children:[(0,_.jsx)("div",{className:"gap-3 mt-2 p-5",children:(0,_.jsx)("div",{className:"md:grid grid-cols-2 gap-4",children:(0,_.jsx)(c.xJ,{label:(0,_.jsxs)("p",{children:["Operator ",(0,_.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:t.acc_unq_id&&n.acc_unq_id,errorMessage:t.acc_unq_id,children:(0,_.jsx)(u.gN,{name:"acc_unq_id",validate:function(){var e=(0,s.Z)((0,a.Z)().mark((function e(r){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("GlobalMno"!==F){e.next=9;break}return e.prev=1,e.next=4,p.Z_().required("Please select operator").validate(r);case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(r){return e.apply(this,arguments)}}(),children:function(e){var n=e.field,t=e.form;return(0,_.jsx)(c.Ph,{isDisabled:"GlobalMno"!==F,placeholder:"Select Operator",field:n,form:t,options:E,value:"GlobalMno"!==F?null===E||void 0===E?void 0:E.filter((function(e){return e.acc_unq_id===A})):null===E||void 0===E?void 0:E.filter((function(e){return e.acc_unq_id===r.acc_unq_id})),onChange:function(e){return t.setFieldValue(n.name,e.acc_unq_id)}})}})})})}),(0,_.jsxs)("div",{className:" md:grid grid-cols-3 gap-4  px-5",children:[(0,_.jsx)(c.xJ,{label:(0,_.jsxs)("p",{children:["Currency Name",(0,_.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:t.curTitle&&n.curTitle,errorMessage:t.curTitle,children:(0,_.jsx)(u.gN,{type:"text",autoComplete:"off",name:"curTitle",placeholder:"Eg : INR, EUR,...",component:c.II})}),(0,_.jsx)(c.xJ,{label:(0,_.jsxs)("p",{children:["Currency Symbol",(0,_.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:t.curSymbol&&n.curSymbol,errorMessage:t.curSymbol,children:(0,_.jsx)(u.gN,{type:"text",autoComplete:"off",name:"curSymbol",placeholder:"Eg : $, \u20b9, \xa5,...",component:c.II})})]}),(0,_.jsx)("div",{className:" md:grid grid-cols-3 gap-3  px-5",children:(0,_.jsx)(c.xJ,{label:(0,_.jsxs)("p",{children:["Conversion rate",(0,_.jsx)("span",{style:{color:"red"},children:"*"})]}),invalid:t.curConvRate&&n.curConvRate,errorMessage:t.curConvRate,children:(0,_.jsx)(u.gN,{type:"text",autoComplete:"off",name:"curConvRate",placeholder:"00.00",component:c.II})})})]})})}),(0,_.jsxs)("div",{className:"mt-2 pt-4 text-right w-full flex justify-end",children:[(0,_.jsx)(d.rU,{className:"block lg:inline-block md:mb-0 mb-4",to:"/masterDataMenu-item-view-5",children:(0,_.jsx)(c.zx,{type:"Button",className:"mx-2",variant:"solid",style:{backgroundColor:"#4D4D4D",fontStyle:"normal",fontSize:"18px"},children:"Cancel"})}),(0,_.jsx)(c.zx,{variant:"solid",type:"submit",style:{fontStyle:"normal",fontSize:"18px"},children:"Submit"})]})]})}})})]})},C=function(){var e,r=(0,o.TH)();null!==(e=r.state)&&void 0!==e&&e.mode&&r.state.mode;return(0,_.jsx)("div",{className:"mt-5",children:(0,_.jsx)(g,{})})}}}]);
//# sourceMappingURL=2286.c9c6d08c.chunk.js.map