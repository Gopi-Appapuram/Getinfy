"use strict";(self.webpackChunkelstar=self.webpackChunkelstar||[]).push([[6364],{9663:function(e,t,n){n.d(t,{NW:function(){return l},TZ:function(){return u},Yi:function(){return f},aw:function(){return i},h8:function(){return x},sq:function(){return p}});var r=n(74165),a=n(15861),s=n(31114);function l(e){return o.apply(this,arguments)}function o(){return(o=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/partner/sales/dashboard",method:"post",data:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(e){return c.apply(this,arguments)}function c(){return(c=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/password-policies",method:"get",params:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return d.apply(this,arguments)}function d(){return(d=(0,a.Z)((0,r.Z)().mark((function e(t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/roles/child-roles/drop-down//".concat(t.enterAccount),method:"get"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return m.apply(this,arguments)}function m(){return(m=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=s.Z.fetchData({url:"/account/password-policies",method:"post",data:t}),e.abrupt("return",{status:"success",data:n});case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data)||e.t0.toString()});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function f(e){return h.apply(this,arguments)}function h(){return(h=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=s.Z.fetchData({url:"/account/password-policies/".concat(t.id),method:"put",data:t}),e.abrupt("return",{status:"success",data:n});case 5:return e.prev=5,e.t0=e.catch(0),e.abrupt("return",{status:"failed",message:(null===e.t0||void 0===e.t0||null===(a=e.t0.response)||void 0===a?void 0:a.data)||e.t0.toString()});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function x(e,t){return y.apply(this,arguments)}function y(){return(y=(0,a.Z)((0,r.Z)().mark((function e(t,n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.fetchData({url:"/account/password-policies?id=".concat(t,"&passStatus=").concat(n),method:"patch"}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},44630:function(e,t,n){var r=n(29439),a=n(72791);t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3,t=(0,a.useState)(""),n=(0,r.Z)(t,2),s=n[0],l=n[1];return(0,a.useEffect)((function(){if(s){var t=setTimeout((function(){return l("")}),e);return function(){clearTimeout(t)}}}),[s]),[s,l]}},26364:function(e,t,n){n.r(t);var r=n(74165),a=n(15861),s=n(29439),l=n(72791),o=n(7869),i=n(50662),c=n(92506),u=n(62797),d=n(57689),p=n(11087),m=n(16030),f=n(81994),h=n(9663),x=n(44630),y=n(54110),g=n(67202),v=n(37450),w=n(80184),b={id:"",policyName:"",roleId:"",description:"",passwordExpDays:"",minLength:"",maxLength:"",allowUpper:!1,allowLower:!1,allowNum:!1,allowSpel:!1,unSuccAttmts:"",enforcedPassHist:""},j=u.Ry().shape({roleId:u.Z_().required("Please select user role").nullable(),policyName:u.Z_().required("Please enter policy title").nullable(),passwordExpDays:u.Rx().typeError("That doesn't look like number").required("Please enter password expiration"),minLength:u.Rx().typeError("That doesn't look like number").required("Please enter min. length of password").nullable(),maxLength:u.Rx().typeError("That doesn't look like number").required("Please enter max. length of password").nullable(),unSuccAttmts:u.Rx().typeError("That doesn't look like number").required("Please enter no. of unsuccessfull attempts").nullable()}),Z=[{label:"Numbers",value:"allowNum"},{label:"Upper Case Letters",value:"allowUpper"},{label:"Lower Case Letters",value:"allowLower"},{label:"Special Characters",value:"allowSpel"}];t.default=function(){var e,t,n=(0,m.I0)(),u=(0,d.TH)(),N=(0,d.s0)(),D=(0,m.v9)((function(e){return e.auth.user})),k=D.enterAccount,I=(D.password,D.rememberMe,D.usernameOrEmail,null!==(e=u.state)&&void 0!==e&&e.mode?u.state.mode:"ADD"),L=null===(t=u.state)||void 0===t?void 0:t.data,P=(0,m.v9)((function(e){var t,n;return null===(t=e.passwordPolicy)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.usersList})),E=(0,l.useState)(L?(0,g.Db)(b,L):b),S=(0,s.Z)(E,2),C=S[0],A=(S[1],(0,x.Z)()),T=(0,s.Z)(A,2),_=T[0],M=T[1],J=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={policy_name:t.policyName,role_id:t.roleId,password_exp_days:t.passwordExpDays,pre_num_check:"",min_length:t.minLength,max_length:t.maxLength,allow_upper:t.allowUpper,allow_lower:t.allowLower,allow_num:t.allowNum,allow_spel:t.allowSpel,un_succ_attmts:t.unSuccAttmts,status:"ACTIVE"},"ADD"!==I){e.next=8;break}return e.next=4,(0,h.sq)(n);case 4:"success"===(a=e.sent).status?((0,y.By)("success","Created  successfully"),N("/settings-menu-password-policy")):"failed"===a.status&&M((0,y.ld)(a)),e.next=14;break;case 8:if("EDIT"!==I){e.next=14;break}return n.id=L.id,e.next=12,(0,h.Yi)(n);case 12:"success"===(s=e.sent).status?((0,y.By)("success","Updated  successfully"),N("/settings-menu-password-policy")):"failed"===s.status&&M((0,y.ld)(s));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){n((0,f.Jm)({enterAccount:k}))}),[n,k]);var U=[{name:"Settings"},{name:"Password Policy",link:"/settings-menu-password-policy"},{name:"Create Password Policy "}];return"EDIT"===I&&(U=[{name:"Settings"},{name:"Password Policy",link:"/settings-menu-password-policy"},{name:"Edit Password Policy "}]),(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(v.Z,{list:U}),(0,w.jsxs)("div",{className:"mt-5",children:[(0,w.jsxs)("h3",{children:["EDIT"===I?"Edit":"Add"," Password Policy"]}),_&&(0,w.jsx)(i.bZ,{className:"mb-4",type:"danger",showIcon:!0,children:_}),(0,w.jsx)(c.J9,{initialValues:C,validationSchema:j,onSubmit:function(e,t){(0,t.setSubmitting)(!0),J(e)},children:function(e){var t=e.values,n=e.touched,r=e.errors;e.isSubmitting;return(0,w.jsxs)(c.l0,{children:[(0,w.jsx)("div",{style:{backgroundColor:"#F5F5F5",padding:"15px",marginTop:"10px"},children:(0,w.jsx)(o.lG,{className:"h-full",bodyClass:"h-full",divider:!0,children:(0,w.jsx)(i.Yb,{children:(0,w.jsxs)("div",{className:"md:grid gap-4 mx-4 mt-3 pl-2",children:[(0,w.jsxs)("div",{className:"md:grid grid-cols-2 w-3/4",children:[(0,w.jsx)(i.xJ,{label:(0,w.jsxs)("p",{children:["User Role ",(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),className:" mr-6",invalid:r.roleId&&n.roleId,errorMessage:r.roleId,children:(0,w.jsx)(c.gN,{name:"roleId",children:function(e){var n=e.field,r=e.form;return(0,w.jsx)(i.Ph,{placeholder:"Select User Role",field:n,form:r,options:P,value:null===P||void 0===P?void 0:P.filter((function(e){return t.roleId===e.value})),onChange:function(e){return r.setFieldValue(n.name,e.value)}})}})}),(0,w.jsx)(i.xJ,{label:(0,w.jsxs)("p",{children:[" Policy Title ",(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),className:" ml-6",invalid:r.policyName&&n.policyName,errorMessage:r.policyName,children:(0,w.jsx)(c.gN,{type:"text",autoComplete:"off",name:"policyName",placeholder:"Enter Password Policy",component:i.II})})]}),(0,w.jsx)(i.xJ,{label:(0,w.jsx)("p",{children:"Description"}),className:"",invalid:r.description&&n.description,errorMessage:r.description,children:(0,w.jsx)(c.gN,{name:"description",children:function(e){var t=e.field,n=e.form;return(0,w.jsx)(o.LD,{value:t.value,placeholder:"Enter Text",className:"w-3/4",onChange:function(e){return n.setFieldValue(t.name,e)}})}})}),(0,w.jsx)("div",{className:"md:grid grid-cols-2",children:(0,w.jsx)(i.xJ,{label:(0,w.jsxs)("p",{children:[" Password Expires in(days) ",(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),className:"",invalid:r.passwordExpDays&&n.passwordExpDays,errorMessage:r.passwordExpDays,children:(0,w.jsx)(c.gN,{type:"text",autoComplete:"off",name:"passwordExpDays",className:"w-96",placeholder:"Enter No.of days",component:i.II})})}),(0,w.jsxs)("div",{className:"md:grid grid-cols-2 w-3/4",children:[(0,w.jsx)(i.xJ,{label:(0,w.jsxs)("p",{children:["Minimum Length ",(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),className:" mr-6",invalid:r.minLength&&n.minLength,errorMessage:r.minLength,children:(0,w.jsx)(c.gN,{type:"text",autoComplete:"off",name:"minLength",placeholder:"Enter minimum no.of characters",component:i.II})}),(0,w.jsx)(i.xJ,{label:(0,w.jsxs)("p",{children:[" Maximum Length ",(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),className:" ml-6",invalid:r.maxLength&&n.maxLength,errorMessage:r.maxLength,children:(0,w.jsx)(c.gN,{type:"text",autoComplete:"off",name:"maxLength",placeholder:"Enter maximum no.of characters",component:i.II})})]}),(0,w.jsxs)("div",{className:"pt-2 pb-4",children:[(0,w.jsx)("label",{className:" font-bold",children:"Characters to be allowed in password"}),(0,w.jsx)("div",{className:"flex gap-6 mt-4",children:Z.map((function(e,t){return(0,w.jsxs)("div",{className:"flex",children:[(0,w.jsx)(c.gN,{type:"checkbox",autoComplete:"off",name:"".concat(e.value),component:i.XZ}),(0,w.jsx)("div",{children:(0,w.jsx)("label",{children:e.label})})]})}))})]}),(0,w.jsxs)("div",{className:"md:grid grid-cols-2 w-3/4",children:[(0,w.jsx)(i.xJ,{label:(0,w.jsxs)("p",{children:["No.of unsuccessfull attempts ",(0,w.jsx)("span",{style:{color:"red"},children:"*"})]}),className:" mr-6",invalid:r.unSuccAttmts&&n.unSuccAttmts,errorMessage:r.unSuccAttmts,children:(0,w.jsx)(c.gN,{type:"text",autoComplete:"off",name:"unSuccAttmts",placeholder:"Enter No.of unsuccessfull attempts",component:i.II})}),(0,w.jsx)(i.xJ,{label:(0,w.jsx)("p",{children:" Enforce Password History"}),className:" ml-6",invalid:r.enforcedPassHist&&n.enforcedPassHist,errorMessage:r.enforcedPassHist,children:(0,w.jsx)(c.gN,{type:"text",autoComplete:"off",name:"enforcedPassHist",placeholder:"Enter maximum no.of of unique password needed",component:i.II})})]})]})})})}),(0,w.jsxs)("div",{className:"text-right pt-4 flex justify-end",children:[(0,w.jsx)(p.rU,{className:"block lg:inline-block md:mb-0 mb-4",to:"/settings-menu-password-policy",children:(0,w.jsx)(i.zx,{type:"button",className:"mx-2",onClick:"onPrevious",variant:"solid",style:{backgroundColor:"#4D4D4D"},children:"Cancel"})}),(0,w.jsx)(i.zx,{type:"submit",variant:"solid",style:{fontStyle:"normal",fontSize:"18px"},children:"Submit for Approval"})]})]})}})]})]})}},81994:function(e,t,n){n.d(t,{Jm:function(){return d},N3:function(){return f},jl:function(){return u}});var r,a=n(4942),s=n(74165),l=n(15861),o=n(95273),i=n(9663),c=(0,o.hg)("passwordPolicy/data/getItems",function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.NW)();case 2:return n=e.sent,e.abrupt("return",n.data.response);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),u=(0,o.hg)("passwordPolicy/data/getAllData",function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.aw)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=(0,o.hg)("passwordPolicy/data/getUserRoles",function(){var e=(0,l.Z)((0,s.Z)().mark((function e(t){var n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,i.TZ)(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,o.oM)({name:"passwordPolicy/data",initialState:{loading:!1,ItemList:[],tableData:{total:0,pageIndex:1,pageSize:10,query:"",sort:{Item:"",key:""}},getAllData:[],usersList:[]},reducers:{setItemList:function(e,t){e.ItemList=t.payload},setTableData:function(e,t){e.tableData=t.payload},setDocTypeData:function(e,t){e.DocTypeData=t.payload},setGetAllData:function(e,t){e.getAllData=t.payload},setUsersList:function(e,t){e.usersList=t.payload}},extraReducers:(r={},(0,a.Z)(r,c.fulfilled,(function(e,t){e.ItemList=t.payload,e.tableData.total=t.payload.total,e.loading=!1})),(0,a.Z)(r,c.pending,(function(e){e.loading=!0})),(0,a.Z)(r,u.fulfilled,(function(e,t){e.getAllData=t.payload,e.loading=!1})),(0,a.Z)(r,u.pending,(function(e){e.loading=!0})),(0,a.Z)(r,d.fulfilled,(function(e,t){var n;e.usersList=null===(n=t.payload.res)||void 0===n?void 0:n.map((function(e){return{value:e.id,label:e.name}})),e.loading=!1})),(0,a.Z)(r,d.pending,(function(e,t){e.loading=!0})),r)}),m=p.actions,f=(m.setItemList,m.setTableData);m.setGetAllData,m.setUsersList;t.ZP=p.reducer}}]);
//# sourceMappingURL=6364.bde3b89b.chunk.js.map